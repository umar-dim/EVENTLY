function jd(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zd={exports:{}},Cl={},Hd={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),z2=Symbol.for("react.portal"),H2=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),W2=Symbol.for("react.profiler"),G2=Symbol.for("react.provider"),Y2=Symbol.for("react.context"),X2=Symbol.for("react.forward_ref"),Q2=Symbol.for("react.suspense"),Z2=Symbol.for("react.memo"),K2=Symbol.for("react.lazy"),F1=Symbol.iterator;function q2(e){return e===null||typeof e!="object"?null:(e=F1&&e[F1]||e["@@iterator"],typeof e=="function"?e:null)}var Vd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wd=Object.assign,Gd={};function Co(e,t,r){this.props=e,this.context=t,this.refs=Gd,this.updater=r||Vd}Co.prototype.isReactComponent={};Co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yd(){}Yd.prototype=Co.prototype;function hf(e,t,r){this.props=e,this.context=t,this.refs=Gd,this.updater=r||Vd}var gf=hf.prototype=new Yd;gf.constructor=hf;Wd(gf,Co.prototype);gf.isPureReactComponent=!0;var U1=Array.isArray,Xd=Object.prototype.hasOwnProperty,pf={current:null},Qd={key:!0,ref:!0,__self:!0,__source:!0};function Zd(e,t,r){var s,l={},u=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)Xd.call(t,s)&&!Qd.hasOwnProperty(s)&&(l[s]=t[s]);var w=arguments.length-2;if(w===1)l.children=r;else if(1<w){for(var m=Array(w),g=0;g<w;g++)m[g]=arguments[g+2];l.children=m}if(e&&e.defaultProps)for(s in w=e.defaultProps,w)l[s]===void 0&&(l[s]=w[s]);return{$$typeof:ks,type:e,key:u,ref:h,props:l,_owner:pf.current}}function $2(e,t){return{$$typeof:ks,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ks}function J2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var j1=/\/+/g;function Cc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J2(""+e.key):t.toString(36)}function Ea(e,t,r,s,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case ks:case z2:h=!0}}if(h)return h=e,l=l(h),e=s===""?"."+Cc(h,0):s,U1(l)?(r="",e!=null&&(r=e.replace(j1,"$&/")+"/"),Ea(l,t,r,"",function(g){return g})):l!=null&&(mf(l)&&(l=$2(l,r+(!l.key||h&&h.key===l.key?"":(""+l.key).replace(j1,"$&/")+"/")+e)),t.push(l)),1;if(h=0,s=s===""?".":s+":",U1(e))for(var w=0;w<e.length;w++){u=e[w];var m=s+Cc(u,w);h+=Ea(u,t,r,m,l)}else if(m=q2(e),typeof m=="function")for(e=m.call(e),w=0;!(u=e.next()).done;)u=u.value,m=s+Cc(u,w++),h+=Ea(u,t,r,m,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function ta(e,t,r){if(e==null)return e;var s=[],l=0;return Ea(e,s,"","",function(u){return t.call(r,u,l++)}),s}function em(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},Ca={transition:null},tm={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:pf};function Kd(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:ta,forEach:function(e,t,r){ta(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ta(e,function(){t++}),t},toArray:function(e){return ta(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Co;be.Fragment=H2;be.Profiler=W2;be.PureComponent=hf;be.StrictMode=V2;be.Suspense=Q2;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;be.act=Kd;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Wd({},e.props),l=e.key,u=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=pf.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(m in t)Xd.call(t,m)&&!Qd.hasOwnProperty(m)&&(s[m]=t[m]===void 0&&w!==void 0?w[m]:t[m])}var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){w=Array(m);for(var g=0;g<m;g++)w[g]=arguments[g+2];s.children=w}return{$$typeof:ks,type:e.type,key:l,ref:u,props:s,_owner:h}};be.createContext=function(e){return e={$$typeof:Y2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:G2,_context:e},e.Consumer=e};be.createElement=Zd;be.createFactory=function(e){var t=Zd.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:X2,render:e}};be.isValidElement=mf;be.lazy=function(e){return{$$typeof:K2,_payload:{_status:-1,_result:e},_init:em}};be.memo=function(e,t){return{$$typeof:Z2,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ca.transition;Ca.transition={};try{e()}finally{Ca.transition=t}};be.unstable_act=Kd;be.useCallback=function(e,t){return $t.current.useCallback(e,t)};be.useContext=function(e){return $t.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};be.useEffect=function(e,t){return $t.current.useEffect(e,t)};be.useId=function(){return $t.current.useId()};be.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return $t.current.useMemo(e,t)};be.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};be.useRef=function(e){return $t.current.useRef(e)};be.useState=function(e){return $t.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return $t.current.useTransition()};be.version="18.3.1";Hd.exports=be;var Z=Hd.exports;const Ce=df(Z),nm=jd({__proto__:null,default:Ce},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Z,im=Symbol.for("react.element"),om=Symbol.for("react.fragment"),sm=Object.prototype.hasOwnProperty,am=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lm={key:!0,ref:!0,__self:!0,__source:!0};function qd(e,t,r){var s,l={},u=null,h=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)sm.call(t,s)&&!lm.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:im,type:e,key:u,ref:h,props:l,_owner:am.current}}Cl.Fragment=om;Cl.jsx=qd;Cl.jsxs=qd;zd.exports=Cl;var U=zd.exports,$d={exports:{}},vn={},Jd={exports:{}},eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,de){var ge=ne.length;ne.push(de);e:for(;0<ge;){var De=ge-1>>>1,Ae=ne[De];if(0<l(Ae,de))ne[De]=de,ne[ge]=Ae,ge=De;else break e}}function r(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var de=ne[0],ge=ne.pop();if(ge!==de){ne[0]=ge;e:for(var De=0,Ae=ne.length,Ge=Ae>>>1;De<Ge;){var _e=2*(De+1)-1,Nt=ne[_e],se=_e+1,en=ne[se];if(0>l(Nt,ge))se<Ae&&0>l(en,Nt)?(ne[De]=en,ne[se]=ge,De=se):(ne[De]=Nt,ne[_e]=ge,De=_e);else if(se<Ae&&0>l(en,ge))ne[De]=en,ne[se]=ge,De=se;else break e}}return de}function l(ne,de){var ge=ne.sortIndex-de.sortIndex;return ge!==0?ge:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,w=h.now();e.unstable_now=function(){return h.now()-w}}var m=[],g=[],y=1,E=null,I=3,O=!1,R=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ne){for(var de=r(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=ne)s(g),de.sortIndex=de.expirationTime,t(m,de);else break;de=r(g)}}function P(ne){if(D=!1,N(ne),!R)if(r(m)!==null)R=!0,Ne(Q);else{var de=r(g);de!==null&&ce(P,de.startTime-ne)}}function Q(ne,de){R=!1,D&&(D=!1,_(W),W=-1),O=!0;var ge=I;try{for(N(de),E=r(m);E!==null&&(!(E.expirationTime>de)||ne&&!he());){var De=E.callback;if(typeof De=="function"){E.callback=null,I=E.priorityLevel;var Ae=De(E.expirationTime<=de);de=e.unstable_now(),typeof Ae=="function"?E.callback=Ae:E===r(m)&&s(m),N(de)}else s(m);E=r(m)}if(E!==null)var Ge=!0;else{var _e=r(g);_e!==null&&ce(P,_e.startTime-de),Ge=!1}return Ge}finally{E=null,I=ge,O=!1}}var K=!1,F=null,W=-1,V=5,oe=-1;function he(){return!(e.unstable_now()-oe<V)}function ie(){if(F!==null){var ne=e.unstable_now();oe=ne;var de=!0;try{de=F(!0,ne)}finally{de?xe():(K=!1,F=null)}}else K=!1}var xe;if(typeof T=="function")xe=function(){T(ie)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,H=we.port2;we.port1.onmessage=ie,xe=function(){H.postMessage(null)}}else xe=function(){L(ie,0)};function Ne(ne){F=ne,K||(K=!0,xe())}function ce(ne,de){W=L(function(){ne(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){R||O||(R=!0,Ne(Q))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var de=3;break;default:de=I}var ge=I;I=de;try{return ne()}finally{I=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ge=I;I=ne;try{return de()}finally{I=ge}},e.unstable_scheduleCallback=function(ne,de,ge){var De=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?De+ge:De):ge=De,ne){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ge+Ae,ne={id:y++,callback:de,priorityLevel:ne,startTime:ge,expirationTime:Ae,sortIndex:-1},ge>De?(ne.sortIndex=ge,t(g,ne),r(m)===null&&ne===r(g)&&(D?(_(W),W=-1):D=!0,ce(P,ge-De))):(ne.sortIndex=Ae,t(m,ne),R||O||(R=!0,Ne(Q))),ne},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(ne){var de=I;return function(){var ge=I;I=de;try{return ne.apply(this,arguments)}finally{I=ge}}}})(eh);Jd.exports=eh;var cm=Jd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=Z,Sn=cm;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var th=new Set,ds={};function Ri(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(ds[e]=t,e=0;e<t.length;e++)th.add(t[e])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nu=Object.prototype.hasOwnProperty,fm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z1={},H1={};function dm(e){return nu.call(H1,e)?!0:nu.call(z1,e)?!1:fm.test(e)?H1[e]=!0:(z1[e]=!0,!1)}function hm(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gm(e,t,r,s){if(t===null||typeof t>"u"||hm(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,s,l,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ft[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ft[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ft[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ft[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ft[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ft[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ft[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ft[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ft[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function wf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xf,wf);Ft[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xf,wf);Ft[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xf,wf);Ft[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ft[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ft[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function yf(e,t,r,s){var l=Ft.hasOwnProperty(t)?Ft[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gm(t,r,l,s)&&(r=null),s||l===null?dm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var vr=um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,na=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),ru=Symbol.for("react.profiler"),nh=Symbol.for("react.provider"),rh=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),iu=Symbol.for("react.suspense"),ou=Symbol.for("react.suspense_list"),Af=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),ih=Symbol.for("react.offscreen"),V1=Symbol.iterator;function zo(e){return e===null||typeof e!="object"?null:(e=V1&&e[V1]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,Ac;function Ko(e){if(Ac===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ac=t&&t[1]||""}return`
`+Ac+e}var Sc=!1;function vc(e,t){if(!e||Sc)return"";Sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var s=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){s=g}e.call(t.prototype)}else{try{throw Error()}catch(g){s=g}e()}}catch(g){if(g&&s&&typeof g.stack=="string"){for(var l=g.stack.split(`
`),u=s.stack.split(`
`),h=l.length-1,w=u.length-1;1<=h&&0<=w&&l[h]!==u[w];)w--;for(;1<=h&&0<=w;h--,w--)if(l[h]!==u[w]){if(h!==1||w!==1)do if(h--,w--,0>w||l[h]!==u[w]){var m=`
`+l[h].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=h&&0<=w);break}}}finally{Sc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ko(e):""}function pm(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=vc(e.type,!1),e;case 11:return e=vc(e.type.render,!1),e;case 1:return e=vc(e.type,!0),e;default:return""}}function su(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Xi:return"Portal";case ru:return"Profiler";case Ef:return"StrictMode";case iu:return"Suspense";case ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rh:return(e.displayName||"Context")+".Consumer";case nh:return(e._context.displayName||"Context")+".Provider";case Cf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Af:return t=e.displayName||null,t!==null?t:su(e.type)||"Memo";case Lr:t=e._payload,e=e._init;try{return su(e(t))}catch{}}return null}function mm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return su(t);case 8:return t===Ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xm(e){var t=oh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ra(e){e._valueTracker||(e._valueTracker=xm(e))}function sh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=oh(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function au(e,t){var r=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function W1(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ah(e,t){t=t.checked,t!=null&&yf(e,"checked",t,!1)}function lu(e,t){ah(e,t);var r=Jr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cu(e,t.type,r):t.hasOwnProperty("defaultValue")&&cu(e,t.type,Jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function G1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cu(e,t,r){(t!=="number"||Ba(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qo=Array.isArray;function ao(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Jr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(qo(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jr(r)}}function lh(e,t){var r=Jr(t.value),s=Jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function X1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ch(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ch(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ia,uh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ia=ia||document.createElement("div"),ia.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ia.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wm=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(e){wm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ns[t]=ns[e]})});function fh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ns.hasOwnProperty(e)&&ns[e]?(""+t).trim():t+"px"}function dh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=fh(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var ym=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function du(e,t){if(t){if(ym[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function Sf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pu=null,lo=null,co=null;function Q1(e){if(e=Fs(e)){if(typeof pu!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Tl(t),pu(e.stateNode,e.type,t))}}function hh(e){lo?co?co.push(e):co=[e]:lo=e}function gh(){if(lo){var e=lo,t=co;if(co=lo=null,Q1(e),t)for(e=0;e<t.length;e++)Q1(t[e])}}function ph(e,t){return e(t)}function mh(){}var Ic=!1;function xh(e,t,r){if(Ic)return e(t,r);Ic=!0;try{return ph(e,t,r)}finally{Ic=!1,(lo!==null||co!==null)&&(mh(),gh())}}function gs(e,t){var r=e.stateNode;if(r===null)return null;var s=Tl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var mu=!1;if(Er)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){mu=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{mu=!1}function Em(e,t,r,s,l,u,h,w,m){var g=Array.prototype.slice.call(arguments,3);try{t.apply(r,g)}catch(y){this.onError(y)}}var rs=!1,Fa=null,Ua=!1,xu=null,Cm={onError:function(e){rs=!0,Fa=e}};function Am(e,t,r,s,l,u,h,w,m){rs=!1,Fa=null,Em.apply(Cm,arguments)}function Sm(e,t,r,s,l,u,h,w,m){if(Am.apply(this,arguments),rs){if(rs){var g=Fa;rs=!1,Fa=null}else throw Error(J(198));Ua||(Ua=!0,xu=g)}}function Mi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z1(e){if(Mi(e)!==e)throw Error(J(188))}function vm(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===r)return Z1(l),e;if(u===s)return Z1(l),t;u=u.sibling}throw Error(J(188))}if(r.return!==s.return)r=l,s=u;else{for(var h=!1,w=l.child;w;){if(w===r){h=!0,r=l,s=u;break}if(w===s){h=!0,s=l,r=u;break}w=w.sibling}if(!h){for(w=u.child;w;){if(w===r){h=!0,r=u,s=l;break}if(w===s){h=!0,s=u,r=l;break}w=w.sibling}if(!h)throw Error(J(189))}}if(r.alternate!==s)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function yh(e){return e=vm(e),e!==null?Eh(e):null}function Eh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eh(e);if(t!==null)return t;e=e.sibling}return null}var Ch=Sn.unstable_scheduleCallback,K1=Sn.unstable_cancelCallback,Im=Sn.unstable_shouldYield,Tm=Sn.unstable_requestPaint,mt=Sn.unstable_now,Nm=Sn.unstable_getCurrentPriorityLevel,vf=Sn.unstable_ImmediatePriority,Ah=Sn.unstable_UserBlockingPriority,ja=Sn.unstable_NormalPriority,_m=Sn.unstable_LowPriority,Sh=Sn.unstable_IdlePriority,Al=null,ur=null;function Om(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:Mm,bm=Math.log,Rm=Math.LN2;function Mm(e){return e>>>=0,e===0?32:31-(bm(e)/Rm|0)|0}var oa=64,sa=4194304;function $o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function za(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,u=e.pingedLanes,h=r&268435455;if(h!==0){var w=h&~l;w!==0?s=$o(w):(u&=h,u!==0&&(s=$o(u)))}else h=r&~l,h!==0?s=$o(h):u!==0&&(s=$o(u));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Wn(t),l=1<<r,s|=e[r],t&=~l;return s}function Dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-Wn(u),w=1<<h,m=l[h];m===-1?(!(w&r)||w&s)&&(l[h]=Dm(w,t)):m<=t&&(e.expiredLanes|=w),u&=~w}}function wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vh(){var e=oa;return oa<<=1,!(oa&4194240)&&(oa=64),e}function Tc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ps(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=r}function km(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Wn(r),u=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~u}}function If(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Wn(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var Ve=0;function Ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Th,Tf,Nh,_h,Oh,yu=!1,aa=[],Wr=null,Gr=null,Yr=null,ps=new Map,ms=new Map,Fr=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q1(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":ps.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Vo(e,t,r,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Fs(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Bm(e,t,r,s,l){switch(t){case"focusin":return Wr=Vo(Wr,e,t,r,s,l),!0;case"dragenter":return Gr=Vo(Gr,e,t,r,s,l),!0;case"mouseover":return Yr=Vo(Yr,e,t,r,s,l),!0;case"pointerover":var u=l.pointerId;return ps.set(u,Vo(ps.get(u)||null,e,t,r,s,l)),!0;case"gotpointercapture":return u=l.pointerId,ms.set(u,Vo(ms.get(u)||null,e,t,r,s,l)),!0}return!1}function bh(e){var t=mi(e.target);if(t!==null){var r=Mi(t);if(r!==null){if(t=r.tag,t===13){if(t=wh(r),t!==null){e.blockedOn=t,Oh(e.priority,function(){Nh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);gu=s,r.target.dispatchEvent(s),gu=null}else return t=Fs(r),t!==null&&Tf(t),e.blockedOn=r,!1;t.shift()}return!0}function $1(e,t,r){Aa(e)&&r.delete(t)}function Fm(){yu=!1,Wr!==null&&Aa(Wr)&&(Wr=null),Gr!==null&&Aa(Gr)&&(Gr=null),Yr!==null&&Aa(Yr)&&(Yr=null),ps.forEach($1),ms.forEach($1)}function Wo(e,t){e.blockedOn===t&&(e.blockedOn=null,yu||(yu=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,Fm)))}function xs(e){function t(l){return Wo(l,e)}if(0<aa.length){Wo(aa[0],e);for(var r=1;r<aa.length;r++){var s=aa[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Wr!==null&&Wo(Wr,e),Gr!==null&&Wo(Gr,e),Yr!==null&&Wo(Yr,e),ps.forEach(t),ms.forEach(t),r=0;r<Fr.length;r++)s=Fr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Fr.length&&(r=Fr[0],r.blockedOn===null);)bh(r),r.blockedOn===null&&Fr.shift()}var uo=vr.ReactCurrentBatchConfig,Ha=!0;function Um(e,t,r,s){var l=Ve,u=uo.transition;uo.transition=null;try{Ve=1,Nf(e,t,r,s)}finally{Ve=l,uo.transition=u}}function jm(e,t,r,s){var l=Ve,u=uo.transition;uo.transition=null;try{Ve=4,Nf(e,t,r,s)}finally{Ve=l,uo.transition=u}}function Nf(e,t,r,s){if(Ha){var l=Eu(e,t,r,s);if(l===null)Pc(e,t,s,Va,r),q1(e,s);else if(Bm(l,e,t,r,s))s.stopPropagation();else if(q1(e,s),t&4&&-1<Pm.indexOf(e)){for(;l!==null;){var u=Fs(l);if(u!==null&&Th(u),u=Eu(e,t,r,s),u===null&&Pc(e,t,s,Va,r),u===l)break;l=u}l!==null&&s.stopPropagation()}else Pc(e,t,s,null,r)}}var Va=null;function Eu(e,t,r,s){if(Va=null,e=Sf(s),e=mi(e),e!==null)if(t=Mi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Va=e,null}function Rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nm()){case vf:return 1;case Ah:return 4;case ja:case _m:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var jr=null,_f=null,Sa=null;function Mh(){if(Sa)return Sa;var e,t=_f,r=t.length,s,l="value"in jr?jr.value:jr.textContent,u=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===l[u-s];s++);return Sa=l.slice(e,1<s?1-s:void 0)}function va(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function la(){return!0}function J1(){return!1}function In(e){function t(r,s,l,u,h){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?la:J1,this.isPropagationStopped=J1,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),t}var Ao={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Of=In(Ao),Bs=lt({},Ao,{view:0,detail:0}),zm=In(Bs),Nc,_c,Go,Sl=lt({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Go&&(Go&&e.type==="mousemove"?(Nc=e.screenX-Go.screenX,_c=e.screenY-Go.screenY):_c=Nc=0,Go=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:_c}}),e0=In(Sl),Hm=lt({},Sl,{dataTransfer:0}),Vm=In(Hm),Wm=lt({},Bs,{relatedTarget:0}),Oc=In(Wm),Gm=lt({},Ao,{animationName:0,elapsedTime:0,pseudoElement:0}),Ym=In(Gm),Xm=lt({},Ao,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qm=In(Xm),Zm=lt({},Ao,{data:0}),t0=In(Zm),Km={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$m={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$m[e])?!!t[e]:!1}function bf(){return Jm}var ex=lt({},Bs,{key:function(e){if(e.key){var t=Km[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tx=In(ex),nx=lt({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=In(nx),rx=lt({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),ix=In(rx),ox=lt({},Ao,{propertyName:0,elapsedTime:0,pseudoElement:0}),sx=In(ox),ax=lt({},Sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=In(ax),cx=[9,13,27,32],Rf=Er&&"CompositionEvent"in window,is=null;Er&&"documentMode"in document&&(is=document.documentMode);var ux=Er&&"TextEvent"in window&&!is,Dh=Er&&(!Rf||is&&8<is&&11>=is),r0=String.fromCharCode(32),i0=!1;function Lh(e,t){switch(e){case"keyup":return cx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zi=!1;function fx(e,t){switch(e){case"compositionend":return kh(t);case"keypress":return t.which!==32?null:(i0=!0,r0);case"textInput":return e=t.data,e===r0&&i0?null:e;default:return null}}function dx(e,t){if(Zi)return e==="compositionend"||!Rf&&Lh(e,t)?(e=Mh(),Sa=_f=jr=null,Zi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dh&&t.locale!=="ko"?null:t.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hx[e.type]:t==="textarea"}function Ph(e,t,r,s){hh(s),t=Wa(t,"onChange"),0<t.length&&(r=new Of("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var os=null,ws=null;function gx(e){Xh(e,0)}function vl(e){var t=$i(e);if(sh(t))return e}function px(e,t){if(e==="change")return t}var Bh=!1;if(Er){var bc;if(Er){var Rc="oninput"in document;if(!Rc){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),Rc=typeof s0.oninput=="function"}bc=Rc}else bc=!1;Bh=bc&&(!document.documentMode||9<document.documentMode)}function a0(){os&&(os.detachEvent("onpropertychange",Fh),ws=os=null)}function Fh(e){if(e.propertyName==="value"&&vl(ws)){var t=[];Ph(t,ws,e,Sf(e)),xh(gx,t)}}function mx(e,t,r){e==="focusin"?(a0(),os=t,ws=r,os.attachEvent("onpropertychange",Fh)):e==="focusout"&&a0()}function xx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vl(ws)}function wx(e,t){if(e==="click")return vl(t)}function yx(e,t){if(e==="input"||e==="change")return vl(t)}function Ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:Ex;function ys(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!nu.call(t,l)||!Xn(e[l],t[l]))return!1}return!0}function l0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c0(e,t){var r=l0(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l0(r)}}function Uh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=Ba();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ba(e.document)}return t}function Mf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cx(e){var t=jh(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uh(r.ownerDocument.documentElement,r)){if(s!==null&&Mf(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,u=Math.min(s.start,l);s=s.end===void 0?u:Math.min(s.end,l),!e.extend&&u>s&&(l=s,s=u,u=l),l=c0(r,u);var h=c0(r,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ax=Er&&"documentMode"in document&&11>=document.documentMode,Ki=null,Cu=null,ss=null,Au=!1;function u0(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Au||Ki==null||Ki!==Ba(s)||(s=Ki,"selectionStart"in s&&Mf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ss&&ys(ss,s)||(ss=s,s=Wa(Cu,"onSelect"),0<s.length&&(t=new Of("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ki)))}function ca(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qi={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},Mc={},zh={};Er&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function Il(e){if(Mc[e])return Mc[e];if(!qi[e])return e;var t=qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zh)return Mc[e]=t[r];return e}var Hh=Il("animationend"),Vh=Il("animationiteration"),Wh=Il("animationstart"),Gh=Il("transitionend"),Yh=new Map,f0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(e,t){Yh.set(e,t),Ri(t,[e])}for(var Dc=0;Dc<f0.length;Dc++){var Lc=f0[Dc],Sx=Lc.toLowerCase(),vx=Lc[0].toUpperCase()+Lc.slice(1);ni(Sx,"on"+vx)}ni(Hh,"onAnimationEnd");ni(Vh,"onAnimationIteration");ni(Wh,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(Gh,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function d0(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Sm(s,t,void 0,e),e.currentTarget=null}function Xh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var w=s[h],m=w.instance,g=w.currentTarget;if(w=w.listener,m!==u&&l.isPropagationStopped())break e;d0(l,w,g),u=m}else for(h=0;h<s.length;h++){if(w=s[h],m=w.instance,g=w.currentTarget,w=w.listener,m!==u&&l.isPropagationStopped())break e;d0(l,w,g),u=m}}}if(Ua)throw e=xu,Ua=!1,xu=null,e}function et(e,t){var r=t[Nu];r===void 0&&(r=t[Nu]=new Set);var s=e+"__bubble";r.has(s)||(Qh(t,e,2,!1),r.add(s))}function kc(e,t,r){var s=0;t&&(s|=4),Qh(r,e,s,t)}var ua="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[ua]){e[ua]=!0,th.forEach(function(r){r!=="selectionchange"&&(Ix.has(r)||kc(r,!1,e),kc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ua]||(t[ua]=!0,kc("selectionchange",!1,t))}}function Qh(e,t,r,s){switch(Rh(t)){case 1:var l=Um;break;case 4:l=jm;break;default:l=Nf}r=l.bind(null,t,r,e),l=void 0,!mu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Pc(e,t,r,s,l){var u=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var w=s.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===l||m.nodeType===8&&m.parentNode===l))return;h=h.return}for(;w!==null;){if(h=mi(w),h===null)return;if(m=h.tag,m===5||m===6){s=u=h;continue e}w=w.parentNode}}s=s.return}xh(function(){var g=u,y=Sf(r),E=[];e:{var I=Yh.get(e);if(I!==void 0){var O=Of,R=e;switch(e){case"keypress":if(va(r)===0)break e;case"keydown":case"keyup":O=tx;break;case"focusin":R="focus",O=Oc;break;case"focusout":R="blur",O=Oc;break;case"beforeblur":case"afterblur":O=Oc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=e0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=ix;break;case Hh:case Vh:case Wh:O=Ym;break;case Gh:O=sx;break;case"scroll":O=zm;break;case"wheel":O=lx;break;case"copy":case"cut":case"paste":O=Qm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=n0}var D=(t&4)!==0,L=!D&&e==="scroll",_=D?I!==null?I+"Capture":null:I;D=[];for(var T=g,N;T!==null;){N=T;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,_!==null&&(P=gs(T,_),P!=null&&D.push(Cs(T,P,N)))),L)break;T=T.return}0<D.length&&(I=new O(I,R,null,r,y),E.push({event:I,listeners:D}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",O=e==="mouseout"||e==="pointerout",I&&r!==gu&&(R=r.relatedTarget||r.fromElement)&&(mi(R)||R[Cr]))break e;if((O||I)&&(I=y.window===y?y:(I=y.ownerDocument)?I.defaultView||I.parentWindow:window,O?(R=r.relatedTarget||r.toElement,O=g,R=R?mi(R):null,R!==null&&(L=Mi(R),R!==L||R.tag!==5&&R.tag!==6)&&(R=null)):(O=null,R=g),O!==R)){if(D=e0,P="onMouseLeave",_="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(D=n0,P="onPointerLeave",_="onPointerEnter",T="pointer"),L=O==null?I:$i(O),N=R==null?I:$i(R),I=new D(P,T+"leave",O,r,y),I.target=L,I.relatedTarget=N,P=null,mi(y)===g&&(D=new D(_,T+"enter",R,r,y),D.target=N,D.relatedTarget=L,P=D),L=P,O&&R)t:{for(D=O,_=R,T=0,N=D;N;N=Gi(N))T++;for(N=0,P=_;P;P=Gi(P))N++;for(;0<T-N;)D=Gi(D),T--;for(;0<N-T;)_=Gi(_),N--;for(;T--;){if(D===_||_!==null&&D===_.alternate)break t;D=Gi(D),_=Gi(_)}D=null}else D=null;O!==null&&h0(E,I,O,D,!1),R!==null&&L!==null&&h0(E,L,R,D,!0)}}e:{if(I=g?$i(g):window,O=I.nodeName&&I.nodeName.toLowerCase(),O==="select"||O==="input"&&I.type==="file")var Q=px;else if(o0(I))if(Bh)Q=yx;else{Q=xx;var K=mx}else(O=I.nodeName)&&O.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(Q=wx);if(Q&&(Q=Q(e,g))){Ph(E,Q,r,y);break e}K&&K(e,I,g),e==="focusout"&&(K=I._wrapperState)&&K.controlled&&I.type==="number"&&cu(I,"number",I.value)}switch(K=g?$i(g):window,e){case"focusin":(o0(K)||K.contentEditable==="true")&&(Ki=K,Cu=g,ss=null);break;case"focusout":ss=Cu=Ki=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,u0(E,r,y);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":u0(E,r,y)}var F;if(Rf)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else Zi?Lh(e,r)&&(W="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(W="onCompositionStart");W&&(Dh&&r.locale!=="ko"&&(Zi||W!=="onCompositionStart"?W==="onCompositionEnd"&&Zi&&(F=Mh()):(jr=y,_f="value"in jr?jr.value:jr.textContent,Zi=!0)),K=Wa(g,W),0<K.length&&(W=new t0(W,e,null,r,y),E.push({event:W,listeners:K}),F?W.data=F:(F=kh(r),F!==null&&(W.data=F)))),(F=ux?fx(e,r):dx(e,r))&&(g=Wa(g,"onBeforeInput"),0<g.length&&(y=new t0("onBeforeInput","beforeinput",null,r,y),E.push({event:y,listeners:g}),y.data=F))}Xh(E,t)})}function Cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wa(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=gs(e,r),u!=null&&s.unshift(Cs(e,u,l)),u=gs(e,t),u!=null&&s.push(Cs(e,u,l))),e=e.return}return s}function Gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function h0(e,t,r,s,l){for(var u=t._reactName,h=[];r!==null&&r!==s;){var w=r,m=w.alternate,g=w.stateNode;if(m!==null&&m===s)break;w.tag===5&&g!==null&&(w=g,l?(m=gs(r,u),m!=null&&h.unshift(Cs(r,m,w))):l||(m=gs(r,u),m!=null&&h.push(Cs(r,m,w)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var Tx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function g0(e){return(typeof e=="string"?e:""+e).replace(Tx,`
`).replace(Nx,"")}function fa(e,t,r){if(t=g0(t),g0(e)!==t&&r)throw Error(J(425))}function Ga(){}var Su=null,vu=null;function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tu=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,p0=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof p0<"u"?function(e){return p0.resolve(null).then(e).catch(bx)}:Tu;function bx(e){setTimeout(function(){throw e})}function Bc(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),xs(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);xs(t)}function Xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function m0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var So=Math.random().toString(36).slice(2),lr="__reactFiber$"+So,As="__reactProps$"+So,Cr="__reactContainer$"+So,Nu="__reactEvents$"+So,Rx="__reactListeners$"+So,Mx="__reactHandles$"+So;function mi(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cr]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=m0(e);e!==null;){if(r=e[lr])return r;e=m0(e)}return t}e=r,r=e.parentNode}return null}function Fs(e){return e=e[lr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Tl(e){return e[As]||null}var _u=[],Ji=-1;function ri(e){return{current:e}}function nt(e){0>Ji||(e.current=_u[Ji],_u[Ji]=null,Ji--)}function $e(e,t){Ji++,_u[Ji]=e.current,e.current=t}var ei={},Yt=ri(ei),fn=ri(!1),vi=ei;function po(e,t){var r=e.type.contextTypes;if(!r)return ei;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in r)l[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function dn(e){return e=e.childContextTypes,e!=null}function Ya(){nt(fn),nt(Yt)}function x0(e,t,r){if(Yt.current!==ei)throw Error(J(168));$e(Yt,t),$e(fn,r)}function Zh(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(J(108,mm(e)||"Unknown",l));return lt({},r,s)}function Xa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ei,vi=Yt.current,$e(Yt,e),$e(fn,fn.current),!0}function w0(e,t,r){var s=e.stateNode;if(!s)throw Error(J(169));r?(e=Zh(e,t,vi),s.__reactInternalMemoizedMergedChildContext=e,nt(fn),nt(Yt),$e(Yt,e)):nt(fn),$e(fn,r)}var pr=null,Nl=!1,Fc=!1;function Kh(e){pr===null?pr=[e]:pr.push(e)}function Dx(e){Nl=!0,Kh(e)}function ii(){if(!Fc&&pr!==null){Fc=!0;var e=0,t=Ve;try{var r=pr;for(Ve=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}pr=null,Nl=!1}catch(l){throw pr!==null&&(pr=pr.slice(e+1)),Ch(vf,ii),l}finally{Ve=t,Fc=!1}}return null}var eo=[],to=0,Qa=null,Za=0,bn=[],Rn=0,Ii=null,mr=1,xr="";function gi(e,t){eo[to++]=Za,eo[to++]=Qa,Qa=e,Za=t}function qh(e,t,r){bn[Rn++]=mr,bn[Rn++]=xr,bn[Rn++]=Ii,Ii=e;var s=mr;e=xr;var l=32-Wn(s)-1;s&=~(1<<l),r+=1;var u=32-Wn(t)+l;if(30<u){var h=l-l%5;u=(s&(1<<h)-1).toString(32),s>>=h,l-=h,mr=1<<32-Wn(t)+l|r<<l|s,xr=u+e}else mr=1<<u|r<<l|s,xr=e}function Df(e){e.return!==null&&(gi(e,1),qh(e,1,0))}function Lf(e){for(;e===Qa;)Qa=eo[--to],eo[to]=null,Za=eo[--to],eo[to]=null;for(;e===Ii;)Ii=bn[--Rn],bn[Rn]=null,xr=bn[--Rn],bn[Rn]=null,mr=bn[--Rn],bn[Rn]=null}var Cn=null,yn=null,it=!1,Vn=null;function $h(e,t){var r=Mn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function y0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,yn=Xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ii!==null?{id:mr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Cn=e,yn=null,!0):!1;default:return!1}}function Ou(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bu(e){if(it){var t=yn;if(t){var r=t;if(!y0(e,t)){if(Ou(e))throw Error(J(418));t=Xr(r.nextSibling);var s=Cn;t&&y0(e,t)?$h(s,r):(e.flags=e.flags&-4097|2,it=!1,Cn=e)}}else{if(Ou(e))throw Error(J(418));e.flags=e.flags&-4097|2,it=!1,Cn=e}}}function E0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function da(e){if(e!==Cn)return!1;if(!it)return E0(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Iu(e.type,e.memoizedProps)),t&&(t=yn)){if(Ou(e))throw Jh(),Error(J(418));for(;t;)$h(e,t),t=Xr(t.nextSibling)}if(E0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yn=Xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=Cn?Xr(e.stateNode.nextSibling):null;return!0}function Jh(){for(var e=yn;e;)e=Xr(e.nextSibling)}function mo(){yn=Cn=null,it=!1}function kf(e){Vn===null?Vn=[e]:Vn.push(e)}var Lx=vr.ReactCurrentBatchConfig;function Yo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var s=r.stateNode}if(!s)throw Error(J(147,e));var l=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var w=l.refs;h===null?delete w[u]:w[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function ha(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C0(e){var t=e._init;return t(e._payload)}function eg(e){function t(_,T){if(e){var N=_.deletions;N===null?(_.deletions=[T],_.flags|=16):N.push(T)}}function r(_,T){if(!e)return null;for(;T!==null;)t(_,T),T=T.sibling;return null}function s(_,T){for(_=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function l(_,T){return _=qr(_,T),_.index=0,_.sibling=null,_}function u(_,T,N){return _.index=N,e?(N=_.alternate,N!==null?(N=N.index,N<T?(_.flags|=2,T):N):(_.flags|=2,T)):(_.flags|=1048576,T)}function h(_){return e&&_.alternate===null&&(_.flags|=2),_}function w(_,T,N,P){return T===null||T.tag!==6?(T=Gc(N,_.mode,P),T.return=_,T):(T=l(T,N),T.return=_,T)}function m(_,T,N,P){var Q=N.type;return Q===Qi?y(_,T,N.props.children,P,N.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Lr&&C0(Q)===T.type)?(P=l(T,N.props),P.ref=Yo(_,T,N),P.return=_,P):(P=Ra(N.type,N.key,N.props,null,_.mode,P),P.ref=Yo(_,T,N),P.return=_,P)}function g(_,T,N,P){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Yc(N,_.mode,P),T.return=_,T):(T=l(T,N.children||[]),T.return=_,T)}function y(_,T,N,P,Q){return T===null||T.tag!==7?(T=Ci(N,_.mode,P,Q),T.return=_,T):(T=l(T,N),T.return=_,T)}function E(_,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Gc(""+T,_.mode,N),T.return=_,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case na:return N=Ra(T.type,T.key,T.props,null,_.mode,N),N.ref=Yo(_,null,T),N.return=_,N;case Xi:return T=Yc(T,_.mode,N),T.return=_,T;case Lr:var P=T._init;return E(_,P(T._payload),N)}if(qo(T)||zo(T))return T=Ci(T,_.mode,N,null),T.return=_,T;ha(_,T)}return null}function I(_,T,N,P){var Q=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return Q!==null?null:w(_,T,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case na:return N.key===Q?m(_,T,N,P):null;case Xi:return N.key===Q?g(_,T,N,P):null;case Lr:return Q=N._init,I(_,T,Q(N._payload),P)}if(qo(N)||zo(N))return Q!==null?null:y(_,T,N,P,null);ha(_,N)}return null}function O(_,T,N,P,Q){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(N)||null,w(T,_,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case na:return _=_.get(P.key===null?N:P.key)||null,m(T,_,P,Q);case Xi:return _=_.get(P.key===null?N:P.key)||null,g(T,_,P,Q);case Lr:var K=P._init;return O(_,T,N,K(P._payload),Q)}if(qo(P)||zo(P))return _=_.get(N)||null,y(T,_,P,Q,null);ha(T,P)}return null}function R(_,T,N,P){for(var Q=null,K=null,F=T,W=T=0,V=null;F!==null&&W<N.length;W++){F.index>W?(V=F,F=null):V=F.sibling;var oe=I(_,F,N[W],P);if(oe===null){F===null&&(F=V);break}e&&F&&oe.alternate===null&&t(_,F),T=u(oe,T,W),K===null?Q=oe:K.sibling=oe,K=oe,F=V}if(W===N.length)return r(_,F),it&&gi(_,W),Q;if(F===null){for(;W<N.length;W++)F=E(_,N[W],P),F!==null&&(T=u(F,T,W),K===null?Q=F:K.sibling=F,K=F);return it&&gi(_,W),Q}for(F=s(_,F);W<N.length;W++)V=O(F,_,W,N[W],P),V!==null&&(e&&V.alternate!==null&&F.delete(V.key===null?W:V.key),T=u(V,T,W),K===null?Q=V:K.sibling=V,K=V);return e&&F.forEach(function(he){return t(_,he)}),it&&gi(_,W),Q}function D(_,T,N,P){var Q=zo(N);if(typeof Q!="function")throw Error(J(150));if(N=Q.call(N),N==null)throw Error(J(151));for(var K=Q=null,F=T,W=T=0,V=null,oe=N.next();F!==null&&!oe.done;W++,oe=N.next()){F.index>W?(V=F,F=null):V=F.sibling;var he=I(_,F,oe.value,P);if(he===null){F===null&&(F=V);break}e&&F&&he.alternate===null&&t(_,F),T=u(he,T,W),K===null?Q=he:K.sibling=he,K=he,F=V}if(oe.done)return r(_,F),it&&gi(_,W),Q;if(F===null){for(;!oe.done;W++,oe=N.next())oe=E(_,oe.value,P),oe!==null&&(T=u(oe,T,W),K===null?Q=oe:K.sibling=oe,K=oe);return it&&gi(_,W),Q}for(F=s(_,F);!oe.done;W++,oe=N.next())oe=O(F,_,W,oe.value,P),oe!==null&&(e&&oe.alternate!==null&&F.delete(oe.key===null?W:oe.key),T=u(oe,T,W),K===null?Q=oe:K.sibling=oe,K=oe);return e&&F.forEach(function(ie){return t(_,ie)}),it&&gi(_,W),Q}function L(_,T,N,P){if(typeof N=="object"&&N!==null&&N.type===Qi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case na:e:{for(var Q=N.key,K=T;K!==null;){if(K.key===Q){if(Q=N.type,Q===Qi){if(K.tag===7){r(_,K.sibling),T=l(K,N.props.children),T.return=_,_=T;break e}}else if(K.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Lr&&C0(Q)===K.type){r(_,K.sibling),T=l(K,N.props),T.ref=Yo(_,K,N),T.return=_,_=T;break e}r(_,K);break}else t(_,K);K=K.sibling}N.type===Qi?(T=Ci(N.props.children,_.mode,P,N.key),T.return=_,_=T):(P=Ra(N.type,N.key,N.props,null,_.mode,P),P.ref=Yo(_,T,N),P.return=_,_=P)}return h(_);case Xi:e:{for(K=N.key;T!==null;){if(T.key===K)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){r(_,T.sibling),T=l(T,N.children||[]),T.return=_,_=T;break e}else{r(_,T);break}else t(_,T);T=T.sibling}T=Yc(N,_.mode,P),T.return=_,_=T}return h(_);case Lr:return K=N._init,L(_,T,K(N._payload),P)}if(qo(N))return R(_,T,N,P);if(zo(N))return D(_,T,N,P);ha(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(r(_,T.sibling),T=l(T,N),T.return=_,_=T):(r(_,T),T=Gc(N,_.mode,P),T.return=_,_=T),h(_)):r(_,T)}return L}var xo=eg(!0),tg=eg(!1),Ka=ri(null),qa=null,no=null,Pf=null;function Bf(){Pf=no=qa=null}function Ff(e){var t=Ka.current;nt(Ka),e._currentValue=t}function Ru(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function fo(e,t){qa=e,Pf=no=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(un=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(Pf!==e)if(e={context:e,memoizedValue:t,next:null},no===null){if(qa===null)throw Error(J(308));no=e,qa.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var xi=null;function Uf(e){xi===null?xi=[e]:xi.push(e)}function ng(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Uf(t)):(r.next=l.next,l.next=r),t.interleaved=r,Ar(e,s)}function Ar(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kr=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Pe&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Ar(e,r)}return l=s.interleaved,l===null?(t.next=t,Uf(s)):(t.next=l.next,l.next=t),s.interleaved=t,Ar(e,r)}function Ia(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,If(e,r)}}function A0(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?l=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?l=u=t:u=u.next=t}else l=u=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function $a(e,t,r,s){var l=e.updateQueue;kr=!1;var u=l.firstBaseUpdate,h=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var m=w,g=m.next;m.next=null,h===null?u=g:h.next=g,h=m;var y=e.alternate;y!==null&&(y=y.updateQueue,w=y.lastBaseUpdate,w!==h&&(w===null?y.firstBaseUpdate=g:w.next=g,y.lastBaseUpdate=m))}if(u!==null){var E=l.baseState;h=0,y=g=m=null,w=u;do{var I=w.lane,O=w.eventTime;if((s&I)===I){y!==null&&(y=y.next={eventTime:O,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var R=e,D=w;switch(I=t,O=r,D.tag){case 1:if(R=D.payload,typeof R=="function"){E=R.call(O,E,I);break e}E=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=D.payload,I=typeof R=="function"?R.call(O,E,I):R,I==null)break e;E=lt({},E,I);break e;case 2:kr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[w]:I.push(w))}else O={eventTime:O,lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},y===null?(g=y=O,m=E):y=y.next=O,h|=I;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;I=w,w=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(1);if(y===null&&(m=E),l.baseState=m,l.firstBaseUpdate=g,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);Ni|=h,e.lanes=h,e.memoizedState=E}}function S0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error(J(191,l));l.call(s)}}}var Us={},fr=ri(Us),Ss=ri(Us),vs=ri(Us);function wi(e){if(e===Us)throw Error(J(174));return e}function zf(e,t){switch($e(vs,t),$e(Ss,e),$e(fr,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fu(t,e)}nt(fr),$e(fr,t)}function wo(){nt(fr),nt(Ss),nt(vs)}function ig(e){wi(vs.current);var t=wi(fr.current),r=fu(t,e.type);t!==r&&($e(Ss,e),$e(fr,r))}function Hf(e){Ss.current===e&&(nt(fr),nt(Ss))}var st=ri(0);function Ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uc=[];function Vf(){for(var e=0;e<Uc.length;e++)Uc[e]._workInProgressVersionPrimary=null;Uc.length=0}var Ta=vr.ReactCurrentDispatcher,jc=vr.ReactCurrentBatchConfig,Ti=0,at=null,It=null,bt=null,el=!1,as=!1,Is=0,kx=0;function zt(){throw Error(J(321))}function Wf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xn(e[r],t[r]))return!1;return!0}function Gf(e,t,r,s,l,u){if(Ti=u,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?Ux:jx,e=r(s,l),as){u=0;do{if(as=!1,Is=0,25<=u)throw Error(J(301));u+=1,bt=It=null,t.updateQueue=null,Ta.current=zx,e=r(s,l)}while(as)}if(Ta.current=tl,t=It!==null&&It.next!==null,Ti=0,bt=It=at=null,el=!1,t)throw Error(J(300));return e}function Yf(){var e=Is!==0;return Is=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?at.memoizedState=bt=e:bt=bt.next=e,bt}function kn(){if(It===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=bt===null?at.memoizedState:bt.next;if(t!==null)bt=t,It=e;else{if(e===null)throw Error(J(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},bt===null?at.memoizedState=bt=e:bt=bt.next=e}return bt}function Ts(e,t){return typeof t=="function"?t(e):t}function zc(e){var t=kn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var s=It,l=s.baseQueue,u=r.pending;if(u!==null){if(l!==null){var h=l.next;l.next=u.next,u.next=h}s.baseQueue=l=u,r.pending=null}if(l!==null){u=l.next,s=s.baseState;var w=h=null,m=null,g=u;do{var y=g.lane;if((Ti&y)===y)m!==null&&(m=m.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),s=g.hasEagerState?g.eagerState:e(s,g.action);else{var E={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m===null?(w=m=E,h=s):m=m.next=E,at.lanes|=y,Ni|=y}g=g.next}while(g!==null&&g!==u);m===null?h=s:m.next=w,Xn(s,t.memoizedState)||(un=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=m,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do u=l.lane,at.lanes|=u,Ni|=u,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hc(e){var t=kn(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,u=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do u=e(u,h.action),h=h.next;while(h!==l);Xn(u,t.memoizedState)||(un=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,s]}function og(){}function sg(e,t){var r=at,s=kn(),l=t(),u=!Xn(s.memoizedState,l);if(u&&(s.memoizedState=l,un=!0),s=s.queue,Xf(cg.bind(null,r,s,e),[e]),s.getSnapshot!==t||u||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Ns(9,lg.bind(null,r,s,l,t),void 0,null),Rt===null)throw Error(J(349));Ti&30||ag(r,t,l)}return l}function ag(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lg(e,t,r,s){t.value=r,t.getSnapshot=s,ug(t)&&fg(e)}function cg(e,t,r){return r(function(){ug(t)&&fg(e)})}function ug(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xn(e,r)}catch{return!0}}function fg(e){var t=Ar(e,1);t!==null&&Gn(t,e,1,-1)}function v0(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=Fx.bind(null,at,e),[t.memoizedState,e]}function Ns(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function dg(){return kn().memoizedState}function Na(e,t,r,s){var l=sr();at.flags|=e,l.memoizedState=Ns(1|t,r,void 0,s===void 0?null:s)}function _l(e,t,r,s){var l=kn();s=s===void 0?null:s;var u=void 0;if(It!==null){var h=It.memoizedState;if(u=h.destroy,s!==null&&Wf(s,h.deps)){l.memoizedState=Ns(t,r,u,s);return}}at.flags|=e,l.memoizedState=Ns(1|t,r,u,s)}function I0(e,t){return Na(8390656,8,e,t)}function Xf(e,t){return _l(2048,8,e,t)}function hg(e,t){return _l(4,2,e,t)}function gg(e,t){return _l(4,4,e,t)}function pg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mg(e,t,r){return r=r!=null?r.concat([e]):null,_l(4,4,pg.bind(null,t,e),r)}function Qf(){}function xg(e,t){var r=kn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wf(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function wg(e,t){var r=kn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wf(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function yg(e,t,r){return Ti&21?(Xn(r,t)||(r=vh(),at.lanes|=r,Ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,un=!0),e.memoizedState=r)}function Px(e,t){var r=Ve;Ve=r!==0&&4>r?r:4,e(!0);var s=jc.transition;jc.transition={};try{e(!1),t()}finally{Ve=r,jc.transition=s}}function Eg(){return kn().memoizedState}function Bx(e,t,r){var s=Kr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Cg(e))Ag(t,r);else if(r=ng(e,t,r,s),r!==null){var l=qt();Gn(r,e,s,l),Sg(r,t,s)}}function Fx(e,t,r){var s=Kr(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cg(e))Ag(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,w=u(h,r);if(l.hasEagerState=!0,l.eagerState=w,Xn(w,h)){var m=t.interleaved;m===null?(l.next=l,Uf(t)):(l.next=m.next,m.next=l),t.interleaved=l;return}}catch{}finally{}r=ng(e,t,l,s),r!==null&&(l=qt(),Gn(r,e,s,l),Sg(r,t,s))}}function Cg(e){var t=e.alternate;return e===at||t!==null&&t===at}function Ag(e,t){as=el=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sg(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,If(e,r)}}var tl={readContext:Ln,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},Ux={readContext:Ln,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:I0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Na(4194308,4,pg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Na(4194308,4,e,t)},useInsertionEffect:function(e,t){return Na(4,2,e,t)},useMemo:function(e,t){var r=sr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=sr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bx.bind(null,at,e),[s.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:v0,useDebugValue:Qf,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=v0(!1),t=e[0];return e=Px.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=at,l=sr();if(it){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),Rt===null)throw Error(J(349));Ti&30||ag(s,t,r)}l.memoizedState=r;var u={value:r,getSnapshot:t};return l.queue=u,I0(cg.bind(null,s,u,e),[e]),s.flags|=2048,Ns(9,lg.bind(null,s,u,r,t),void 0,null),r},useId:function(){var e=sr(),t=Rt.identifierPrefix;if(it){var r=xr,s=mr;r=(s&~(1<<32-Wn(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jx={readContext:Ln,useCallback:xg,useContext:Ln,useEffect:Xf,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:gg,useMemo:wg,useReducer:zc,useRef:dg,useState:function(){return zc(Ts)},useDebugValue:Qf,useDeferredValue:function(e){var t=kn();return yg(t,It.memoizedState,e)},useTransition:function(){var e=zc(Ts)[0],t=kn().memoizedState;return[e,t]},useMutableSource:og,useSyncExternalStore:sg,useId:Eg,unstable_isNewReconciler:!1},zx={readContext:Ln,useCallback:xg,useContext:Ln,useEffect:Xf,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:gg,useMemo:wg,useReducer:Hc,useRef:dg,useState:function(){return Hc(Ts)},useDebugValue:Qf,useDeferredValue:function(e){var t=kn();return It===null?t.memoizedState=e:yg(t,It.memoizedState,e)},useTransition:function(){var e=Hc(Ts)[0],t=kn().memoizedState;return[e,t]},useMutableSource:og,useSyncExternalStore:sg,useId:Eg,unstable_isNewReconciler:!1};function jn(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Mu(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:lt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ol={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=qt(),l=Kr(e),u=yr(s,l);u.payload=t,r!=null&&(u.callback=r),t=Qr(e,u,l),t!==null&&(Gn(t,e,l,s),Ia(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=qt(),l=Kr(e),u=yr(s,l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Qr(e,u,l),t!==null&&(Gn(t,e,l,s),Ia(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qt(),s=Kr(e),l=yr(r,s);l.tag=2,t!=null&&(l.callback=t),t=Qr(e,l,s),t!==null&&(Gn(t,e,s,r),Ia(t,e,s))}};function T0(e,t,r,s,l,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!ys(r,s)||!ys(l,u):!0}function vg(e,t,r){var s=!1,l=ei,u=t.contextType;return typeof u=="object"&&u!==null?u=Ln(u):(l=dn(t)?vi:Yt.current,s=t.contextTypes,u=(s=s!=null)?po(e,l):ei),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function N0(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function Du(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},jf(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=Ln(u):(u=dn(t)?vi:Yt.current,l.context=po(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Mu(e,t,u,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ol.enqueueReplaceState(l,l.state,null),$a(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t){try{var r="",s=t;do r+=pm(s),s=s.return;while(s);var l=r}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Vc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Hx=typeof WeakMap=="function"?WeakMap:Map;function Ig(e,t,r){r=yr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){rl||(rl=!0,Wu=s),Lu(e,t)},r}function Tg(e,t,r){r=yr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){Lu(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){Lu(e,t),typeof s!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function _0(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Hx;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=nw.bind(null,e,t,r),t.then(e,e))}function O0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b0(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yr(-1,1),t.tag=2,Qr(r,t,1))),r.lanes|=1),e)}var Vx=vr.ReactCurrentOwner,un=!1;function Zt(e,t,r,s){t.child=e===null?tg(t,null,r,s):xo(t,e.child,r,s)}function R0(e,t,r,s,l){r=r.render;var u=t.ref;return fo(t,l),s=Gf(e,t,r,s,u,l),r=Yf(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Sr(e,t,l)):(it&&r&&Df(t),t.flags|=1,Zt(e,t,s,l),t.child)}function M0(e,t,r,s,l){if(e===null){var u=r.type;return typeof u=="function"&&!n1(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,Ng(e,t,u,s,l)):(e=Ra(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:ys,r(h,s)&&e.ref===t.ref)return Sr(e,t,l)}return t.flags|=1,e=qr(u,s),e.ref=t.ref,e.return=t,t.child=e}function Ng(e,t,r,s,l){if(e!==null){var u=e.memoizedProps;if(ys(u,s)&&e.ref===t.ref)if(un=!1,t.pendingProps=s=u,(e.lanes&l)!==0)e.flags&131072&&(un=!0);else return t.lanes=e.lanes,Sr(e,t,l)}return ku(e,t,r,s,l)}function _g(e,t,r){var s=t.pendingProps,l=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(io,xn),xn|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(io,xn),xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:r,$e(io,xn),xn|=s}else u!==null?(s=u.baseLanes|r,t.memoizedState=null):s=r,$e(io,xn),xn|=s;return Zt(e,t,l,r),t.child}function Og(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,r,s,l){var u=dn(r)?vi:Yt.current;return u=po(t,u),fo(t,l),r=Gf(e,t,r,s,u,l),s=Yf(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Sr(e,t,l)):(it&&s&&Df(t),t.flags|=1,Zt(e,t,r,l),t.child)}function D0(e,t,r,s,l){if(dn(r)){var u=!0;Xa(t)}else u=!1;if(fo(t,l),t.stateNode===null)_a(e,t),vg(t,r,s),Du(t,r,s,l),s=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var m=h.context,g=r.contextType;typeof g=="object"&&g!==null?g=Ln(g):(g=dn(r)?vi:Yt.current,g=po(t,g));var y=r.getDerivedStateFromProps,E=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function";E||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==s||m!==g)&&N0(t,h,s,g),kr=!1;var I=t.memoizedState;h.state=I,$a(t,s,h,l),m=t.memoizedState,w!==s||I!==m||fn.current||kr?(typeof y=="function"&&(Mu(t,r,y,s),m=t.memoizedState),(w=kr||T0(t,r,w,s,I,m,g))?(E||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=m),h.props=s,h.state=m,h.context=g,s=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,rg(e,t),w=t.memoizedProps,g=t.type===t.elementType?w:jn(t.type,w),h.props=g,E=t.pendingProps,I=h.context,m=r.contextType,typeof m=="object"&&m!==null?m=Ln(m):(m=dn(r)?vi:Yt.current,m=po(t,m));var O=r.getDerivedStateFromProps;(y=typeof O=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==E||I!==m)&&N0(t,h,s,m),kr=!1,I=t.memoizedState,h.state=I,$a(t,s,h,l);var R=t.memoizedState;w!==E||I!==R||fn.current||kr?(typeof O=="function"&&(Mu(t,r,O,s),R=t.memoizedState),(g=kr||T0(t,r,g,s,I,R,m)||!1)?(y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,R,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,R,m)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=R),h.props=s,h.state=R,h.context=m,s=g):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),s=!1)}return Pu(e,t,r,s,u,l)}function Pu(e,t,r,s,l,u){Og(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&w0(t,r,!1),Sr(e,t,u);s=t.stateNode,Vx.current=t;var w=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=xo(t,e.child,null,u),t.child=xo(t,null,w,u)):Zt(e,t,w,u),t.memoizedState=s.state,l&&w0(t,r,!0),t.child}function bg(e){var t=e.stateNode;t.pendingContext?x0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x0(e,t.context,!1),zf(e,t.containerInfo)}function L0(e,t,r,s,l){return mo(),kf(l),t.flags|=256,Zt(e,t,r,s),t.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rg(e,t,r){var s=t.pendingProps,l=st.current,u=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),$e(st,l&1),e===null)return bu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Ml(h,s,0,null),e=Ci(e,s,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(r),t.memoizedState=Bu,e):Zf(t,h));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return Wx(e,t,h,s,w,l,r);if(u){u=s.fallback,h=t.mode,l=e.child,w=l.sibling;var m={mode:"hidden",children:s.children};return!(h&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=m,t.deletions=null):(s=qr(l,m),s.subtreeFlags=l.subtreeFlags&14680064),w!==null?u=qr(w,u):(u=Ci(u,h,r,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?Fu(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~r,t.memoizedState=Bu,s}return u=e.child,e=u.sibling,s=qr(u,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Zf(e,t){return t=Ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ga(e,t,r,s){return s!==null&&kf(s),xo(t,e.child,null,r),e=Zf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wx(e,t,r,s,l,u,h){if(r)return t.flags&256?(t.flags&=-257,s=Vc(Error(J(422))),ga(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,l=t.mode,s=Ml({mode:"visible",children:s.children},l,0,null),u=Ci(u,l,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,t.mode&1&&xo(t,e.child,null,h),t.child.memoizedState=Fu(h),t.memoizedState=Bu,u);if(!(t.mode&1))return ga(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var w=s.dgst;return s=w,u=Error(J(419)),s=Vc(u,s,void 0),ga(e,t,h,s)}if(w=(h&e.childLanes)!==0,un||w){if(s=Rt,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|h)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Ar(e,l),Gn(s,e,l,-1))}return t1(),s=Vc(Error(J(421))),ga(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rw.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,yn=Xr(l.nextSibling),Cn=t,it=!0,Vn=null,e!==null&&(bn[Rn++]=mr,bn[Rn++]=xr,bn[Rn++]=Ii,mr=e.id,xr=e.overflow,Ii=t),t=Zf(t,s.children),t.flags|=4096,t)}function k0(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ru(e.return,t,r)}function Wc(e,t,r,s,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=r,u.tailMode=l)}function Mg(e,t,r){var s=t.pendingProps,l=s.revealOrder,u=s.tail;if(Zt(e,t,s.children,r),s=st.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k0(e,r,t);else if(e.tag===19)k0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if($e(st,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Ja(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Wc(t,!1,l,r,u);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ja(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Wc(t,!0,r,null,u);break;case"together":Wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _a(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gx(e,t,r){switch(t.tag){case 3:bg(t),mo();break;case 5:ig(t);break;case 1:dn(t.type)&&Xa(t);break;case 4:zf(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;$e(Ka,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?($e(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?Rg(e,t,r):($e(st,st.current&1),e=Sr(e,t,r),e!==null?e.sibling:null);$e(st,st.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Mg(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),$e(st,st.current),s)break;return null;case 22:case 23:return t.lanes=0,_g(e,t,r)}return Sr(e,t,r)}var Dg,Uu,Lg,kg;Dg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Uu=function(){};Lg=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,wi(fr.current);var u=null;switch(r){case"input":l=au(e,l),s=au(e,s),u=[];break;case"select":l=lt({},l,{value:void 0}),s=lt({},s,{value:void 0}),u=[];break;case"textarea":l=uu(e,l),s=uu(e,s),u=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ga)}du(r,s);var h;r=null;for(g in l)if(!s.hasOwnProperty(g)&&l.hasOwnProperty(g)&&l[g]!=null)if(g==="style"){var w=l[g];for(h in w)w.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ds.hasOwnProperty(g)?u||(u=[]):(u=u||[]).push(g,null));for(g in s){var m=s[g];if(w=l!=null?l[g]:void 0,s.hasOwnProperty(g)&&m!==w&&(m!=null||w!=null))if(g==="style")if(w){for(h in w)!w.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in m)m.hasOwnProperty(h)&&w[h]!==m[h]&&(r||(r={}),r[h]=m[h])}else r||(u||(u=[]),u.push(g,r)),r=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,w=w?w.__html:void 0,m!=null&&w!==m&&(u=u||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ds.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&et("scroll",e),u||w===m||(u=[])):(u=u||[]).push(g,m))}r&&(u=u||[]).push("style",r);var g=u;(t.updateQueue=g)&&(t.flags|=4)}};kg=function(e,t,r,s){r!==s&&(t.flags|=4)};function Xo(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Yx(e,t,r){var s=t.pendingProps;switch(Lf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return dn(t.type)&&Ya(),Ht(t),null;case 3:return s=t.stateNode,wo(),nt(fn),nt(Yt),Vf(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(da(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Xu(Vn),Vn=null))),Uu(e,t),Ht(t),null;case 5:Hf(t);var l=wi(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Lg(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(J(166));return Ht(t),null}if(e=wi(fr.current),da(t)){s=t.stateNode,r=t.type;var u=t.memoizedProps;switch(s[lr]=t,s[As]=u,e=(t.mode&1)!==0,r){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(l=0;l<Jo.length;l++)et(Jo[l],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":W1(s,u),et("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},et("invalid",s);break;case"textarea":Y1(s,u),et("invalid",s)}du(r,u),l=null;for(var h in u)if(u.hasOwnProperty(h)){var w=u[h];h==="children"?typeof w=="string"?s.textContent!==w&&(u.suppressHydrationWarning!==!0&&fa(s.textContent,w,e),l=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(u.suppressHydrationWarning!==!0&&fa(s.textContent,w,e),l=["children",""+w]):ds.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&et("scroll",s)}switch(r){case"input":ra(s),G1(s,u,!0);break;case"textarea":ra(s),X1(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Ga)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ch(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[lr]=t,e[As]=s,Dg(e,t,!1,!1),t.stateNode=e;e:{switch(h=hu(r,s),r){case"dialog":et("cancel",e),et("close",e),l=s;break;case"iframe":case"object":case"embed":et("load",e),l=s;break;case"video":case"audio":for(l=0;l<Jo.length;l++)et(Jo[l],e);l=s;break;case"source":et("error",e),l=s;break;case"img":case"image":case"link":et("error",e),et("load",e),l=s;break;case"details":et("toggle",e),l=s;break;case"input":W1(e,s),l=au(e,s),et("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=lt({},s,{value:void 0}),et("invalid",e);break;case"textarea":Y1(e,s),l=uu(e,s),et("invalid",e);break;default:l=s}du(r,l),w=l;for(u in w)if(w.hasOwnProperty(u)){var m=w[u];u==="style"?dh(e,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&uh(e,m)):u==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&hs(e,m):typeof m=="number"&&hs(e,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ds.hasOwnProperty(u)?m!=null&&u==="onScroll"&&et("scroll",e):m!=null&&yf(e,u,m,h))}switch(r){case"input":ra(e),G1(e,s,!1);break;case"textarea":ra(e),X1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Jr(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?ao(e,!!s.multiple,u,!1):s.defaultValue!=null&&ao(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ga)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)kg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(J(166));if(r=wi(vs.current),wi(fr.current),da(t)){if(s=t.stateNode,r=t.memoizedProps,s[lr]=t,(u=s.nodeValue!==r)&&(e=Cn,e!==null))switch(e.tag){case 3:fa(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fa(s.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[lr]=t,t.stateNode=s}return Ht(t),null;case 13:if(nt(st),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&yn!==null&&t.mode&1&&!(t.flags&128))Jh(),mo(),t.flags|=98560,u=!1;else if(u=da(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(J(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(J(317));u[lr]=t}else mo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),u=!1}else Vn!==null&&(Xu(Vn),Vn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Tt===0&&(Tt=3):t1())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return wo(),Uu(e,t),e===null&&Es(t.stateNode.containerInfo),Ht(t),null;case 10:return Ff(t.type._context),Ht(t),null;case 17:return dn(t.type)&&Ya(),Ht(t),null;case 19:if(nt(st),u=t.memoizedState,u===null)return Ht(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)Xo(u,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Ja(e),h!==null){for(t.flags|=128,Xo(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)u=r,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(st,st.current&1|2),t.child}e=e.sibling}u.tail!==null&&mt()>Eo&&(t.flags|=128,s=!0,Xo(u,!1),t.lanes=4194304)}else{if(!s)if(e=Ja(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!it)return Ht(t),null}else 2*mt()-u.renderingStartTime>Eo&&r!==1073741824&&(t.flags|=128,s=!0,Xo(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(r=u.last,r!==null?r.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mt(),t.sibling=null,r=st.current,$e(st,s?r&1|2:r&1),t):(Ht(t),null);case 22:case 23:return e1(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?xn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function Xx(e,t){switch(Lf(t),t.tag){case 1:return dn(t.type)&&Ya(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wo(),nt(fn),nt(Yt),Vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hf(t),null;case 13:if(nt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));mo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(st),null;case 4:return wo(),null;case 10:return Ff(t.type._context),null;case 22:case 23:return e1(),null;case 24:return null;default:return null}}var pa=!1,Wt=!1,Qx=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){gt(e,t,s)}else r.current=null}function ju(e,t,r){try{r()}catch(s){gt(e,t,s)}}var P0=!1;function Zx(e,t){if(Su=Ha,e=jh(),Mf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,w=-1,m=-1,g=0,y=0,E=e,I=null;t:for(;;){for(var O;E!==r||l!==0&&E.nodeType!==3||(w=h+l),E!==u||s!==0&&E.nodeType!==3||(m=h+s),E.nodeType===3&&(h+=E.nodeValue.length),(O=E.firstChild)!==null;)I=E,E=O;for(;;){if(E===e)break t;if(I===r&&++g===l&&(w=h),I===u&&++y===s&&(m=h),(O=E.nextSibling)!==null)break;E=I,I=E.parentNode}E=O}r=w===-1||m===-1?null:{start:w,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(vu={focusedElem:e,selectionRange:r},Ha=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var D=R.memoizedProps,L=R.memoizedState,_=t.stateNode,T=_.getSnapshotBeforeUpdate(t.elementType===t.type?D:jn(t.type,D),L);_.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){gt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return R=P0,P0=!1,R}function ls(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&ju(t,r,u)}l=l.next}while(l!==s)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function zu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pg(e){var t=e.alternate;t!==null&&(e.alternate=null,Pg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[As],delete t[Nu],delete t[Rx],delete t[Mx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function B0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ga));else if(s!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}function Vu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vu(e,t,r),e=e.sibling;e!==null;)Vu(e,t,r),e=e.sibling}var Pt=null,zn=!1;function Mr(e,t,r){for(r=r.child;r!==null;)Fg(e,t,r),r=r.sibling}function Fg(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Al,r)}catch{}switch(r.tag){case 5:Wt||ro(r,t);case 6:var s=Pt,l=zn;Pt=null,Mr(e,t,r),Pt=s,zn=l,Pt!==null&&(zn?(e=Pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pt.removeChild(r.stateNode));break;case 18:Pt!==null&&(zn?(e=Pt,r=r.stateNode,e.nodeType===8?Bc(e.parentNode,r):e.nodeType===1&&Bc(e,r),xs(e)):Bc(Pt,r.stateNode));break;case 4:s=Pt,l=zn,Pt=r.stateNode.containerInfo,zn=!0,Mr(e,t,r),Pt=s,zn=l;break;case 0:case 11:case 14:case 15:if(!Wt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var u=l,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&ju(r,t,h),l=l.next}while(l!==s)}Mr(e,t,r);break;case 1:if(!Wt&&(ro(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(w){gt(r,t,w)}Mr(e,t,r);break;case 21:Mr(e,t,r);break;case 22:r.mode&1?(Wt=(s=Wt)||r.memoizedState!==null,Mr(e,t,r),Wt=s):Mr(e,t,r);break;default:Mr(e,t,r)}}function F0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qx),t.forEach(function(s){var l=iw.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function Un(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var u=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Pt=w.stateNode,zn=!1;break e;case 3:Pt=w.stateNode.containerInfo,zn=!0;break e;case 4:Pt=w.stateNode.containerInfo,zn=!0;break e}w=w.return}if(Pt===null)throw Error(J(160));Fg(u,h,l),Pt=null,zn=!1;var m=l.alternate;m!==null&&(m.return=null),l.return=null}catch(g){gt(l,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ug(t,e),t=t.sibling}function Ug(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Un(t,e),rr(e),s&4){try{ls(3,e,e.return),bl(3,e)}catch(D){gt(e,e.return,D)}try{ls(5,e,e.return)}catch(D){gt(e,e.return,D)}}break;case 1:Un(t,e),rr(e),s&512&&r!==null&&ro(r,r.return);break;case 5:if(Un(t,e),rr(e),s&512&&r!==null&&ro(r,r.return),e.flags&32){var l=e.stateNode;try{hs(l,"")}catch(D){gt(e,e.return,D)}}if(s&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,h=r!==null?r.memoizedProps:u,w=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{w==="input"&&u.type==="radio"&&u.name!=null&&ah(l,u),hu(w,h);var g=hu(w,u);for(h=0;h<m.length;h+=2){var y=m[h],E=m[h+1];y==="style"?dh(l,E):y==="dangerouslySetInnerHTML"?uh(l,E):y==="children"?hs(l,E):yf(l,y,E,g)}switch(w){case"input":lu(l,u);break;case"textarea":lh(l,u);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var O=u.value;O!=null?ao(l,!!u.multiple,O,!1):I!==!!u.multiple&&(u.defaultValue!=null?ao(l,!!u.multiple,u.defaultValue,!0):ao(l,!!u.multiple,u.multiple?[]:"",!1))}l[As]=u}catch(D){gt(e,e.return,D)}}break;case 6:if(Un(t,e),rr(e),s&4){if(e.stateNode===null)throw Error(J(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(D){gt(e,e.return,D)}}break;case 3:if(Un(t,e),rr(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(D){gt(e,e.return,D)}break;case 4:Un(t,e),rr(e);break;case 13:Un(t,e),rr(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||($f=mt())),s&4&&F0(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(Wt=(g=Wt)||y,Un(t,e),Wt=g):Un(t,e),rr(e),s&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(ue=e,y=e.child;y!==null;){for(E=ue=y;ue!==null;){switch(I=ue,O=I.child,I.tag){case 0:case 11:case 14:case 15:ls(4,I,I.return);break;case 1:ro(I,I.return);var R=I.stateNode;if(typeof R.componentWillUnmount=="function"){s=I,r=I.return;try{t=s,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(D){gt(s,r,D)}}break;case 5:ro(I,I.return);break;case 22:if(I.memoizedState!==null){j0(E);continue}}O!==null?(O.return=I,ue=O):j0(E)}y=y.sibling}e:for(y=null,E=e;;){if(E.tag===5){if(y===null){y=E;try{l=E.stateNode,g?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(w=E.stateNode,m=E.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,w.style.display=fh("display",h))}catch(D){gt(e,e.return,D)}}}else if(E.tag===6){if(y===null)try{E.stateNode.nodeValue=g?"":E.memoizedProps}catch(D){gt(e,e.return,D)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===e)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===e)break e;for(;E.sibling===null;){if(E.return===null||E.return===e)break e;y===E&&(y=null),E=E.return}y===E&&(y=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:Un(t,e),rr(e),s&4&&F0(e);break;case 21:break;default:Un(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bg(r)){var s=r;break e}r=r.return}throw Error(J(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(hs(l,""),s.flags&=-33);var u=B0(e);Vu(e,u,l);break;case 3:case 4:var h=s.stateNode.containerInfo,w=B0(e);Hu(e,w,h);break;default:throw Error(J(161))}}catch(m){gt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kx(e,t,r){ue=e,jg(e)}function jg(e,t,r){for(var s=(e.mode&1)!==0;ue!==null;){var l=ue,u=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||pa;if(!h){var w=l.alternate,m=w!==null&&w.memoizedState!==null||Wt;w=pa;var g=Wt;if(pa=h,(Wt=m)&&!g)for(ue=l;ue!==null;)h=ue,m=h.child,h.tag===22&&h.memoizedState!==null?z0(l):m!==null?(m.return=h,ue=m):z0(l);for(;u!==null;)ue=u,jg(u),u=u.sibling;ue=l,pa=w,Wt=g}U0(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,ue=u):U0(e)}}function U0(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||bl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Wt)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:jn(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&S0(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}S0(t,h,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var E=y.dehydrated;E!==null&&xs(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Wt||t.flags&512&&zu(t)}catch(I){gt(t,t.return,I)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function j0(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function z0(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bl(4,t)}catch(m){gt(t,r,m)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(m){gt(t,l,m)}}var u=t.return;try{zu(t)}catch(m){gt(t,u,m)}break;case 5:var h=t.return;try{zu(t)}catch(m){gt(t,h,m)}}}catch(m){gt(t,t.return,m)}if(t===e){ue=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ue=w;break}ue=t.return}}var qx=Math.ceil,nl=vr.ReactCurrentDispatcher,Kf=vr.ReactCurrentOwner,Dn=vr.ReactCurrentBatchConfig,Pe=0,Rt=null,yt=null,Bt=0,xn=0,io=ri(0),Tt=0,_s=null,Ni=0,Rl=0,qf=0,cs=null,cn=null,$f=0,Eo=1/0,gr=null,rl=!1,Wu=null,Zr=null,ma=!1,zr=null,il=0,us=0,Gu=null,Oa=-1,ba=0;function qt(){return Pe&6?mt():Oa!==-1?Oa:Oa=mt()}function Kr(e){return e.mode&1?Pe&2&&Bt!==0?Bt&-Bt:Lx.transition!==null?(ba===0&&(ba=vh()),ba):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Rh(e.type)),e):1}function Gn(e,t,r,s){if(50<us)throw us=0,Gu=null,Error(J(185));Ps(e,r,s),(!(Pe&2)||e!==Rt)&&(e===Rt&&(!(Pe&2)&&(Rl|=r),Tt===4&&Ur(e,Bt)),hn(e,s),r===1&&Pe===0&&!(t.mode&1)&&(Eo=mt()+500,Nl&&ii()))}function hn(e,t){var r=e.callbackNode;Lm(e,t);var s=za(e,e===Rt?Bt:0);if(s===0)r!==null&&K1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&K1(r),t===1)e.tag===0?Dx(H0.bind(null,e)):Kh(H0.bind(null,e)),Ox(function(){!(Pe&6)&&ii()}),r=null;else{switch(Ih(s)){case 1:r=vf;break;case 4:r=Ah;break;case 16:r=ja;break;case 536870912:r=Sh;break;default:r=ja}r=Qg(r,zg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zg(e,t){if(Oa=-1,ba=0,Pe&6)throw Error(J(327));var r=e.callbackNode;if(ho()&&e.callbackNode!==r)return null;var s=za(e,e===Rt?Bt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ol(e,s);else{t=s;var l=Pe;Pe|=2;var u=Vg();(Rt!==e||Bt!==t)&&(gr=null,Eo=mt()+500,Ei(e,t));do try{ew();break}catch(w){Hg(e,w)}while(1);Bf(),nl.current=u,Pe=l,yt!==null?t=0:(Rt=null,Bt=0,t=Tt)}if(t!==0){if(t===2&&(l=wu(e),l!==0&&(s=l,t=Yu(e,l))),t===1)throw r=_s,Ei(e,0),Ur(e,s),hn(e,mt()),r;if(t===6)Ur(e,s);else{if(l=e.current.alternate,!(s&30)&&!$x(l)&&(t=ol(e,s),t===2&&(u=wu(e),u!==0&&(s=u,t=Yu(e,u))),t===1))throw r=_s,Ei(e,0),Ur(e,s),hn(e,mt()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(J(345));case 2:pi(e,cn,gr);break;case 3:if(Ur(e,s),(s&130023424)===s&&(t=$f+500-mt(),10<t)){if(za(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){qt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Tu(pi.bind(null,e,cn,gr),t);break}pi(e,cn,gr);break;case 4:if(Ur(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-Wn(s);u=1<<h,h=t[h],h>l&&(l=h),s&=~u}if(s=l,s=mt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*qx(s/1960))-s,10<s){e.timeoutHandle=Tu(pi.bind(null,e,cn,gr),s);break}pi(e,cn,gr);break;case 5:pi(e,cn,gr);break;default:throw Error(J(329))}}}return hn(e,mt()),e.callbackNode===r?zg.bind(null,e):null}function Yu(e,t){var r=cs;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=ol(e,t),e!==2&&(t=cn,cn=r,t!==null&&Xu(t)),e}function Xu(e){cn===null?cn=e:cn.push.apply(cn,e)}function $x(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],u=l.getSnapshot;l=l.value;try{if(!Xn(u(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ur(e,t){for(t&=~qf,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wn(t),s=1<<r;e[r]=-1,t&=~s}}function H0(e){if(Pe&6)throw Error(J(327));ho();var t=za(e,0);if(!(t&1))return hn(e,mt()),null;var r=ol(e,t);if(e.tag!==0&&r===2){var s=wu(e);s!==0&&(t=s,r=Yu(e,s))}if(r===1)throw r=_s,Ei(e,0),Ur(e,t),hn(e,mt()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pi(e,cn,gr),hn(e,mt()),null}function Jf(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(Eo=mt()+500,Nl&&ii())}}function _i(e){zr!==null&&zr.tag===0&&!(Pe&6)&&ho();var t=Pe;Pe|=1;var r=Dn.transition,s=Ve;try{if(Dn.transition=null,Ve=1,e)return e()}finally{Ve=s,Dn.transition=r,Pe=t,!(Pe&6)&&ii()}}function e1(){xn=io.current,nt(io)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,_x(r)),yt!==null)for(r=yt.return;r!==null;){var s=r;switch(Lf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ya();break;case 3:wo(),nt(fn),nt(Yt),Vf();break;case 5:Hf(s);break;case 4:wo();break;case 13:nt(st);break;case 19:nt(st);break;case 10:Ff(s.type._context);break;case 22:case 23:e1()}r=r.return}if(Rt=e,yt=e=qr(e.current,null),Bt=xn=t,Tt=0,_s=null,qf=Rl=Ni=0,cn=cs=null,xi!==null){for(t=0;t<xi.length;t++)if(r=xi[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,u=r.pending;if(u!==null){var h=u.next;u.next=l,s.next=h}r.pending=s}xi=null}return e}function Hg(e,t){do{var r=yt;try{if(Bf(),Ta.current=tl,el){for(var s=at.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}el=!1}if(Ti=0,bt=It=at=null,as=!1,Is=0,Kf.current=null,r===null||r.return===null){Tt=1,_s=t,yt=null;break}e:{var u=e,h=r.return,w=r,m=t;if(t=Bt,w.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m,y=w,E=y.tag;if(!(y.mode&1)&&(E===0||E===11||E===15)){var I=y.alternate;I?(y.updateQueue=I.updateQueue,y.memoizedState=I.memoizedState,y.lanes=I.lanes):(y.updateQueue=null,y.memoizedState=null)}var O=O0(h);if(O!==null){O.flags&=-257,b0(O,h,w,u,t),O.mode&1&&_0(u,g,t),t=O,m=g;var R=t.updateQueue;if(R===null){var D=new Set;D.add(m),t.updateQueue=D}else R.add(m);break e}else{if(!(t&1)){_0(u,g,t),t1();break e}m=Error(J(426))}}else if(it&&w.mode&1){var L=O0(h);if(L!==null){!(L.flags&65536)&&(L.flags|=256),b0(L,h,w,u,t),kf(yo(m,w));break e}}u=m=yo(m,w),Tt!==4&&(Tt=2),cs===null?cs=[u]:cs.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var _=Ig(u,m,t);A0(u,_);break e;case 1:w=m;var T=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Zr===null||!Zr.has(N)))){u.flags|=65536,t&=-t,u.lanes|=t;var P=Tg(u,w,t);A0(u,P);break e}}u=u.return}while(u!==null)}Gg(r)}catch(Q){t=Q,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(1)}function Vg(){var e=nl.current;return nl.current=tl,e===null?tl:e}function t1(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||!(Ni&268435455)&&!(Rl&268435455)||Ur(Rt,Bt)}function ol(e,t){var r=Pe;Pe|=2;var s=Vg();(Rt!==e||Bt!==t)&&(gr=null,Ei(e,t));do try{Jx();break}catch(l){Hg(e,l)}while(1);if(Bf(),Pe=r,nl.current=s,yt!==null)throw Error(J(261));return Rt=null,Bt=0,Tt}function Jx(){for(;yt!==null;)Wg(yt)}function ew(){for(;yt!==null&&!Im();)Wg(yt)}function Wg(e){var t=Xg(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?Gg(e):yt=t,Kf.current=null}function Gg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Xx(r,t),r!==null){r.flags&=32767,yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,yt=null;return}}else if(r=Yx(r,t,xn),r!==null){yt=r;return}if(t=t.sibling,t!==null){yt=t;return}yt=t=e}while(t!==null);Tt===0&&(Tt=5)}function pi(e,t,r){var s=Ve,l=Dn.transition;try{Dn.transition=null,Ve=1,tw(e,t,r,s)}finally{Dn.transition=l,Ve=s}return null}function tw(e,t,r,s){do ho();while(zr!==null);if(Pe&6)throw Error(J(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(km(e,u),e===Rt&&(yt=Rt=null,Bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ma||(ma=!0,Qg(ja,function(){return ho(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=Dn.transition,Dn.transition=null;var h=Ve;Ve=1;var w=Pe;Pe|=4,Kf.current=null,Zx(e,r),Ug(r,e),Cx(vu),Ha=!!Su,vu=Su=null,e.current=r,Kx(r),Tm(),Pe=w,Ve=h,Dn.transition=u}else e.current=r;if(ma&&(ma=!1,zr=e,il=l),u=e.pendingLanes,u===0&&(Zr=null),Om(r.stateNode),hn(e,mt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(rl)throw rl=!1,e=Wu,Wu=null,e;return il&1&&e.tag!==0&&ho(),u=e.pendingLanes,u&1?e===Gu?us++:(us=0,Gu=e):us=0,ii(),null}function ho(){if(zr!==null){var e=Ih(il),t=Dn.transition,r=Ve;try{if(Dn.transition=null,Ve=16>e?16:e,zr===null)var s=!1;else{if(e=zr,zr=null,il=0,Pe&6)throw Error(J(331));var l=Pe;for(Pe|=4,ue=e.current;ue!==null;){var u=ue,h=u.child;if(ue.flags&16){var w=u.deletions;if(w!==null){for(var m=0;m<w.length;m++){var g=w[m];for(ue=g;ue!==null;){var y=ue;switch(y.tag){case 0:case 11:case 15:ls(8,y,u)}var E=y.child;if(E!==null)E.return=y,ue=E;else for(;ue!==null;){y=ue;var I=y.sibling,O=y.return;if(Pg(y),y===g){ue=null;break}if(I!==null){I.return=O,ue=I;break}ue=O}}}var R=u.alternate;if(R!==null){var D=R.child;if(D!==null){R.child=null;do{var L=D.sibling;D.sibling=null,D=L}while(D!==null)}}ue=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,ue=h;else e:for(;ue!==null;){if(u=ue,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ls(9,u,u.return)}var _=u.sibling;if(_!==null){_.return=u.return,ue=_;break e}ue=u.return}}var T=e.current;for(ue=T;ue!==null;){h=ue;var N=h.child;if(h.subtreeFlags&2064&&N!==null)N.return=h,ue=N;else e:for(h=T;ue!==null;){if(w=ue,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:bl(9,w)}}catch(Q){gt(w,w.return,Q)}if(w===h){ue=null;break e}var P=w.sibling;if(P!==null){P.return=w.return,ue=P;break e}ue=w.return}}if(Pe=l,ii(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Al,e)}catch{}s=!0}return s}finally{Ve=r,Dn.transition=t}}return!1}function V0(e,t,r){t=yo(r,t),t=Ig(e,t,1),e=Qr(e,t,1),t=qt(),e!==null&&(Ps(e,1,t),hn(e,t))}function gt(e,t,r){if(e.tag===3)V0(e,e,r);else for(;t!==null;){if(t.tag===3){V0(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Zr===null||!Zr.has(s))){e=yo(r,e),e=Tg(t,e,1),t=Qr(t,e,1),e=qt(),t!==null&&(Ps(t,1,e),hn(t,e));break}}t=t.return}}function nw(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=qt(),e.pingedLanes|=e.suspendedLanes&r,Rt===e&&(Bt&r)===r&&(Tt===4||Tt===3&&(Bt&130023424)===Bt&&500>mt()-$f?Ei(e,0):qf|=r),hn(e,t)}function Yg(e,t){t===0&&(e.mode&1?(t=sa,sa<<=1,!(sa&130023424)&&(sa=4194304)):t=1);var r=qt();e=Ar(e,t),e!==null&&(Ps(e,t,r),hn(e,r))}function rw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yg(e,r)}function iw(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(t),Yg(e,r)}var Xg;Xg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return un=!1,Gx(e,t,r);un=!!(e.flags&131072)}else un=!1,it&&t.flags&1048576&&qh(t,Za,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;_a(e,t),e=t.pendingProps;var l=po(t,Yt.current);fo(t,r),l=Gf(null,t,s,e,l,r);var u=Yf();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dn(s)?(u=!0,Xa(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,jf(t),l.updater=Ol,t.stateNode=l,l._reactInternals=t,Du(t,s,e,r),t=Pu(null,t,s,!0,u,r)):(t.tag=0,it&&u&&Df(t),Zt(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(_a(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=sw(s),e=jn(s,e),l){case 0:t=ku(null,t,s,e,r);break e;case 1:t=D0(null,t,s,e,r);break e;case 11:t=R0(null,t,s,e,r);break e;case 14:t=M0(null,t,s,jn(s.type,e),r);break e}throw Error(J(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:jn(s,l),ku(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:jn(s,l),D0(e,t,s,l,r);case 3:e:{if(bg(t),e===null)throw Error(J(387));s=t.pendingProps,u=t.memoizedState,l=u.element,rg(e,t),$a(t,s,null,r);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=yo(Error(J(423)),t),t=L0(e,t,s,r,l);break e}else if(s!==l){l=yo(Error(J(424)),t),t=L0(e,t,s,r,l);break e}else for(yn=Xr(t.stateNode.containerInfo.firstChild),Cn=t,it=!0,Vn=null,r=tg(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mo(),s===l){t=Sr(e,t,r);break e}Zt(e,t,s,r)}t=t.child}return t;case 5:return ig(t),e===null&&bu(t),s=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,h=l.children,Iu(s,l)?h=null:u!==null&&Iu(s,u)&&(t.flags|=32),Og(e,t),Zt(e,t,h,r),t.child;case 6:return e===null&&bu(t),null;case 13:return Rg(e,t,r);case 4:return zf(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=xo(t,null,s,r):Zt(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:jn(s,l),R0(e,t,s,l,r);case 7:return Zt(e,t,t.pendingProps,r),t.child;case 8:return Zt(e,t,t.pendingProps.children,r),t.child;case 12:return Zt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,u=t.memoizedProps,h=l.value,$e(Ka,s._currentValue),s._currentValue=h,u!==null)if(Xn(u.value,h)){if(u.children===l.children&&!fn.current){t=Sr(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var w=u.dependencies;if(w!==null){h=u.child;for(var m=w.firstContext;m!==null;){if(m.context===s){if(u.tag===1){m=yr(-1,r&-r),m.tag=2;var g=u.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?m.next=m:(m.next=y.next,y.next=m),g.pending=m}}u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),Ru(u.return,r,t),w.lanes|=r;break}m=m.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(J(341));h.lanes|=r,w=h.alternate,w!==null&&(w.lanes|=r),Ru(h,r,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Zt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,fo(t,r),l=Ln(l),s=s(l),t.flags|=1,Zt(e,t,s,r),t.child;case 14:return s=t.type,l=jn(s,t.pendingProps),l=jn(s.type,l),M0(e,t,s,l,r);case 15:return Ng(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:jn(s,l),_a(e,t),t.tag=1,dn(s)?(e=!0,Xa(t)):e=!1,fo(t,r),vg(t,s,l),Du(t,s,l,r),Pu(null,t,s,!0,e,r);case 19:return Mg(e,t,r);case 22:return _g(e,t,r)}throw Error(J(156,t.tag))};function Qg(e,t){return Ch(e,t)}function ow(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,r,s){return new ow(e,t,r,s)}function n1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sw(e){if(typeof e=="function")return n1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cf)return 11;if(e===Af)return 14}return 2}function qr(e,t){var r=e.alternate;return r===null?(r=Mn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ra(e,t,r,s,l,u){var h=2;if(s=e,typeof e=="function")n1(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Qi:return Ci(r.children,l,u,t);case Ef:h=8,l|=8;break;case ru:return e=Mn(12,r,t,l|2),e.elementType=ru,e.lanes=u,e;case iu:return e=Mn(13,r,t,l),e.elementType=iu,e.lanes=u,e;case ou:return e=Mn(19,r,t,l),e.elementType=ou,e.lanes=u,e;case ih:return Ml(r,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nh:h=10;break e;case rh:h=9;break e;case Cf:h=11;break e;case Af:h=14;break e;case Lr:h=16,s=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Mn(h,r,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function Ci(e,t,r,s){return e=Mn(7,e,s,t),e.lanes=r,e}function Ml(e,t,r,s){return e=Mn(22,e,s,t),e.elementType=ih,e.lanes=r,e.stateNode={isHidden:!1},e}function Gc(e,t,r){return e=Mn(6,e,null,t),e.lanes=r,e}function Yc(e,t,r){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aw(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function r1(e,t,r,s,l,u,h,w,m){return e=new aw(e,t,r,w,m),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Mn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(u),e}function lw(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Zg(e){if(!e)return ei;e=e._reactInternals;e:{if(Mi(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(dn(r))return Zh(e,r,t)}return t}function Kg(e,t,r,s,l,u,h,w,m){return e=r1(r,s,!0,e,l,u,h,w,m),e.context=Zg(null),r=e.current,s=qt(),l=Kr(r),u=yr(s,l),u.callback=t??null,Qr(r,u,l),e.current.lanes=l,Ps(e,l,s),hn(e,s),e}function Dl(e,t,r,s){var l=t.current,u=qt(),h=Kr(l);return r=Zg(r),t.context===null?t.context=r:t.pendingContext=r,t=yr(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Qr(l,t,h),e!==null&&(Gn(e,l,h,u),Ia(e,l,h)),h}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function i1(e,t){W0(e,t),(e=e.alternate)&&W0(e,t)}function cw(){return null}var qg=typeof reportError=="function"?reportError:function(e){console.error(e)};function o1(e){this._internalRoot=e}Ll.prototype.render=o1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Dl(e,t,null,null)};Ll.prototype.unmount=o1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_i(function(){Dl(null,e,null,null)}),t[Cr]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=_h();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fr.length&&t!==0&&t<Fr[r].priority;r++);Fr.splice(r,0,e),r===0&&bh(e)}};function s1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function G0(){}function uw(e,t,r,s,l){if(l){if(typeof s=="function"){var u=s;s=function(){var g=sl(h);u.call(g)}}var h=Kg(t,s,e,0,null,!1,!1,"",G0);return e._reactRootContainer=h,e[Cr]=h.current,Es(e.nodeType===8?e.parentNode:e),_i(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var w=s;s=function(){var g=sl(m);w.call(g)}}var m=r1(e,0,!1,null,null,!1,!1,"",G0);return e._reactRootContainer=m,e[Cr]=m.current,Es(e.nodeType===8?e.parentNode:e),_i(function(){Dl(t,m,r,s)}),m}function Pl(e,t,r,s,l){var u=r._reactRootContainer;if(u){var h=u;if(typeof l=="function"){var w=l;l=function(){var m=sl(h);w.call(m)}}Dl(t,h,e,l)}else h=uw(r,t,e,l,s);return sl(h)}Th=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$o(t.pendingLanes);r!==0&&(If(t,r|1),hn(t,mt()),!(Pe&6)&&(Eo=mt()+500,ii()))}break;case 13:_i(function(){var s=Ar(e,1);if(s!==null){var l=qt();Gn(s,e,1,l)}}),i1(e,1)}};Tf=function(e){if(e.tag===13){var t=Ar(e,134217728);if(t!==null){var r=qt();Gn(t,e,134217728,r)}i1(e,134217728)}};Nh=function(e){if(e.tag===13){var t=Kr(e),r=Ar(e,t);if(r!==null){var s=qt();Gn(r,e,t,s)}i1(e,t)}};_h=function(){return Ve};Oh=function(e,t){var r=Ve;try{return Ve=e,t()}finally{Ve=r}};pu=function(e,t,r){switch(t){case"input":if(lu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=Tl(s);if(!l)throw Error(J(90));sh(s),lu(s,l)}}}break;case"textarea":lh(e,r);break;case"select":t=r.value,t!=null&&ao(e,!!r.multiple,t,!1)}};ph=Jf;mh=_i;var fw={usingClientEntryPoint:!1,Events:[Fs,$i,Tl,hh,gh,Jf]},Qo={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dw={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yh(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{Al=xa.inject(dw),ur=xa}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw;vn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(t))throw Error(J(200));return lw(e,t,null,r)};vn.createRoot=function(e,t){if(!s1(e))throw Error(J(299));var r=!1,s="",l=qg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=r1(e,1,!1,null,null,r,!1,s,l),e[Cr]=t.current,Es(e.nodeType===8?e.parentNode:e),new o1(t)};vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=yh(t),e=e===null?null:e.stateNode,e};vn.flushSync=function(e){return _i(e)};vn.hydrate=function(e,t,r){if(!kl(t))throw Error(J(200));return Pl(null,e,t,!0,r)};vn.hydrateRoot=function(e,t,r){if(!s1(e))throw Error(J(405));var s=r!=null&&r.hydratedSources||null,l=!1,u="",h=qg;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=Kg(t,null,e,1,r??null,l,!1,u,h),e[Cr]=t.current,Es(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Ll(t)};vn.render=function(e,t,r){if(!kl(t))throw Error(J(200));return Pl(null,e,t,!1,r)};vn.unmountComponentAtNode=function(e){if(!kl(e))throw Error(J(40));return e._reactRootContainer?(_i(function(){Pl(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};vn.unstable_batchedUpdates=Jf;vn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!kl(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Pl(e,t,r,!1,s)};vn.version="18.3.1-next-f1338f8080-20240426";function $g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($g)}catch(e){console.error(e)}}$g(),$d.exports=vn;var Jg=$d.exports,ep,Y0=Jg;ep=Y0.createRoot,Y0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Os.apply(this,arguments)}var Hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hr||(Hr={}));const X0="popstate";function hw(e){e===void 0&&(e={});function t(s,l){let{pathname:u,search:h,hash:w}=s.location;return Qu("",{pathname:u,search:h,hash:w},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:al(l)}return pw(t,r,null,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gw(){return Math.random().toString(36).substr(2,8)}function Q0(e,t){return{usr:e.state,key:e.key,idx:t}}function Qu(e,t,r,s){return r===void 0&&(r=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?vo(t):t,{state:r,key:t&&t.key||s||gw()})}function al(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function vo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function pw(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:u=!1}=s,h=l.history,w=Hr.Pop,m=null,g=y();g==null&&(g=0,h.replaceState(Os({},h.state,{idx:g}),""));function y(){return(h.state||{idx:null}).idx}function E(){w=Hr.Pop;let L=y(),_=L==null?null:L-g;g=L,m&&m({action:w,location:D.location,delta:_})}function I(L,_){w=Hr.Push;let T=Qu(D.location,L,_);r&&r(T,L),g=y()+1;let N=Q0(T,g),P=D.createHref(T);try{h.pushState(N,"",P)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;l.location.assign(P)}u&&m&&m({action:w,location:D.location,delta:1})}function O(L,_){w=Hr.Replace;let T=Qu(D.location,L,_);r&&r(T,L),g=y();let N=Q0(T,g),P=D.createHref(T);h.replaceState(N,"",P),u&&m&&m({action:w,location:D.location,delta:0})}function R(L){let _=l.location.origin!=="null"?l.location.origin:l.location.href,T=typeof L=="string"?L:al(L);return T=T.replace(/ $/,"%20"),Et(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let D={get action(){return w},get location(){return e(l,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(X0,E),m=L,()=>{l.removeEventListener(X0,E),m=null}},createHref(L){return t(l,L)},createURL:R,encodeLocation(L){let _=R(L);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:I,replace:O,go(L){return h.go(L)}};return D}var Z0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Z0||(Z0={}));function mw(e,t,r){return r===void 0&&(r="/"),xw(e,t,r,!1)}function xw(e,t,r,s){let l=typeof t=="string"?vo(t):t,u=a1(l.pathname||"/",r);if(u==null)return null;let h=np(e);ww(h);let w=null;for(let m=0;w==null&&m<h.length;++m){let g=Ow(u);w=Nw(h[m],g,s)}return w}function np(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(u,h,w)=>{let m={relativePath:w===void 0?u.path||"":w,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Et(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let g=$r([s,m.relativePath]),y=r.concat(m);u.children&&u.children.length>0&&(Et(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),np(u.children,t,y,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Iw(g,u.index),routesMeta:y})};return e.forEach((u,h)=>{var w;if(u.path===""||!((w=u.path)!=null&&w.includes("?")))l(u,h);else for(let m of rp(u.path))l(u,h,m)}),t}function rp(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let h=rp(s.join("/")),w=[];return w.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&w.push(...h),w.map(m=>e.startsWith("/")&&m===""?"/":m)}function ww(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Tw(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const yw=/^:[\w-]+$/,Ew=3,Cw=2,Aw=1,Sw=10,vw=-2,K0=e=>e==="*";function Iw(e,t){let r=e.split("/"),s=r.length;return r.some(K0)&&(s+=vw),t&&(s+=Cw),r.filter(l=>!K0(l)).reduce((l,u)=>l+(yw.test(u)?Ew:u===""?Aw:Sw),s)}function Tw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function Nw(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,l={},u="/",h=[];for(let w=0;w<s.length;++w){let m=s[w],g=w===s.length-1,y=u==="/"?t:t.slice(u.length)||"/",E=q0({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),I=m.route;if(!E&&g&&r&&!s[s.length-1].route.index&&(E=q0({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(l,E.params),h.push({params:l,pathname:$r([u,E.pathname]),pathnameBase:Dw($r([u,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(u=$r([u,E.pathnameBase]))}return h}function q0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=_w(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),w=l.slice(1);return{params:s.reduce((g,y,E)=>{let{paramName:I,isOptional:O}=y;if(I==="*"){let D=w[E]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const R=w[E];return O&&!R?g[I]=void 0:g[I]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:e}}function _w(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),tp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,w,m)=>(s.push({paramName:w,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function Ow(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function a1(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function bw(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?vo(e):e;return{pathname:r?r.startsWith("/")?r:Rw(r,t):t,search:Lw(s),hash:kw(l)}}function Rw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Xc(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ip(e,t){let r=Mw(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function op(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=vo(e):(l=Os({},e),Et(!l.pathname||!l.pathname.includes("?"),Xc("?","pathname","search",l)),Et(!l.pathname||!l.pathname.includes("#"),Xc("#","pathname","hash",l)),Et(!l.search||!l.search.includes("#"),Xc("#","search","hash",l)));let u=e===""||l.pathname==="",h=u?"/":l.pathname,w;if(h==null)w=r;else{let E=t.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),E-=1;l.pathname=I.join("/")}w=E>=0?t[E]:"/"}let m=bw(l,w),g=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const $r=e=>e.join("/").replace(/\/\/+/g,"/"),Dw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Pw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sp=["post","put","patch","delete"];new Set(sp);const Bw=["get",...sp];new Set(Bw);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bs.apply(this,arguments)}const l1=Z.createContext(null),Fw=Z.createContext(null),Di=Z.createContext(null),Bl=Z.createContext(null),Li=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),ap=Z.createContext(null);function Uw(e,t){let{relative:r}=t===void 0?{}:t;js()||Et(!1);let{basename:s,navigator:l}=Z.useContext(Di),{hash:u,pathname:h,search:w}=cp(e,{relative:r}),m=h;return s!=="/"&&(m=h==="/"?s:$r([s,h])),l.createHref({pathname:m,search:w,hash:u})}function js(){return Z.useContext(Bl)!=null}function oi(){return js()||Et(!1),Z.useContext(Bl).location}function lp(e){Z.useContext(Di).static||Z.useLayoutEffect(e)}function si(){let{isDataRoute:e}=Z.useContext(Li);return e?$w():jw()}function jw(){js()||Et(!1);let e=Z.useContext(l1),{basename:t,future:r,navigator:s}=Z.useContext(Di),{matches:l}=Z.useContext(Li),{pathname:u}=oi(),h=JSON.stringify(ip(l,r.v7_relativeSplatPath)),w=Z.useRef(!1);return lp(()=>{w.current=!0}),Z.useCallback(function(g,y){if(y===void 0&&(y={}),!w.current)return;if(typeof g=="number"){s.go(g);return}let E=op(g,JSON.parse(h),u,y.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:$r([t,E.pathname])),(y.replace?s.replace:s.push)(E,y.state,y)},[t,s,h,u,e])}function cp(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=Z.useContext(Di),{matches:l}=Z.useContext(Li),{pathname:u}=oi(),h=JSON.stringify(ip(l,s.v7_relativeSplatPath));return Z.useMemo(()=>op(e,JSON.parse(h),u,r==="path"),[e,h,u,r])}function zw(e,t){return Hw(e,t)}function Hw(e,t,r,s){js()||Et(!1);let{navigator:l}=Z.useContext(Di),{matches:u}=Z.useContext(Li),h=u[u.length-1],w=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let g=oi(),y;if(t){var E;let L=typeof t=="string"?vo(t):t;m==="/"||(E=L.pathname)!=null&&E.startsWith(m)||Et(!1),y=L}else y=g;let I=y.pathname||"/",O=I;if(m!=="/"){let L=m.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let R=mw(e,{pathname:O}),D=Xw(R&&R.map(L=>Object.assign({},L,{params:Object.assign({},w,L.params),pathname:$r([m,l.encodeLocation?l.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:$r([m,l.encodeLocation?l.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,r,s);return t&&D?Z.createElement(Bl.Provider,{value:{location:bs({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Hr.Pop}},D):D}function Vw(){let e=qw(),t=Pw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),r?Z.createElement("pre",{style:l},r):null,u)}const Ww=Z.createElement(Vw,null);class Gw extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Z.createElement(Li.Provider,{value:this.props.routeContext},Z.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Yw(e){let{routeContext:t,match:r,children:s}=e,l=Z.useContext(l1);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),Z.createElement(Li.Provider,{value:t},s)}function Xw(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var u;if(!r)return null;if(r.errors)e=r.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,w=(l=r)==null?void 0:l.errors;if(w!=null){let y=h.findIndex(E=>E.route.id&&(w==null?void 0:w[E.route.id])!==void 0);y>=0||Et(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,g=-1;if(r&&s&&s.v7_partialHydration)for(let y=0;y<h.length;y++){let E=h[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=y),E.route.id){let{loaderData:I,errors:O}=r,R=E.route.loader&&I[E.route.id]===void 0&&(!O||O[E.route.id]===void 0);if(E.route.lazy||R){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((y,E,I)=>{let O,R=!1,D=null,L=null;r&&(O=w&&E.route.id?w[E.route.id]:void 0,D=E.route.errorElement||Ww,m&&(g<0&&I===0?(Jw("route-fallback",!1),R=!0,L=null):g===I&&(R=!0,L=E.route.hydrateFallbackElement||null)));let _=t.concat(h.slice(0,I+1)),T=()=>{let N;return O?N=D:R?N=L:E.route.Component?N=Z.createElement(E.route.Component,null):E.route.element?N=E.route.element:N=y,Z.createElement(Yw,{match:E,routeContext:{outlet:y,matches:_,isDataRoute:r!=null},children:N})};return r&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?Z.createElement(Gw,{location:r.location,revalidation:r.revalidation,component:D,error:O,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var up=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(up||{}),ll=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ll||{});function Qw(e){let t=Z.useContext(l1);return t||Et(!1),t}function Zw(e){let t=Z.useContext(Fw);return t||Et(!1),t}function Kw(e){let t=Z.useContext(Li);return t||Et(!1),t}function fp(e){let t=Kw(),r=t.matches[t.matches.length-1];return r.route.id||Et(!1),r.route.id}function qw(){var e;let t=Z.useContext(ap),r=Zw(ll.UseRouteError),s=fp(ll.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function $w(){let{router:e}=Qw(up.UseNavigateStable),t=fp(ll.UseNavigateStable),r=Z.useRef(!1);return lp(()=>{r.current=!0}),Z.useCallback(function(l,u){u===void 0&&(u={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,bs({fromRouteId:t},u)))},[e,t])}const $0={};function Jw(e,t,r){!t&&!$0[e]&&($0[e]=!0)}const J0={};function ey(e,t){J0[t]||(J0[t]=!0,console.warn(t))}const Yi=(e,t,r)=>ey(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function ty(e,t){e!=null&&e.v7_startTransition||Yi("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(e!=null&&e.v7_relativeSplatPath)&&(!t||!t.v7_relativeSplatPath)&&Yi("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||Yi("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||Yi("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||Yi("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||Yi("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function ln(e){Et(!1)}function ny(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Hr.Pop,navigator:u,static:h=!1,future:w}=e;js()&&Et(!1);let m=t.replace(/^\/*/,"/"),g=Z.useMemo(()=>({basename:m,navigator:u,static:h,future:bs({v7_relativeSplatPath:!1},w)}),[m,w,u,h]);typeof s=="string"&&(s=vo(s));let{pathname:y="/",search:E="",hash:I="",state:O=null,key:R="default"}=s,D=Z.useMemo(()=>{let L=a1(y,m);return L==null?null:{location:{pathname:L,search:E,hash:I,state:O,key:R},navigationType:l}},[m,y,E,I,O,R,l]);return D==null?null:Z.createElement(Di.Provider,{value:g},Z.createElement(Bl.Provider,{children:r,value:D}))}function ry(e){let{children:t,location:r}=e;return zw(Zu(t),r)}new Promise(()=>{});function Zu(e,t){t===void 0&&(t=[]);let r=[];return Z.Children.forEach(e,(s,l)=>{if(!Z.isValidElement(s))return;let u=[...t,l];if(s.type===Z.Fragment){r.push.apply(r,Zu(s.props.children,u));return}s.type!==ln&&Et(!1),!s.props.index||!s.props.children||Et(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Zu(s.props.children,u)),r.push(h)}),r}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ku.apply(this,arguments)}function iy(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,u;for(u=0;u<s.length;u++)l=s[u],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function oy(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sy(e,t){return e.button===0&&(!t||t==="_self")&&!oy(e)}const ay=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ly="6";try{window.__reactRouterVersion=ly}catch{}const cy="startTransition",ed=nm[cy];function uy(e){let{basename:t,children:r,future:s,window:l}=e,u=Z.useRef();u.current==null&&(u.current=hw({window:l,v5Compat:!0}));let h=u.current,[w,m]=Z.useState({action:h.action,location:h.location}),{v7_startTransition:g}=s||{},y=Z.useCallback(E=>{g&&ed?ed(()=>m(E)):m(E)},[m,g]);return Z.useLayoutEffect(()=>h.listen(y),[h,y]),Z.useEffect(()=>ty(s),[s]),Z.createElement(ny,{basename:t,children:r,location:w.location,navigationType:w.action,navigator:h,future:s})}const fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qu=Z.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:u,replace:h,state:w,target:m,to:g,preventScrollReset:y,viewTransition:E}=t,I=iy(t,ay),{basename:O}=Z.useContext(Di),R,D=!1;if(typeof g=="string"&&dy.test(g)&&(R=g,fy))try{let N=new URL(window.location.href),P=g.startsWith("//")?new URL(N.protocol+g):new URL(g),Q=a1(P.pathname,O);P.origin===N.origin&&Q!=null?g=Q+P.search+P.hash:D=!0}catch{}let L=Uw(g,{relative:l}),_=hy(g,{replace:h,state:w,target:m,preventScrollReset:y,relative:l,viewTransition:E});function T(N){s&&s(N),N.defaultPrevented||_(N)}return Z.createElement("a",Ku({},I,{href:R||L,onClick:D||u?s:T,ref:r,target:m}))});var td;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(td||(td={}));var nd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(nd||(nd={}));function hy(e,t){let{target:r,replace:s,state:l,preventScrollReset:u,relative:h,viewTransition:w}=t===void 0?{}:t,m=si(),g=oi(),y=cp(e,{relative:h});return Z.useCallback(E=>{if(sy(E,r)){E.preventDefault();let I=s!==void 0?s:al(g)===al(y);m(e,{replace:I,state:l,preventScrollReset:u,relative:h,viewTransition:w})}},[g,m,y,s,l,r,e,u,h,w])}function gy(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}=e,[l,u]=Z.useState(!1),h=Z.useRef(r);h.current=r;const w=Z.useRef(s);return w.current=s,Z.useEffect(()=>{const m=document.createElement("script");return m.src="https://accounts.google.com/gsi/client",m.async=!0,m.defer=!0,m.nonce=t,m.onload=()=>{var g;u(!0),(g=h.current)===null||g===void 0||g.call(h)},m.onerror=()=>{var g;u(!1),(g=w.current)===null||g===void 0||g.call(w)},document.body.appendChild(m),()=>{document.body.removeChild(m)}},[t]),l}const dp=Z.createContext(null);function py({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s,children:l}){const u=gy({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}),h=Z.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:u}),[e,u]);return Ce.createElement(dp.Provider,{value:h},l)}function my(){const e=Z.useContext(dp);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function xy(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const wy={large:40,medium:32,small:20};function yy({onSuccess:e,onError:t,useOneTap:r,promptMomentNotification:s,type:l="standard",theme:u="outline",size:h="large",text:w,shape:m,logo_alignment:g,width:y,locale:E,click_listener:I,containerProps:O,...R}){const D=Z.useRef(null),{clientId:L,scriptLoadedSuccessfully:_}=my(),T=Z.useRef(e);T.current=e;const N=Z.useRef(t);N.current=t;const P=Z.useRef(s);return P.current=s,Z.useEffect(()=>{var Q,K,F,W,V,oe,he,ie,xe;if(_)return(F=(K=(Q=window==null?void 0:window.google)===null||Q===void 0?void 0:Q.accounts)===null||K===void 0?void 0:K.id)===null||F===void 0||F.initialize({client_id:L,callback:we=>{var H;if(!(we!=null&&we.credential))return(H=N.current)===null||H===void 0?void 0:H.call(N);const{credential:Ne,select_by:ce}=we;T.current({credential:Ne,clientId:xy(we),select_by:ce})},...R}),(oe=(V=(W=window==null?void 0:window.google)===null||W===void 0?void 0:W.accounts)===null||V===void 0?void 0:V.id)===null||oe===void 0||oe.renderButton(D.current,{type:l,theme:u,size:h,text:w,shape:m,logo_alignment:g,width:y,locale:E,click_listener:I}),r&&((xe=(ie=(he=window==null?void 0:window.google)===null||he===void 0?void 0:he.accounts)===null||ie===void 0?void 0:ie.id)===null||xe===void 0||xe.prompt(P.current)),()=>{var we,H,Ne;r&&((Ne=(H=(we=window==null?void 0:window.google)===null||we===void 0?void 0:we.accounts)===null||H===void 0?void 0:H.id)===null||Ne===void 0||Ne.cancel())}},[L,_,r,l,u,h,w,m,g,y,E]),Ce.createElement("div",{...O,ref:D,style:{height:wy[h],...O==null?void 0:O.style}})}class es extends Error{}es.prototype.name="InvalidTokenError";function Ey(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let s=r.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function Cy(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Ey(t)}catch{return atob(t)}}function Ay(e,t){if(typeof e!="string")throw new es("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,s=e.split(".")[r];if(typeof s!="string")throw new es(`Invalid token specified: missing part #${r+1}`);let l;try{l=Cy(s)}catch(u){throw new es(`Invalid token specified: invalid base64 for part #${r+1} (${u.message})`)}try{return JSON.parse(l)}catch(u){throw new es(`Invalid token specified: invalid json for part #${r+1} (${u.message})`)}}const Sy=()=>{const[e,t]=Z.useState({email:"",password:""});function r(l){const{name:u,value:h}=l.target;t(w=>({...w,[u]:h}))}console.log(e);async function s(l){if(l.preventDefault(),e.email===""||e.password==="")alert("field is empty");else{let u=await fetch("https://www.evently.wiki/login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(u.ok)window.location.href="/Dashboard",console.log("moving");else{const h=await u.json(),w=h.error?h.error:"";console.log(w),alert(`${w}`)}}}return U.jsx(U.Fragment,{children:U.jsxs("div",{style:{backgroundColor:"#ffff"},className:" rounded-xl  w-[450px] h-[540px] shadow-md space-x-5",children:[U.jsx("div",{className:"flex items-center justify-center pt-28 rounded-sm   h-11",children:U.jsx(yy,{onSuccess:async l=>{if(l.credential){const u=Ay(l.credential),h=u.email,w=u.picture,m=u.given_name;let g=await fetch("https://www.evently.wiki/google-login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:m,email:h,profileImgUrl:w})});if(g.ok)window.location.href="https://www.evently.wiki/Dashboard";else{const y=await g.json(),E=y.error?y.error:"";console.log(E),alert(`${E}`)}}},onError:()=>{alert("Login Failed")}})}),U.jsxs("div",{className:"flex items-center justify-center mt-10 mb-2",children:[U.jsx("span",{className:"border-t border-gray-300 w-1/4"}),U.jsx("span",{className:"mx-4 text-gray-500",children:"OR"}),U.jsx("span",{className:"border-t border-gray-300 w-1/4"})]}),U.jsxs("form",{onSubmit:s,children:[U.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"email",id:"email",name:"email",placeholder:"Email",onChange:r,value:e.email}),U.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"password",name:"password",placeholder:"Password",onChange:r,value:e.password}),U.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Continue"})]})]})})},rd=()=>U.jsxs(U.Fragment,{children:[U.jsx("h1",{className:"fixed top-56 left-1/2 transform -translate-x-1/2 text-black text-xl font-bold",children:"Welcome back, User!"}),U.jsx(Sy,{}),U.jsxs("span",{className:"block -m-16  text-gray-500",children:["Don't have an account?",U.jsx(qu,{to:"/RegisterUser",id:"RouterNavLink",children:U.jsx("span",{className:"ml-2 text-blue-500 cursor-pointer hover:text-blue-700",children:"Sign Up"})})]}),U.jsx(qu,{to:"/AdminLogin",children:U.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded hover:bg-blue-700 transition duration-300",children:"Admin Login"})})]}),ai=({profileImgUrl:e,admin:t})=>{const r=si(),[s,l]=Z.useState(!1),u=()=>l(!s);async function h(){const g=await(await fetch("https://www.evently.wiki/logout",{method:"GET",credentials:"include"})).json(),y=g.error?g.error:"";console.log(y),y.length>0?(alert("Server error"),r("/UserLogin")):(console.log(g),r("/UserLogin"))}const w=U.jsxs(U.Fragment,{children:[t?U.jsx("span",{onClick:()=>r("/AdminDashboard"),className:"block py-2 px-4 cursor-pointer hover:bg-yellow-300",children:"Admin Dashboard"}):U.jsx("span",{onClick:()=>r("/rsvp"),className:"block py-2 px-4 cursor-pointer hover:bg-blue-500",children:"Rsvp Events"}),U.jsx("span",{onClick:h,className:"block py-2 px-4 cursor-pointer hover:bg-red-400",children:"Logout"})]});return U.jsxs("nav",{className:`fixed top-0 left-0 w-full ${t?"bg-yellow-400":"bg-blue-600"} text-white font-bold z-50`,children:[U.jsxs("div",{className:"max-w-screen-xl mx-auto flex items-center justify-between px-4 py-2",children:[U.jsx("h1",{onClick:()=>r(t?"/AdminDashboard":"/Dashboard"),className:"text-xl cursor-pointer",children:"Evently"}),U.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[w,U.jsx("img",{src:e,className:"h-10 w-10 rounded-full ml-4",alt:"Profile"})]}),U.jsx("button",{className:"block md:hidden focus:outline-none p-2 rounded-md bg-white",onClick:u,children:U.jsx("svg",{className:"h-8 w-8 text-black",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),s&&U.jsxs("div",{className:`md:hidden ${t?"bg-yellow-400":"bg-blue-600"} text-white`,children:[w,U.jsx("div",{className:"flex justify-center items-center py-2",children:U.jsx("img",{src:e,className:"h-16 w-16 rounded-full",alt:"Profile"})})]})]})},c1=({_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w,admin:m})=>{const g=si(),y=()=>{m?g(`/admin-event/${e}`,{state:{_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w}}):g(`/event/${e}`,{state:{_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w}})};return U.jsx(U.Fragment,{children:U.jsx("div",{className:"flex flex-col   mt-10 w- px-5  ",onClick:y,style:{cursor:"pointer"},children:U.jsxs("div",{className:"flex flex-col w-full mr-10 rounded-md border-2 text-left ",children:[U.jsx("h1",{className:"text-xl ml-3 mt-3 ",children:t}),U.jsxs("span",{className:"text-gray-300 font-bold ml-3 ",children:["Date: ",r]}),U.jsxs("span",{className:"text-left ml-3",children:["Time: ",s,U.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:" text-blue-500 cursor-pointer hover:text-blue-700",children:[" ","Official Link"]})]}),U.jsxs("span",{className:"text-left ml-3 mt-5 mb-5 inline-flex",children:[U.jsx("img",{className:"h-5 w-5",src:"https://www.svgrepo.com/show/376955/map-marker.svg"})," ","Location: ",l," "]})]})})})},vy=()=>{const[e,t]=Z.useState(),[r,s]=Z.useState(),[l,u]=Z.useState(null);return Z.useEffect(()=>{async function h(){const m=await(await fetch("https://www.evently.wiki/api/dashboard",{method:"GET",credentials:"include"})).json(),g=m.error?m.error:"";console.log(g),t(m.data),s(m.username),u(m.events)}h()},[]),U.jsx(U.Fragment,{children:U.jsxs("div",{className:"font-bold text-black",children:[U.jsx(ai,{profileImgUrl:e||"empty",admin:!1}),U.jsx("h1",{className:"fixed top-28 left-0 ml-5 text-4xl",children:`Welcome back, ${r}!, Here are your events:`}),U.jsx("div",{className:"mt-40 ml-5",children:l&&l.map(h=>U.jsx(c1,{_id:h._id,title:h.title,date:h.date,time:h.time,location:h.location,link:h.link,username:r||"",profileImg:e||"empty",admin:!1},h._id))})]})})},Iy=()=>{const e=oi(),t=si(),r=e.state||{_id:"",title:"Unknown Event",date:"Unknown Date",time:"Unknown Time",location:"Unknown Location",link:"",username:"",profileImg:""},s=async()=>{const h=await(await fetch("https://www.evently.wiki/events/rsvp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:r._id,username:r.username})})).json();console.log(h),h.success?alert(h.success):alert(h.error)},l=()=>{t(`/qr-reader/${r._id}`,{state:{profileImg:r.profileImg}})};return U.jsxs(U.Fragment,{children:[U.jsx(ai,{profileImgUrl:r.profileImg,admin:!1}),U.jsxs("div",{className:"flex flex-col items-center mt-10",children:[U.jsx("h1",{className:"text-4xl font-bold text-black mb-5",children:r.title}),U.jsxs("div",{className:"w-3/4 p-5 border-2 rounded-lg shadow-md",children:[U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Date:"})," ",r.date]}),U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Time:"})," ",r.time]}),U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Location:"})," ",r.location]}),U.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"Official Link"}),U.jsxs("div",{className:"flex justify-center mt-5 space-x-4",children:[U.jsx("button",{onClick:s,className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"RSVP"}),U.jsx("button",{onClick:l,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Open Camera"})]})]}),U.jsx("button",{onClick:()=>t(-1),className:"mt-5 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Go Back"})]})]})},Ty=()=>{const e=si(),[t,r]=Z.useState({username:"",email:"",password:"",confirmPassword:""});function s(u){const{name:h,value:w}=u.target;r(m=>({...m,[h]:w}))}async function l(u){if(u.preventDefault(),t.username===""&&t.email===""&&t.password===""&&t.confirmPassword==="")alert("field is empty");else{const w=await(await fetch("https://www.evently.wiki/registerUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t.username,email:t.email,password:t.password,confirmPassword:t.confirmPassword})})).json(),m=w.error?w.error:"";if(console.log(m),m.length>0)alert(`${m}`);else{let g=w.id;localStorage.setItem("userId",g),e("/UploadImg")}}}return console.log(t),U.jsxs(U.Fragment,{children:[U.jsx("h1",{className:"fixed top-40 left-1/2 transform -translate-x-1/2 text-black text-xl font-bold",children:"Register"}),U.jsxs("div",{style:{backgroundColor:"#ffff"},className:"rounded-xl w-[450px] h-[600px] shadow-md space-x-5 mt-12 mx-auto",children:[U.jsxs("form",{className:"mt-10",onSubmit:l,children:[U.jsx("input",{className:"mt-20  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"text",id:"username",name:"username",placeholder:"Username",onChange:s,value:t.username}),U.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"email",id:"email",name:"email",placeholder:"Email",onChange:s,value:t.email}),U.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"password",name:"password",placeholder:"Password",onChange:s,value:t.password}),U.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",onChange:s,value:t.confirmPassword}),U.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Continue"})]}),U.jsxs("span",{className:"block mt-8 text-gray-500",children:["Already have an account?",U.jsx(qu,{to:"/UserLogin",id:"RouterNavLink",children:U.jsx("span",{className:"ml-2 text-blue-500 cursor-pointer hover:text-blue-700",children:"Log in"})})]})]})]})},Ny=()=>U.jsx(U.Fragment,{children:U.jsx("div",{children:U.jsx(Ty,{})})});function hp(e,t){return function(){return e.apply(t,arguments)}}const{toString:_y}=Object.prototype,{getPrototypeOf:u1}=Object,Fl=(e=>t=>{const r=_y.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qn=e=>(e=e.toLowerCase(),t=>Fl(t)===e),Ul=e=>t=>typeof t===e,{isArray:Io}=Array,Rs=Ul("undefined");function Oy(e){return e!==null&&!Rs(e)&&e.constructor!==null&&!Rs(e.constructor)&&An(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gp=Qn("ArrayBuffer");function by(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&gp(e.buffer),t}const Ry=Ul("string"),An=Ul("function"),pp=Ul("number"),jl=e=>e!==null&&typeof e=="object",My=e=>e===!0||e===!1,Ma=e=>{if(Fl(e)!=="object")return!1;const t=u1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Dy=Qn("Date"),Ly=Qn("File"),ky=Qn("Blob"),Py=Qn("FileList"),By=e=>jl(e)&&An(e.pipe),Fy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||An(e.append)&&((t=Fl(e))==="formdata"||t==="object"&&An(e.toString)&&e.toString()==="[object FormData]"))},Uy=Qn("URLSearchParams"),[jy,zy,Hy,Vy]=["ReadableStream","Request","Response","Headers"].map(Qn),Wy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zs(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),Io(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{const u=r?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let w;for(s=0;s<h;s++)w=u[s],t.call(null,e[w],w,e)}}function mp(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,l;for(;s-- >0;)if(l=r[s],t===l.toLowerCase())return l;return null}const yi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xp=e=>!Rs(e)&&e!==yi;function $u(){const{caseless:e}=xp(this)&&this||{},t={},r=(s,l)=>{const u=e&&mp(t,l)||l;Ma(t[u])&&Ma(s)?t[u]=$u(t[u],s):Ma(s)?t[u]=$u({},s):Io(s)?t[u]=s.slice():t[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&zs(arguments[s],r);return t}const Gy=(e,t,r,{allOwnKeys:s}={})=>(zs(t,(l,u)=>{r&&An(l)?e[u]=hp(l,r):e[u]=l},{allOwnKeys:s}),e),Yy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xy=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Qy=(e,t,r,s)=>{let l,u,h;const w={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)h=l[u],(!s||s(h,e,t))&&!w[h]&&(t[h]=e[h],w[h]=!0);e=r!==!1&&u1(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Zy=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Ky=e=>{if(!e)return null;if(Io(e))return e;let t=e.length;if(!pp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&u1(Uint8Array)),$y=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=s.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},Jy=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},eE=Qn("HTMLFormElement"),tE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),id=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),nE=Qn("RegExp"),wp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};zs(r,(l,u)=>{let h;(h=t(l,u,e))!==!1&&(s[u]=h||l)}),Object.defineProperties(e,s)},rE=e=>{wp(e,(t,r)=>{if(An(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(An(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},iE=(e,t)=>{const r={},s=l=>{l.forEach(u=>{r[u]=!0})};return Io(e)?s(e):s(String(e).split(t)),r},oE=()=>{},sE=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Qc="abcdefghijklmnopqrstuvwxyz",od="0123456789",yp={DIGIT:od,ALPHA:Qc,ALPHA_DIGIT:Qc+Qc.toUpperCase()+od},aE=(e=16,t=yp.ALPHA_DIGIT)=>{let r="";const{length:s}=t;for(;e--;)r+=t[Math.random()*s|0];return r};function lE(e){return!!(e&&An(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const cE=e=>{const t=new Array(10),r=(s,l)=>{if(jl(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[l]=s;const u=Io(s)?[]:{};return zs(s,(h,w)=>{const m=r(h,l+1);!Rs(m)&&(u[w]=m)}),t[l]=void 0,u}}return s};return r(e,0)},uE=Qn("AsyncFunction"),fE=e=>e&&(jl(e)||An(e))&&An(e.then)&&An(e.catch),Ep=((e,t)=>e?setImmediate:t?((r,s)=>(yi.addEventListener("message",({source:l,data:u})=>{l===yi&&u===r&&s.length&&s.shift()()},!1),l=>{s.push(l),yi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",An(yi.postMessage)),dE=typeof queueMicrotask<"u"?queueMicrotask.bind(yi):typeof process<"u"&&process.nextTick||Ep,X={isArray:Io,isArrayBuffer:gp,isBuffer:Oy,isFormData:Fy,isArrayBufferView:by,isString:Ry,isNumber:pp,isBoolean:My,isObject:jl,isPlainObject:Ma,isReadableStream:jy,isRequest:zy,isResponse:Hy,isHeaders:Vy,isUndefined:Rs,isDate:Dy,isFile:Ly,isBlob:ky,isRegExp:nE,isFunction:An,isStream:By,isURLSearchParams:Uy,isTypedArray:qy,isFileList:Py,forEach:zs,merge:$u,extend:Gy,trim:Wy,stripBOM:Yy,inherits:Xy,toFlatObject:Qy,kindOf:Fl,kindOfTest:Qn,endsWith:Zy,toArray:Ky,forEachEntry:$y,matchAll:Jy,isHTMLForm:eE,hasOwnProperty:id,hasOwnProp:id,reduceDescriptors:wp,freezeMethods:rE,toObjectSet:iE,toCamelCase:tE,noop:oE,toFiniteNumber:sE,findKey:mp,global:yi,isContextDefined:xp,ALPHABET:yp,generateString:aE,isSpecCompliantForm:lE,toJSONObject:cE,isAsyncFn:uE,isThenable:fE,setImmediate:Ep,asap:dE};function ve(e,t,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}X.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Cp=ve.prototype,Ap={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ap[e]={value:e}});Object.defineProperties(ve,Ap);Object.defineProperty(Cp,"isAxiosError",{value:!0});ve.from=(e,t,r,s,l,u)=>{const h=Object.create(Cp);return X.toFlatObject(e,h,function(m){return m!==Error.prototype},w=>w!=="isAxiosError"),ve.call(h,e.message,t,r,s,l),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const hE=null;function Ju(e){return X.isPlainObject(e)||X.isArray(e)}function Sp(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function sd(e,t,r){return e?e.concat(t).map(function(l,u){return l=Sp(l),!r&&u?"["+l+"]":l}).join(r?".":""):t}function gE(e){return X.isArray(e)&&!e.some(Ju)}const pE=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function zl(e,t,r){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=X.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,L){return!X.isUndefined(L[D])});const s=r.metaTokens,l=r.visitor||y,u=r.dots,h=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(l))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(X.isDate(R))return R.toISOString();if(!m&&X.isBlob(R))throw new ve("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(R)||X.isTypedArray(R)?m&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function y(R,D,L){let _=R;if(R&&!L&&typeof R=="object"){if(X.endsWith(D,"{}"))D=s?D:D.slice(0,-2),R=JSON.stringify(R);else if(X.isArray(R)&&gE(R)||(X.isFileList(R)||X.endsWith(D,"[]"))&&(_=X.toArray(R)))return D=Sp(D),_.forEach(function(N,P){!(X.isUndefined(N)||N===null)&&t.append(h===!0?sd([D],P,u):h===null?D:D+"[]",g(N))}),!1}return Ju(R)?!0:(t.append(sd(L,D,u),g(R)),!1)}const E=[],I=Object.assign(pE,{defaultVisitor:y,convertValue:g,isVisitable:Ju});function O(R,D){if(!X.isUndefined(R)){if(E.indexOf(R)!==-1)throw Error("Circular reference detected in "+D.join("."));E.push(R),X.forEach(R,function(_,T){(!(X.isUndefined(_)||_===null)&&l.call(t,_,X.isString(T)?T.trim():T,D,I))===!0&&O(_,D?D.concat(T):[T])}),E.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return O(e),t}function ad(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function f1(e,t){this._pairs=[],e&&zl(e,this,t)}const vp=f1.prototype;vp.append=function(t,r){this._pairs.push([t,r])};vp.toString=function(t){const r=t?function(s){return t.call(this,s,ad)}:ad;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function mE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ip(e,t,r){if(!t)return e;const s=r&&r.encode||mE;X.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let u;if(l?u=l(t,r):u=X.isURLSearchParams(t)?t.toString():new f1(t,r).toString(s),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class xE{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ld=xE,Tp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wE=typeof URLSearchParams<"u"?URLSearchParams:f1,yE=typeof FormData<"u"?FormData:null,EE=typeof Blob<"u"?Blob:null,CE={isBrowser:!0,classes:{URLSearchParams:wE,FormData:yE,Blob:EE},protocols:["http","https","file","blob","url","data"]},d1=typeof window<"u"&&typeof document<"u",ef=typeof navigator=="object"&&navigator||void 0,AE=d1&&(!ef||["ReactNative","NativeScript","NS"].indexOf(ef.product)<0),SE=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vE=d1&&window.location.href||"http://localhost",IE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d1,hasStandardBrowserEnv:AE,hasStandardBrowserWebWorkerEnv:SE,navigator:ef,origin:vE},Symbol.toStringTag,{value:"Module"})),Gt={...IE,...CE};function TE(e,t){return zl(e,new Gt.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,u){return Gt.isNode&&X.isBuffer(r)?(this.append(s,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function NE(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _E(e){const t={},r=Object.keys(e);let s;const l=r.length;let u;for(s=0;s<l;s++)u=r[s],t[u]=e[u];return t}function Np(e){function t(r,s,l,u){let h=r[u++];if(h==="__proto__")return!0;const w=Number.isFinite(+h),m=u>=r.length;return h=!h&&X.isArray(l)?l.length:h,m?(X.hasOwnProp(l,h)?l[h]=[l[h],s]:l[h]=s,!w):((!l[h]||!X.isObject(l[h]))&&(l[h]=[]),t(r,s,l[h],u)&&X.isArray(l[h])&&(l[h]=_E(l[h])),!w)}if(X.isFormData(e)&&X.isFunction(e.entries)){const r={};return X.forEachEntry(e,(s,l)=>{t(NE(s),l,r,0)}),r}return null}function OE(e,t,r){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const h1={transitional:Tp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,u=X.isObject(t);if(u&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return l?JSON.stringify(Np(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let w;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return TE(t,this.formSerializer).toString();if((w=X.isFileList(t))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return zl(w?{"files[]":t}:t,m&&new m,this.formSerializer)}}return u||l?(r.setContentType("application/json",!1),OE(t)):t}],transformResponse:[function(t){const r=this.transitional||h1.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(s&&!this.responseType||l)){const h=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(w){if(h)throw w.name==="SyntaxError"?ve.from(w,ve.ERR_BAD_RESPONSE,this,null,this.response):w}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gt.classes.FormData,Blob:Gt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{h1.headers[e]={}});const g1=h1,bE=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RE=e=>{const t={};let r,s,l;return e&&e.split(`
`).forEach(function(h){l=h.indexOf(":"),r=h.substring(0,l).trim().toLowerCase(),s=h.substring(l+1).trim(),!(!r||t[r]&&bE[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},cd=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function Da(e){return e===!1||e==null?e:X.isArray(e)?e.map(Da):String(e)}function ME(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const DE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zc(e,t,r,s,l){if(X.isFunction(s))return s.call(this,t,r);if(l&&(t=r),!!X.isString(t)){if(X.isString(s))return t.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(t)}}function LE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function kE(e,t){const r=X.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(l,u,h){return this[s].call(this,t,l,u,h)},configurable:!0})})}class Hl{constructor(t){t&&this.set(t)}set(t,r,s){const l=this;function u(w,m,g){const y=Zo(m);if(!y)throw new Error("header name must be a non-empty string");const E=X.findKey(l,y);(!E||l[E]===void 0||g===!0||g===void 0&&l[E]!==!1)&&(l[E||m]=Da(w))}const h=(w,m)=>X.forEach(w,(g,y)=>u(g,y,m));if(X.isPlainObject(t)||t instanceof this.constructor)h(t,r);else if(X.isString(t)&&(t=t.trim())&&!DE(t))h(RE(t),r);else if(X.isHeaders(t))for(const[w,m]of t.entries())u(m,w,s);else t!=null&&u(r,t,s);return this}get(t,r){if(t=Zo(t),t){const s=X.findKey(this,t);if(s){const l=this[s];if(!r)return l;if(r===!0)return ME(l);if(X.isFunction(r))return r.call(this,l,s);if(X.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zo(t),t){const s=X.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Zc(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let l=!1;function u(h){if(h=Zo(h),h){const w=X.findKey(s,h);w&&(!r||Zc(s,s[w],w,r))&&(delete s[w],l=!0)}}return X.isArray(t)?t.forEach(u):u(t),l}clear(t){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const u=r[s];(!t||Zc(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const r=this,s={};return X.forEach(this,(l,u)=>{const h=X.findKey(s,u);if(h){r[h]=Da(l),delete r[u];return}const w=t?LE(u):String(u).trim();w!==u&&delete r[u],r[w]=Da(l),s[w]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return X.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=t&&X.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[cd]=this[cd]={accessors:{}}).accessors,l=this.prototype;function u(h){const w=Zo(h);s[w]||(kE(l,h),s[w]=!0)}return X.isArray(t)?t.forEach(u):u(t),this}}Hl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Hl.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});X.freezeMethods(Hl);const Yn=Hl;function Kc(e,t){const r=this||g1,s=t||r,l=Yn.from(s.headers);let u=s.data;return X.forEach(e,function(w){u=w.call(r,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function _p(e){return!!(e&&e.__CANCEL__)}function To(e,t,r){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,r),this.name="CanceledError"}X.inherits(To,ve,{__CANCEL__:!0});function Op(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new ve("Request failed with status code "+r.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function PE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function BE(e,t){e=e||10;const r=new Array(e),s=new Array(e);let l=0,u=0,h;return t=t!==void 0?t:1e3,function(m){const g=Date.now(),y=s[u];h||(h=g),r[l]=m,s[l]=g;let E=u,I=0;for(;E!==l;)I+=r[E++],E=E%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),g-h<t)return;const O=y&&g-y;return O?Math.round(I*1e3/O):void 0}}function FE(e,t){let r=0,s=1e3/t,l,u;const h=(g,y=Date.now())=>{r=y,l=null,u&&(clearTimeout(u),u=null),e.apply(null,g)};return[(...g)=>{const y=Date.now(),E=y-r;E>=s?h(g,y):(l=g,u||(u=setTimeout(()=>{u=null,h(l)},s-E)))},()=>l&&h(l)]}const cl=(e,t,r=3)=>{let s=0;const l=BE(50,250);return FE(u=>{const h=u.loaded,w=u.lengthComputable?u.total:void 0,m=h-s,g=l(m),y=h<=w;s=h;const E={loaded:h,total:w,progress:w?h/w:void 0,bytes:m,rate:g||void 0,estimated:g&&w&&y?(w-h)/g:void 0,event:u,lengthComputable:w!=null,[t?"download":"upload"]:!0};e(E)},r)},ud=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},fd=e=>(...t)=>X.asap(()=>e(...t)),UE=Gt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Gt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Gt.origin),Gt.navigator&&/(msie|trident)/i.test(Gt.navigator.userAgent)):()=>!0,jE=Gt.hasStandardBrowserEnv?{write(e,t,r,s,l,u){const h=[e+"="+encodeURIComponent(t)];X.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),X.isString(s)&&h.push("path="+s),X.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bp(e,t){return e&&!zE(t)?HE(e,t):t}const dd=e=>e instanceof Yn?{...e}:e;function Oi(e,t){t=t||{};const r={};function s(g,y,E,I){return X.isPlainObject(g)&&X.isPlainObject(y)?X.merge.call({caseless:I},g,y):X.isPlainObject(y)?X.merge({},y):X.isArray(y)?y.slice():y}function l(g,y,E,I){if(X.isUndefined(y)){if(!X.isUndefined(g))return s(void 0,g,E,I)}else return s(g,y,E,I)}function u(g,y){if(!X.isUndefined(y))return s(void 0,y)}function h(g,y){if(X.isUndefined(y)){if(!X.isUndefined(g))return s(void 0,g)}else return s(void 0,y)}function w(g,y,E){if(E in t)return s(g,y);if(E in e)return s(void 0,g)}const m={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:w,headers:(g,y,E)=>l(dd(g),dd(y),E,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),function(y){const E=m[y]||l,I=E(e[y],t[y],y);X.isUndefined(I)&&E!==w||(r[y]=I)}),r}const Rp=e=>{const t=Oi({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:h,auth:w}=t;t.headers=h=Yn.from(h),t.url=Ip(bp(t.baseURL,t.url),e.params,e.paramsSerializer),w&&h.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let m;if(X.isFormData(r)){if(Gt.hasStandardBrowserEnv||Gt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((m=h.getContentType())!==!1){const[g,...y]=m?m.split(";").map(E=>E.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...y].join("; "))}}if(Gt.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(t)),s||s!==!1&&UE(t.url))){const g=l&&u&&jE.read(u);g&&h.set(l,g)}return t},VE=typeof XMLHttpRequest<"u",WE=VE&&function(e){return new Promise(function(r,s){const l=Rp(e);let u=l.data;const h=Yn.from(l.headers).normalize();let{responseType:w,onUploadProgress:m,onDownloadProgress:g}=l,y,E,I,O,R;function D(){O&&O(),R&&R(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let L=new XMLHttpRequest;L.open(l.method.toUpperCase(),l.url,!0),L.timeout=l.timeout;function _(){if(!L)return;const N=Yn.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),Q={data:!w||w==="text"||w==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:N,config:e,request:L};Op(function(F){r(F),D()},function(F){s(F),D()},Q),L=null}"onloadend"in L?L.onloadend=_:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(_)},L.onabort=function(){L&&(s(new ve("Request aborted",ve.ECONNABORTED,e,L)),L=null)},L.onerror=function(){s(new ve("Network Error",ve.ERR_NETWORK,e,L)),L=null},L.ontimeout=function(){let P=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const Q=l.transitional||Tp;l.timeoutErrorMessage&&(P=l.timeoutErrorMessage),s(new ve(P,Q.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,L)),L=null},u===void 0&&h.setContentType(null),"setRequestHeader"in L&&X.forEach(h.toJSON(),function(P,Q){L.setRequestHeader(Q,P)}),X.isUndefined(l.withCredentials)||(L.withCredentials=!!l.withCredentials),w&&w!=="json"&&(L.responseType=l.responseType),g&&([I,R]=cl(g,!0),L.addEventListener("progress",I)),m&&L.upload&&([E,O]=cl(m),L.upload.addEventListener("progress",E),L.upload.addEventListener("loadend",O)),(l.cancelToken||l.signal)&&(y=N=>{L&&(s(!N||N.type?new To(null,e,L):N),L.abort(),L=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const T=PE(l.url);if(T&&Gt.protocols.indexOf(T)===-1){s(new ve("Unsupported protocol "+T+":",ve.ERR_BAD_REQUEST,e));return}L.send(u||null)})},GE=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,l;const u=function(g){if(!l){l=!0,w();const y=g instanceof Error?g:this.reason;s.abort(y instanceof ve?y:new To(y instanceof Error?y.message:y))}};let h=t&&setTimeout(()=>{h=null,u(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const w=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),e=null)};e.forEach(g=>g.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=()=>X.asap(w),m}},YE=GE,XE=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,l;for(;s<r;)l=s+t,yield e.slice(s,l),s=l},QE=async function*(e,t){for await(const r of ZE(e))yield*XE(r,t)},ZE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},hd=(e,t,r,s)=>{const l=QE(e,t);let u=0,h,w=m=>{h||(h=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await l.next();if(g){w(),m.close();return}let E=y.byteLength;if(r){let I=u+=E;r(I)}m.enqueue(new Uint8Array(y))}catch(g){throw w(g),g}},cancel(m){return w(m),l.return()}},{highWaterMark:2})},Vl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mp=Vl&&typeof ReadableStream=="function",KE=Vl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},qE=Mp&&Dp(()=>{let e=!1;const t=new Request(Gt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gd=64*1024,tf=Mp&&Dp(()=>X.isReadableStream(new Response("").body)),ul={stream:tf&&(e=>e.body)};Vl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ul[t]&&(ul[t]=X.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new ve(`Response type '${t}' is not supported`,ve.ERR_NOT_SUPPORT,s)})})})(new Response);const $E=async e=>{if(e==null)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e))return(await new Request(Gt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(X.isArrayBufferView(e)||X.isArrayBuffer(e))return e.byteLength;if(X.isURLSearchParams(e)&&(e=e+""),X.isString(e))return(await KE(e)).byteLength},JE=async(e,t)=>{const r=X.toFiniteNumber(e.getContentLength());return r??$E(t)},e3=Vl&&(async e=>{let{url:t,method:r,data:s,signal:l,cancelToken:u,timeout:h,onDownloadProgress:w,onUploadProgress:m,responseType:g,headers:y,withCredentials:E="same-origin",fetchOptions:I}=Rp(e);g=g?(g+"").toLowerCase():"text";let O=YE([l,u&&u.toAbortSignal()],h),R;const D=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let L;try{if(m&&qE&&r!=="get"&&r!=="head"&&(L=await JE(y,s))!==0){let Q=new Request(t,{method:"POST",body:s,duplex:"half"}),K;if(X.isFormData(s)&&(K=Q.headers.get("content-type"))&&y.setContentType(K),Q.body){const[F,W]=ud(L,cl(fd(m)));s=hd(Q.body,gd,F,W)}}X.isString(E)||(E=E?"include":"omit");const _="credentials"in Request.prototype;R=new Request(t,{...I,signal:O,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:_?E:void 0});let T=await fetch(R);const N=tf&&(g==="stream"||g==="response");if(tf&&(w||N&&D)){const Q={};["status","statusText","headers"].forEach(V=>{Q[V]=T[V]});const K=X.toFiniteNumber(T.headers.get("content-length")),[F,W]=w&&ud(K,cl(fd(w),!0))||[];T=new Response(hd(T.body,gd,F,()=>{W&&W(),D&&D()}),Q)}g=g||"text";let P=await ul[X.findKey(ul,g)||"text"](T,e);return!N&&D&&D(),await new Promise((Q,K)=>{Op(Q,K,{data:P,headers:Yn.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:R})})}catch(_){throw D&&D(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,e,R),{cause:_.cause||_}):ve.from(_,_&&_.code,e,R)}}),nf={http:hE,xhr:WE,fetch:e3};X.forEach(nf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pd=e=>`- ${e}`,t3=e=>X.isFunction(e)||e===null||e===!1,Lp={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let r,s;const l={};for(let u=0;u<t;u++){r=e[u];let h;if(s=r,!t3(r)&&(s=nf[(h=String(r)).toLowerCase()],s===void 0))throw new ve(`Unknown adapter '${h}'`);if(s)break;l[h||"#"+u]=s}if(!s){const u=Object.entries(l).map(([w,m])=>`adapter ${w} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(pd).join(`
`):" "+pd(u[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:nf};function qc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new To(null,e)}function md(e){return qc(e),e.headers=Yn.from(e.headers),e.data=Kc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Lp.getAdapter(e.adapter||g1.adapter)(e).then(function(s){return qc(e),s.data=Kc.call(e,e.transformResponse,s),s.headers=Yn.from(s.headers),s},function(s){return _p(s)||(qc(e),s&&s.response&&(s.response.data=Kc.call(e,e.transformResponse,s.response),s.response.headers=Yn.from(s.response.headers))),Promise.reject(s)})}const kp="1.7.8",Wl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wl[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const xd={};Wl.transitional=function(t,r,s){function l(u,h){return"[Axios v"+kp+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,w)=>{if(t===!1)throw new ve(l(h," has been removed"+(r?" in "+r:"")),ve.ERR_DEPRECATED);return r&&!xd[h]&&(xd[h]=!0,console.warn(l(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,h,w):!0}};Wl.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function n3(e,t,r){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const u=s[l],h=t[u];if(h){const w=e[u],m=w===void 0||h(w,u,e);if(m!==!0)throw new ve("option "+u+" must be "+m,ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ve("Unknown option "+u,ve.ERR_BAD_OPTION)}}const La={assertOptions:n3,validators:Wl},ir=La.validators;class fl{constructor(t){this.defaults=t,this.interceptors={request:new ld,response:new ld}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Oi(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:u}=r;s!==void 0&&La.assertOptions(s,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),l!=null&&(X.isFunction(l)?r.paramsSerializer={serialize:l}:La.assertOptions(l,{encode:ir.function,serialize:ir.function},!0)),La.assertOptions(r,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=u&&X.merge(u.common,u[r.method]);u&&X.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),r.headers=Yn.concat(h,u);const w=[];let m=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(m=m&&D.synchronous,w.unshift(D.fulfilled,D.rejected))});const g=[];this.interceptors.response.forEach(function(D){g.push(D.fulfilled,D.rejected)});let y,E=0,I;if(!m){const R=[md.bind(this),void 0];for(R.unshift.apply(R,w),R.push.apply(R,g),I=R.length,y=Promise.resolve(r);E<I;)y=y.then(R[E++],R[E++]);return y}I=w.length;let O=r;for(E=0;E<I;){const R=w[E++],D=w[E++];try{O=R(O)}catch(L){D.call(this,L);break}}try{y=md.call(this,O)}catch(R){return Promise.reject(R)}for(E=0,I=g.length;E<I;)y=y.then(g[E++],g[E++]);return y}getUri(t){t=Oi(this.defaults,t);const r=bp(t.baseURL,t.url);return Ip(r,t.params,t.paramsSerializer)}}X.forEach(["delete","get","head","options"],function(t){fl.prototype[t]=function(r,s){return this.request(Oi(s||{},{method:t,url:r,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(t){function r(s){return function(u,h,w){return this.request(Oi(w||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}fl.prototype[t]=r(),fl.prototype[t+"Form"]=r(!0)});const ka=fl;class p1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const h=new Promise(w=>{s.subscribe(w),u=w}).then(l);return h.cancel=function(){s.unsubscribe(u)},h},t(function(u,h,w){s.reason||(s.reason=new To(u,h,w),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new p1(function(l){t=l}),cancel:t}}}const r3=p1;function i3(e){return function(r){return e.apply(null,r)}}function o3(e){return X.isObject(e)&&e.isAxiosError===!0}const rf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rf).forEach(([e,t])=>{rf[t]=e});const s3=rf;function Pp(e){const t=new ka(e),r=hp(ka.prototype.request,t);return X.extend(r,ka.prototype,t,{allOwnKeys:!0}),X.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return Pp(Oi(e,l))},r}const Ct=Pp(g1);Ct.Axios=ka;Ct.CanceledError=To;Ct.CancelToken=r3;Ct.isCancel=_p;Ct.VERSION=kp;Ct.toFormData=zl;Ct.AxiosError=ve;Ct.Cancel=Ct.CanceledError;Ct.all=function(t){return Promise.all(t)};Ct.spread=i3;Ct.isAxiosError=o3;Ct.mergeConfig=Oi;Ct.AxiosHeaders=Yn;Ct.formToJSON=e=>Np(X.isHTMLForm(e)?new FormData(e):e);Ct.getAdapter=Lp.getAdapter;Ct.HttpStatusCode=s3;Ct.default=Ct;const a3=Ct,l3=()=>{const[e,t]=Z.useState(null),r=si();function s(u){const h=u.target.files?u.target.files[0]:null;h!=null&&t(h)}async function l(u){if(u.preventDefault(),e==null)alert("field is empty");else{const h=new FormData,w=localStorage.getItem("userId");if(h.append("profileImg",e),!w)alert("not authenticated");else{h.append("userId",w);const g=await(await a3.post("https://www.evently.wiki/uploadImg",h,{headers:{"Content-Type":"multipart/form-data"}})).data,y=g.error?g.error:"";console.log(y),y.length>0&&alert(y),r("/UserLogin")}}}return console.log(e),U.jsx(U.Fragment,{children:U.jsx("div",{style:{backgroundColor:"#ffff"},className:" rounded-xl  w-[450px] h-[540px] shadow-md space-x-5",children:U.jsxs("form",{onSubmit:l,children:[U.jsx("h1",{className:"mt-10 text-black text-xl font-bold py-5",children:"File Upload"}),U.jsxs("div",{className:"flex flex-col justify-start ml-5 mt-8",children:[U.jsx("label",{className:"mt text-black font-bold text-left",children:"Upload your Profile Picture"}),U.jsx("span",{className:"text-left text-gray-300 font-bold mt-5 text-sm",children:"Please upload the file you want to share"}),U.jsxs("div",{className:"flex justify-center items-center mt-3 border border-gray-300 w-96 h-36",children:[U.jsxs("label",{className:"text-blue-500 font-bold cursor-pointer",htmlFor:"file",children:["Choose File"," ",U.jsx("span",{className:"block text-black font-bold text-sm overflow-hidden",children:e?`Selected file is: ${e.name}`:""})]}),U.jsx("input",{id:"file",type:"file",onChange:s,accept:"image/*",className:"hidden"})]})]}),U.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Add Image"})]})})})},c3=()=>{const[e,t]=Z.useState(),[r,s]=Z.useState(),[l,u]=Z.useState(null);return Z.useEffect(()=>{async function h(){const m=await(await fetch("https://www.evently.wiki/api/dashboard",{method:"GET",credentials:"include"})).json();t(m.data),s(m.username),u(m.rsvpEvents)}h()},[]),U.jsx(U.Fragment,{children:U.jsxs("div",{className:"font-bold text-black",children:[U.jsx(ai,{profileImgUrl:e||"empty",admin:!1}),U.jsx("h2",{className:"fixed top-28 left-0 ml-5 text-4xl",children:"Rsvp Events!"}),U.jsx("div",{className:"mt-40 ml-5",children:l&&l.map(h=>U.jsx(c1,{admin:!1,_id:h._id,title:h.title,date:h.date,time:h.time,location:h.location,link:h.link,username:r||"",profileImg:e||"empty"},h._id))})]})})},u3=()=>{const[e,t]=Z.useState({email:"",password:""});function r(l){const{name:u,value:h}=l.target;t(w=>({...w,[u]:h}))}async function s(l){if(l.preventDefault(),e.email===""||e.password==="")alert("Please fill out all fields.");else try{const u=await fetch("https://www.evently.wiki/admin-login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(u.ok)window.location.href="/AdminDashboard",console.log("Redirecting to Admin Dashboard...");else{const w=(await u.json()).error||"Login failed.";console.error(w),alert(w)}}catch(u){console.error("Error during login:",u),alert("Something went wrong. Please try again later.")}}return U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:U.jsxs("div",{style:{backgroundColor:"#ffffff"},className:"rounded-xl w-[450px] h-[400px] shadow-md p-5 space-y-5",children:[U.jsx("h1",{className:"text-center text-2xl font-bold text-black",children:"Admin Login"}),U.jsxs("form",{onSubmit:s,className:"space-y-4",children:[U.jsx("input",{className:"w-full h-10 pl-2 py-2 bg-white text-black border-gray-300 border rounded",type:"email",id:"email",name:"email",placeholder:"Admin Email",onChange:r,value:e.email}),U.jsx("input",{className:"w-full h-10 pl-2 py-2 bg-white text-black border-gray-300 border rounded",type:"password",id:"password",name:"password",placeholder:"Password",onChange:r,value:e.password}),U.jsx("button",{type:"submit",className:"w-full h-10 bg-blue-500 rounded text-white font-bold hover:bg-blue-700 transition duration-300",children:"Login"})]})]})})},f3=()=>{const[e,t]=Z.useState(),r="Admin",[s,l]=Z.useState(null);return Z.useEffect(()=>{async function u(){const w=await(await fetch("https://www.evently.wiki/admin-dashboard",{method:"GET",credentials:"include"})).json();t(w.data),l(w.events)}u()},[]),U.jsx(U.Fragment,{children:U.jsxs("div",{className:"font-bold text-black",children:[U.jsx(ai,{profileImgUrl:"empty",admin:!0}),U.jsx("h1",{className:"fixed top-28 left-0 ml-5 text-4xl",children:`Welcome, ${r}!`}),U.jsx("div",{className:"mt-40 ml-5",children:s&&s.map(u=>U.jsx(c1,{_id:u._id,title:u.title,date:u.date,time:u.time,location:u.location,link:u.link,username:r,profileImg:e||"empty",admin:!0},u._id))})]})})},d3=()=>{const e=oi(),t=si(),r=e.state||{_id:"",title:"Unknown Event",date:"Unknown Date",time:"Unknown Time",location:"Unknown Location",link:""},s=()=>{t(`/qr-generator/${r._id}`)};return U.jsxs(U.Fragment,{children:[U.jsx(ai,{profileImgUrl:"empty",admin:!0}),U.jsxs("div",{className:"flex flex-col items-center mt-10",children:[U.jsx("h1",{className:"text-4xl font-bold mb-5 text-black",children:r.title}),U.jsxs("div",{className:"w-3/4 p-5 border-2 rounded-lg shadow-md",children:[U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Date:"})," ",r.date]}),U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Time:"})," ",r.time]}),U.jsxs("p",{className:"text-lg text-black",children:[U.jsx("strong",{children:"Location:"})," ",r.location]}),U.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"View Event"}),U.jsx("div",{className:"flex mt-5 space-x-4",children:U.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Show QR"})})]}),U.jsx("button",{onClick:()=>t(-1),className:"mt-5 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Go Back"})]})]})};var h3=Object.defineProperty,dl=Object.getOwnPropertySymbols,Bp=Object.prototype.hasOwnProperty,Fp=Object.prototype.propertyIsEnumerable,wd=(e,t,r)=>t in e?h3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,of=(e,t)=>{for(var r in t||(t={}))Bp.call(t,r)&&wd(e,r,t[r]);if(dl)for(var r of dl(t))Fp.call(t,r)&&wd(e,r,t[r]);return e},sf=(e,t)=>{var r={};for(var s in e)Bp.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&dl)for(var s of dl(e))t.indexOf(s)<0&&Fp.call(e,s)&&(r[s]=e[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var bi;(e=>{const t=class Oe{constructor(m,g,y,E){if(this.version=m,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],m<Oe.MIN_VERSION||m>Oe.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let I=[];for(let R=0;R<this.size;R++)I.push(!1);for(let R=0;R<this.size;R++)this.modules.push(I.slice()),this.isFunction.push(I.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(y);if(this.drawCodewords(O),E==-1){let R=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);const L=this.getPenaltyScore();L<R&&(E=D,R=L),this.applyMask(D)}}l(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(m,g){const y=e.QrSegment.makeSegments(m);return Oe.encodeSegments(y,g)}static encodeBinary(m,g){const y=e.QrSegment.makeBytes(m);return Oe.encodeSegments([y],g)}static encodeSegments(m,g,y=1,E=40,I=-1,O=!0){if(!(Oe.MIN_VERSION<=y&&y<=E&&E<=Oe.MAX_VERSION)||I<-1||I>7)throw new RangeError("Invalid value");let R,D;for(R=y;;R++){const N=Oe.getNumDataCodewords(R,g)*8,P=h.getTotalBits(m,R);if(P<=N){D=P;break}if(R>=E)throw new RangeError("Data too long")}for(const N of[Oe.Ecc.MEDIUM,Oe.Ecc.QUARTILE,Oe.Ecc.HIGH])O&&D<=Oe.getNumDataCodewords(R,N)*8&&(g=N);let L=[];for(const N of m){r(N.mode.modeBits,4,L),r(N.numChars,N.mode.numCharCountBits(R),L);for(const P of N.getData())L.push(P)}l(L.length==D);const _=Oe.getNumDataCodewords(R,g)*8;l(L.length<=_),r(0,Math.min(4,_-L.length),L),r(0,(8-L.length%8)%8,L),l(L.length%8==0);for(let N=236;L.length<_;N^=253)r(N,8,L);let T=[];for(;T.length*8<L.length;)T.push(0);return L.forEach((N,P)=>T[P>>>3]|=N<<7-(P&7)),new Oe(R,g,T,I)}getModule(m,g){return 0<=m&&m<this.size&&0<=g&&g<this.size&&this.modules[g][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),g=m.length;for(let y=0;y<g;y++)for(let E=0;E<g;E++)y==0&&E==0||y==0&&E==g-1||y==g-1&&E==0||this.drawAlignmentPattern(m[y],m[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const g=this.errorCorrectionLevel.formatBits<<3|m;let y=g;for(let I=0;I<10;I++)y=y<<1^(y>>>9)*1335;const E=(g<<10|y)^21522;l(E>>>15==0);for(let I=0;I<=5;I++)this.setFunctionModule(8,I,s(E,I));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let I=9;I<15;I++)this.setFunctionModule(14-I,8,s(E,I));for(let I=0;I<8;I++)this.setFunctionModule(this.size-1-I,8,s(E,I));for(let I=8;I<15;I++)this.setFunctionModule(8,this.size-15+I,s(E,I));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let y=0;y<12;y++)m=m<<1^(m>>>11)*7973;const g=this.version<<12|m;l(g>>>18==0);for(let y=0;y<18;y++){const E=s(g,y),I=this.size-11+y%3,O=Math.floor(y/3);this.setFunctionModule(I,O,E),this.setFunctionModule(O,I,E)}}drawFinderPattern(m,g){for(let y=-4;y<=4;y++)for(let E=-4;E<=4;E++){const I=Math.max(Math.abs(E),Math.abs(y)),O=m+E,R=g+y;0<=O&&O<this.size&&0<=R&&R<this.size&&this.setFunctionModule(O,R,I!=2&&I!=4)}}drawAlignmentPattern(m,g){for(let y=-2;y<=2;y++)for(let E=-2;E<=2;E++)this.setFunctionModule(m+E,g+y,Math.max(Math.abs(E),Math.abs(y))!=1)}setFunctionModule(m,g,y){this.modules[g][m]=y,this.isFunction[g][m]=!0}addEccAndInterleave(m){const g=this.version,y=this.errorCorrectionLevel;if(m.length!=Oe.getNumDataCodewords(g,y))throw new RangeError("Invalid argument");const E=Oe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][g],I=Oe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][g],O=Math.floor(Oe.getNumRawDataModules(g)/8),R=E-O%E,D=Math.floor(O/E);let L=[];const _=Oe.reedSolomonComputeDivisor(I);for(let N=0,P=0;N<E;N++){let Q=m.slice(P,P+D-I+(N<R?0:1));P+=Q.length;const K=Oe.reedSolomonComputeRemainder(Q,_);N<R&&Q.push(0),L.push(Q.concat(K))}let T=[];for(let N=0;N<L[0].length;N++)L.forEach((P,Q)=>{(N!=D-I||Q>=R)&&T.push(P[N])});return l(T.length==O),T}drawCodewords(m){if(m.length!=Math.floor(Oe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let E=0;E<this.size;E++)for(let I=0;I<2;I++){const O=y-I,D=(y+1&2)==0?this.size-1-E:E;!this.isFunction[D][O]&&g<m.length*8&&(this.modules[D][O]=s(m[g>>>3],7-(g&7)),g++)}}l(g==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let y=0;y<this.size;y++){let E;switch(m){case 0:E=(y+g)%2==0;break;case 1:E=g%2==0;break;case 2:E=y%3==0;break;case 3:E=(y+g)%3==0;break;case 4:E=(Math.floor(y/3)+Math.floor(g/2))%2==0;break;case 5:E=y*g%2+y*g%3==0;break;case 6:E=(y*g%2+y*g%3)%2==0;break;case 7:E=((y+g)%2+y*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][y]&&E&&(this.modules[g][y]=!this.modules[g][y])}}getPenaltyScore(){let m=0;for(let I=0;I<this.size;I++){let O=!1,R=0,D=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[I][L]==O?(R++,R==5?m+=Oe.PENALTY_N1:R>5&&m++):(this.finderPenaltyAddHistory(R,D),O||(m+=this.finderPenaltyCountPatterns(D)*Oe.PENALTY_N3),O=this.modules[I][L],R=1);m+=this.finderPenaltyTerminateAndCount(O,R,D)*Oe.PENALTY_N3}for(let I=0;I<this.size;I++){let O=!1,R=0,D=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[L][I]==O?(R++,R==5?m+=Oe.PENALTY_N1:R>5&&m++):(this.finderPenaltyAddHistory(R,D),O||(m+=this.finderPenaltyCountPatterns(D)*Oe.PENALTY_N3),O=this.modules[L][I],R=1);m+=this.finderPenaltyTerminateAndCount(O,R,D)*Oe.PENALTY_N3}for(let I=0;I<this.size-1;I++)for(let O=0;O<this.size-1;O++){const R=this.modules[I][O];R==this.modules[I][O+1]&&R==this.modules[I+1][O]&&R==this.modules[I+1][O+1]&&(m+=Oe.PENALTY_N2)}let g=0;for(const I of this.modules)g=I.reduce((O,R)=>O+(R?1:0),g);const y=this.size*this.size,E=Math.ceil(Math.abs(g*20-y*10)/y)-1;return l(0<=E&&E<=9),m+=E*Oe.PENALTY_N4,l(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let y=[6];for(let E=this.size-7;y.length<m;E-=g)y.splice(1,0,E);return y}}static getNumRawDataModules(m){if(m<Oe.MIN_VERSION||m>Oe.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*m+128)*m+64;if(m>=2){const y=Math.floor(m/7)+2;g-=(25*y-10)*y-55,m>=7&&(g-=36)}return l(208<=g&&g<=29648),g}static getNumDataCodewords(m,g){return Math.floor(Oe.getNumRawDataModules(m)/8)-Oe.ECC_CODEWORDS_PER_BLOCK[g.ordinal][m]*Oe.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let g=[];for(let E=0;E<m-1;E++)g.push(0);g.push(1);let y=1;for(let E=0;E<m;E++){for(let I=0;I<g.length;I++)g[I]=Oe.reedSolomonMultiply(g[I],y),I+1<g.length&&(g[I]^=g[I+1]);y=Oe.reedSolomonMultiply(y,2)}return g}static reedSolomonComputeRemainder(m,g){let y=g.map(E=>0);for(const E of m){const I=E^y.shift();y.push(0),g.forEach((O,R)=>y[R]^=Oe.reedSolomonMultiply(O,I))}return y}static reedSolomonMultiply(m,g){if(m>>>8||g>>>8)throw new RangeError("Byte out of range");let y=0;for(let E=7;E>=0;E--)y=y<<1^(y>>>7)*285,y^=(g>>>E&1)*m;return l(y>>>8==0),y}finderPenaltyCountPatterns(m){const g=m[1];l(g<=this.size*3);const y=g>0&&m[2]==g&&m[3]==g*3&&m[4]==g&&m[5]==g;return(y&&m[0]>=g*4&&m[6]>=g?1:0)+(y&&m[6]>=g*4&&m[0]>=g?1:0)}finderPenaltyTerminateAndCount(m,g,y){return m&&(this.finderPenaltyAddHistory(g,y),g=0),g+=this.size,this.finderPenaltyAddHistory(g,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(m,g){g[0]==0&&(m+=this.size),g.pop(),g.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(w,m,g){if(m<0||m>31||w>>>m)throw new RangeError("Value out of range");for(let y=m-1;y>=0;y--)g.push(w>>>y&1)}function s(w,m){return(w>>>m&1)!=0}function l(w){if(!w)throw new Error("Assertion error")}const u=class dt{constructor(m,g,y){if(this.mode=m,this.numChars=g,this.bitData=y,g<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(m){let g=[];for(const y of m)r(y,8,g);return new dt(dt.Mode.BYTE,m.length,g)}static makeNumeric(m){if(!dt.isNumeric(m))throw new RangeError("String contains non-numeric characters");let g=[];for(let y=0;y<m.length;){const E=Math.min(m.length-y,3);r(parseInt(m.substring(y,y+E),10),E*3+1,g),y+=E}return new dt(dt.Mode.NUMERIC,m.length,g)}static makeAlphanumeric(m){if(!dt.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],y;for(y=0;y+2<=m.length;y+=2){let E=dt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y))*45;E+=dt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y+1)),r(E,11,g)}return y<m.length&&r(dt.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y)),6,g),new dt(dt.Mode.ALPHANUMERIC,m.length,g)}static makeSegments(m){return m==""?[]:dt.isNumeric(m)?[dt.makeNumeric(m)]:dt.isAlphanumeric(m)?[dt.makeAlphanumeric(m)]:[dt.makeBytes(dt.toUtf8ByteArray(m))]}static makeEci(m){let g=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)r(m,8,g);else if(m<16384)r(2,2,g),r(m,14,g);else if(m<1e6)r(6,3,g),r(m,21,g);else throw new RangeError("ECI assignment value out of range");return new dt(dt.Mode.ECI,0,g)}static isNumeric(m){return dt.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return dt.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,g){let y=0;for(const E of m){const I=E.mode.numCharCountBits(g);if(E.numChars>=1<<I)return 1/0;y+=4+I+E.bitData.length}return y}static toUtf8ByteArray(m){m=encodeURI(m);let g=[];for(let y=0;y<m.length;y++)m.charAt(y)!="%"?g.push(m.charCodeAt(y)):(g.push(parseInt(m.substring(y+1,y+3),16)),y+=2);return g}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;e.QrSegment=u})(bi||(bi={}));(e=>{(t=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(bi||(bi={}));(e=>{(t=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(bi||(bi={}));var oo=bi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var g3={L:oo.QrCode.Ecc.LOW,M:oo.QrCode.Ecc.MEDIUM,Q:oo.QrCode.Ecc.QUARTILE,H:oo.QrCode.Ecc.HIGH},Up=128,jp="L",zp="#FFFFFF",Hp="#000000",Vp=!1,Wp=1,p3=4,m3=0,x3=.1;function Gp(e,t=0){const r=[];return e.forEach(function(s,l){let u=null;s.forEach(function(h,w){if(!h&&u!==null){r.push(`M${u+t} ${l+t}h${w-u}v1H${u+t}z`),u=null;return}if(w===s.length-1){if(!h)return;u===null?r.push(`M${w+t},${l+t} h1v1H${w+t}z`):r.push(`M${u+t},${l+t} h${w+1-u}v1H${u+t}z`);return}h&&u===null&&(u=w)})}),r.join("")}function Yp(e,t){return e.slice().map((r,s)=>s<t.y||s>=t.y+t.h?r:r.map((l,u)=>u<t.x||u>=t.x+t.w?l:!1))}function w3(e,t,r,s){if(s==null)return null;const l=e.length+r*2,u=Math.floor(t*x3),h=l/t,w=(s.width||u)*h,m=(s.height||u)*h,g=s.x==null?e.length/2-w/2:s.x*h,y=s.y==null?e.length/2-m/2:s.y*h,E=s.opacity==null?1:s.opacity;let I=null;if(s.excavate){let R=Math.floor(g),D=Math.floor(y),L=Math.ceil(w+g-R),_=Math.ceil(m+y-D);I={x:R,y:D,w:L,h:_}}const O=s.crossOrigin;return{x:g,y,h:m,w,excavation:I,opacity:E,crossOrigin:O}}function y3(e,t){return t!=null?Math.max(Math.floor(t),0):e?p3:m3}function Xp({value:e,level:t,minVersion:r,includeMargin:s,marginSize:l,imageSettings:u,size:h,boostLevel:w}){let m=Ce.useMemo(()=>{const R=(Array.isArray(e)?e:[e]).reduce((D,L)=>(D.push(...oo.QrSegment.makeSegments(L)),D),[]);return oo.QrCode.encodeSegments(R,g3[t],r,void 0,void 0,w)},[e,t,r,w]);const{cells:g,margin:y,numCells:E,calculatedImageSettings:I}=Ce.useMemo(()=>{let O=m.getModules();const R=y3(s,l),D=O.length+R*2,L=w3(O,h,R,u);return{cells:O,margin:R,numCells:D,calculatedImageSettings:L}},[m,h,u,s,l]);return{qrcode:m,margin:y,cells:g,numCells:E,calculatedImageSettings:I}}var E3=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Qp=Ce.forwardRef(function(t,r){const s=t,{value:l,size:u=Up,level:h=jp,bgColor:w=zp,fgColor:m=Hp,includeMargin:g=Vp,minVersion:y=Wp,boostLevel:E,marginSize:I,imageSettings:O}=s,D=sf(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:L}=D,_=sf(D,["style"]),T=O==null?void 0:O.src,N=Ce.useRef(null),P=Ce.useRef(null),Q=Ce.useCallback(we=>{N.current=we,typeof r=="function"?r(we):r&&(r.current=we)},[r]),[K,F]=Ce.useState(!1),{margin:W,cells:V,numCells:oe,calculatedImageSettings:he}=Xp({value:l,level:h,minVersion:y,boostLevel:E,includeMargin:g,marginSize:I,imageSettings:O,size:u});Ce.useEffect(()=>{if(N.current!=null){const we=N.current,H=we.getContext("2d");if(!H)return;let Ne=V;const ce=P.current,ne=he!=null&&ce!==null&&ce.complete&&ce.naturalHeight!==0&&ce.naturalWidth!==0;ne&&he.excavation!=null&&(Ne=Yp(V,he.excavation));const de=window.devicePixelRatio||1;we.height=we.width=u*de;const ge=u/oe*de;H.scale(ge,ge),H.fillStyle=w,H.fillRect(0,0,oe,oe),H.fillStyle=m,E3?H.fill(new Path2D(Gp(Ne,W))):V.forEach(function(De,Ae){De.forEach(function(Ge,_e){Ge&&H.fillRect(_e+W,Ae+W,1,1)})}),he&&(H.globalAlpha=he.opacity),ne&&H.drawImage(ce,he.x+W,he.y+W,he.w,he.h)}}),Ce.useEffect(()=>{F(!1)},[T]);const ie=of({height:u,width:u},L);let xe=null;return T!=null&&(xe=Ce.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{F(!0)},ref:P,crossOrigin:he==null?void 0:he.crossOrigin})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",of({style:ie,height:u,width:u,ref:Q,role:"img"},_)),xe)});Qp.displayName="QRCodeCanvas";var C3=Ce.forwardRef(function(t,r){const s=t,{value:l,size:u=Up,level:h=jp,bgColor:w=zp,fgColor:m=Hp,includeMargin:g=Vp,minVersion:y=Wp,boostLevel:E,title:I,marginSize:O,imageSettings:R}=s,D=sf(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:L,cells:_,numCells:T,calculatedImageSettings:N}=Xp({value:l,level:h,minVersion:y,boostLevel:E,includeMargin:g,marginSize:O,imageSettings:R,size:u});let P=_,Q=null;R!=null&&N!=null&&(N.excavation!=null&&(P=Yp(_,N.excavation)),Q=Ce.createElement("image",{href:R.src,height:N.h,width:N.w,x:N.x+L,y:N.y+L,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const K=Gp(P,L);return Ce.createElement("svg",of({height:u,width:u,viewBox:`0 0 ${T} ${T}`,ref:r,role:"img"},D),!!I&&Ce.createElement("title",null,I),Ce.createElement("path",{fill:w,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:m,d:K,shapeRendering:"crispEdges"}),Q)});C3.displayName="QRCodeSVG";var Zp={},No={},Zn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEventSourceSupported=e.isReactNative=e.ReadyState=e.DEFAULT_HEARTBEAT=e.UNPARSABLE_JSON_OBJECT=e.DEFAULT_RECONNECT_INTERVAL_MS=e.DEFAULT_RECONNECT_LIMIT=e.SOCKET_IO_PING_CODE=e.SOCKET_IO_PATH=e.SOCKET_IO_PING_INTERVAL=e.DEFAULT_EVENT_SOURCE_OPTIONS=e.EMPTY_EVENT_HANDLERS=e.DEFAULT_OPTIONS=void 0;var t=1,r=1e3*t;e.DEFAULT_OPTIONS={},e.EMPTY_EVENT_HANDLERS={},e.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:e.EMPTY_EVENT_HANDLERS},e.SOCKET_IO_PING_INTERVAL=25*r,e.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",e.SOCKET_IO_PING_CODE="2",e.DEFAULT_RECONNECT_LIMIT=20,e.DEFAULT_RECONNECT_INTERVAL_MS=5e3,e.UNPARSABLE_JSON_OBJECT={},e.DEFAULT_HEARTBEAT={message:"ping",timeout:6e4,interval:25e3};var s;(function(u){u[u.UNINSTANTIATED=-1]="UNINSTANTIATED",u[u.CONNECTING=0]="CONNECTING",u[u.OPEN=1]="OPEN",u[u.CLOSING=2]="CLOSING",u[u.CLOSED=3]="CLOSED"})(s||(e.ReadyState=s={}));var l=function(){try{return"EventSource"in globalThis}catch{return!1}};e.isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",e.isEventSourceSupported=!e.isReactNative&&l()})(Zn);var Gl={},Yl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetWebSockets=e.sharedWebSockets=void 0,e.sharedWebSockets={};var t=function(r){if(r&&e.sharedWebSockets.hasOwnProperty(r))delete e.sharedWebSockets[r];else for(var s in e.sharedWebSockets)e.sharedWebSockets.hasOwnProperty(s)&&delete e.sharedWebSockets[s]};e.resetWebSockets=t})(Yl);var Xl={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.setUpSocketIOPing=dr.appendQueryParams=dr.parseSocketIOUrl=void 0;var hl=Zn,A3=function(e){if(e){var t=/^https|wss/.test(e),r=e.replace(/^(https?|wss?)(:\/\/)?/,""),s=r.replace(/\/$/,""),l=t?"wss":"ws";return"".concat(l,"://").concat(s).concat(hl.SOCKET_IO_PATH)}else if(e===""){var t=/^https/.test(window.location.protocol),l=t?"wss":"ws",u=window.location.port?":".concat(window.location.port):"";return"".concat(l,"://").concat(window.location.hostname).concat(u).concat(hl.SOCKET_IO_PATH)}return e};dr.parseSocketIOUrl=A3;var S3=function(e,t){t===void 0&&(t={});var r=/\?([\w]+=[\w]+)/,s=r.test(e),l="".concat(Object.entries(t).reduce(function(u,h){var w=h[0],m=h[1];return u+"".concat(w,"=").concat(m,"&")},"").slice(0,-1));return"".concat(e).concat(s?"&":"?").concat(l)};dr.appendQueryParams=S3;var v3=function(e,t){t===void 0&&(t=hl.SOCKET_IO_PING_INTERVAL);var r=function(){return e(hl.SOCKET_IO_PING_CODE)};return window.setInterval(r,t)};dr.setUpSocketIOPing=v3;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.heartbeat=I3;var $c=Zn;function I3(e,t,r){var s=r||{},l=s.interval,u=l===void 0?$c.DEFAULT_HEARTBEAT.interval:l,h=s.timeout,w=h===void 0?$c.DEFAULT_HEARTBEAT.timeout:h,m=s.message,g=m===void 0?$c.DEFAULT_HEARTBEAT.message:m,y=setInterval(function(){if(t.current+w<=Date.now())console.warn("Heartbeat timed out, closing connection, last message was seen ".concat(Date.now()-t.current,"ms ago")),e.close();else if(t.current+u<=Date.now())try{typeof g=="function"?e.send(g()):e.send(g)}catch(E){console.error("Heartbeat failed, closing connection",E instanceof Error?E.message:E),e.close()}},u);return e.addEventListener("close",function(){clearInterval(y)}),function(){}}var _o={},Zl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetSubscribers=e.removeSubscriber=e.addSubscriber=e.hasSubscribers=e.getSubscribers=void 0;var t={},r=[],s=function(m){return(0,e.hasSubscribers)(m)?Array.from(t[m]):r};e.getSubscribers=s;var l=function(m){var g;return((g=t[m])===null||g===void 0?void 0:g.size)>0};e.hasSubscribers=l;var u=function(m,g){t[m]=t[m]||new Set,t[m].add(g)};e.addSubscriber=u;var h=function(m,g){t[m].delete(g)};e.removeSubscriber=h;var w=function(m){if(m&&t.hasOwnProperty(m))delete t[m];else for(var g in t)t.hasOwnProperty(g)&&delete t[g]};e.resetSubscribers=w})(Zl);Object.defineProperty(_o,"__esModule",{value:!0});_o.assertIsWebSocket=_3;_o.resetGlobalState=O3;var T3=Yl,N3=Zl;function _3(e,t){if(!t&&!(e instanceof WebSocket))throw new Error("")}function O3(e){(0,N3.resetSubscribers)(e),(0,T3.resetWebSockets)(e)}var gl=He&&He.__assign||function(){return gl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},gl.apply(this,arguments)};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.attachListeners=void 0;var b3=dr,R3=Ql,cr=Zn,M3=_o,D3=function(e,t,r,s){e.onmessage=function(l){var u;t.current.onMessage&&t.current.onMessage(l),typeof(s==null?void 0:s.current)=="number"&&(s.current=Date.now()),!(typeof t.current.filter=="function"&&t.current.filter(l)!==!0)&&(t.current.heartbeat&&typeof t.current.heartbeat!="boolean"&&((u=t.current.heartbeat)===null||u===void 0?void 0:u.returnMessage)===l.data||r(l))}},L3=function(e,t,r,s,l){e.onopen=function(u){if(t.current.onOpen&&t.current.onOpen(u),s.current=0,r(cr.ReadyState.OPEN),t.current.heartbeat&&e instanceof WebSocket){var h=typeof t.current.heartbeat=="boolean"?void 0:t.current.heartbeat;l.current=Date.now(),(0,R3.heartbeat)(e,l,h)}}},k3=function(e,t,r,s,l){if(cr.isEventSourceSupported&&e instanceof EventSource)return function(){};(0,M3.assertIsWebSocket)(e,t.current.skipAssert);var u;return e.onclose=function(h){var w;if(t.current.onClose&&t.current.onClose(h),r(cr.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(h)){var m=(w=t.current.reconnectAttempts)!==null&&w!==void 0?w:cr.DEFAULT_RECONNECT_LIMIT;if(l.current<m){var g=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(l.current):t.current.reconnectInterval;u=window.setTimeout(function(){l.current++,s()},g??cr.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(m),console.warn("Max reconnect attempts of ".concat(m," exceeded"))}},function(){return u&&window.clearTimeout(u)}},P3=function(e,t,r,s,l){var u;return e.onerror=function(h){var w;if(t.current.onError&&t.current.onError(h),cr.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(gl(gl({},h),{code:1006,reason:"An error occurred with the EventSource: ".concat(h),wasClean:!1})),r(cr.ReadyState.CLOSED),e.close()),t.current.retryOnError)if(l.current<((w=t.current.reconnectAttempts)!==null&&w!==void 0?w:cr.DEFAULT_RECONNECT_LIMIT)){var m=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(l.current):t.current.reconnectInterval;u=window.setTimeout(function(){l.current++,s()},m??cr.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(t.current.reconnectAttempts," exceeded"))},function(){return u&&window.clearTimeout(u)}},B3=function(e,t,r,s,l,u,h){var w=t.setLastMessage,m=t.setReadyState,g,y,E;return r.current.fromSocketIO&&(g=(0,b3.setUpSocketIOPing)(h)),D3(e,r,w,u),L3(e,r,m,l,u),y=k3(e,r,m,s,l),E=P3(e,r,m,s,l),function(){m(cr.ReadyState.CLOSING),y(),E(),e.close(),g&&clearInterval(g)}};Xl.attachListeners=B3;var Kl={},pl=He&&He.__assign||function(){return pl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},pl.apply(this,arguments)};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.attachSharedListeners=void 0;var F3=Yl,Ai=Zn,Ms=Zl,U3=dr,j3=Ql,z3=function(e,t,r){e.onmessage=function(s){(0,Ms.getSubscribers)(t).forEach(function(l){var u;l.optionsRef.current.onMessage&&l.optionsRef.current.onMessage(s),typeof((u=l==null?void 0:l.lastMessageTime)===null||u===void 0?void 0:u.current)=="number"&&(l.lastMessageTime.current=Date.now()),!(typeof l.optionsRef.current.filter=="function"&&l.optionsRef.current.filter(s)!==!0)&&(r&&typeof r!="boolean"&&(r==null?void 0:r.returnMessage)===s.data||l.setLastMessage(s))})}},H3=function(e,t,r){e.onopen=function(s){(0,Ms.getSubscribers)(t).forEach(function(l){l.reconnectCount.current=0,l.optionsRef.current.onOpen&&l.optionsRef.current.onOpen(s),l.setReadyState(Ai.ReadyState.OPEN),r&&e instanceof WebSocket&&(l.lastMessageTime.current=Date.now(),(0,j3.heartbeat)(e,l.lastMessageTime,typeof r=="boolean"?void 0:r))})}},V3=function(e,t){e instanceof WebSocket&&(e.onclose=function(r){(0,Ms.getSubscribers)(t).forEach(function(s){s.optionsRef.current.onClose&&s.optionsRef.current.onClose(r),s.setReadyState(Ai.ReadyState.CLOSED)}),delete F3.sharedWebSockets[t],(0,Ms.getSubscribers)(t).forEach(function(s){var l;if(s.optionsRef.current.shouldReconnect&&s.optionsRef.current.shouldReconnect(r)){var u=(l=s.optionsRef.current.reconnectAttempts)!==null&&l!==void 0?l:Ai.DEFAULT_RECONNECT_LIMIT;if(s.reconnectCount.current<u){var h=typeof s.optionsRef.current.reconnectInterval=="function"?s.optionsRef.current.reconnectInterval(s.reconnectCount.current):s.optionsRef.current.reconnectInterval;setTimeout(function(){s.reconnectCount.current++,s.reconnect.current()},h??Ai.DEFAULT_RECONNECT_INTERVAL_MS)}else s.optionsRef.current.onReconnectStop&&s.optionsRef.current.onReconnectStop(s.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(u," exceeded"))}})})},W3=function(e,t){e.onerror=function(r){(0,Ms.getSubscribers)(t).forEach(function(s){s.optionsRef.current.onError&&s.optionsRef.current.onError(r),Ai.isEventSourceSupported&&e instanceof EventSource&&(s.optionsRef.current.onClose&&s.optionsRef.current.onClose(pl(pl({},r),{code:1006,reason:"An error occurred with the EventSource: ".concat(r),wasClean:!1})),s.setReadyState(Ai.ReadyState.CLOSED))}),Ai.isEventSourceSupported&&e instanceof EventSource&&e.close()}},G3=function(e,t,r,s){var l;return r.current.fromSocketIO&&(l=(0,U3.setUpSocketIOPing)(s)),z3(e,t,r.current.heartbeat),V3(e,t),H3(e,t,r.current.heartbeat),W3(e,t),function(){l&&clearInterval(l)}};Kl.attachSharedListeners=G3;Object.defineProperty(Gl,"__esModule",{value:!0});Gl.createOrJoinSocket=void 0;var Pr=Yl,ts=Zn,Y3=Xl,X3=Kl,af=Zl,Q3=function(e,t,r,s,l){return function(){if((0,af.removeSubscriber)(e,t),!(0,af.hasSubscribers)(e)){try{var u=Pr.sharedWebSockets[e];u instanceof WebSocket&&(u.onclose=function(h){r.current.onClose&&r.current.onClose(h),s(ts.ReadyState.CLOSED)}),u.close()}catch{}l&&l(),delete Pr.sharedWebSockets[e]}}},Z3=function(e,t,r,s,l,u,h,w,m){if(!ts.isEventSourceSupported&&s.current.eventSourceOptions)throw ts.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(s.current.share){var g=null;Pr.sharedWebSockets[t]===void 0?(Pr.sharedWebSockets[t]=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),e.current=Pr.sharedWebSockets[t],r(ts.ReadyState.CONNECTING),g=(0,X3.attachSharedListeners)(Pr.sharedWebSockets[t],t,s,m)):(e.current=Pr.sharedWebSockets[t],r(Pr.sharedWebSockets[t].readyState));var y={setLastMessage:l,setReadyState:r,optionsRef:s,reconnectCount:h,lastMessageTime:w,reconnect:u};return(0,af.addSubscriber)(t,y),Q3(t,y,s,r,g)}else{if(e.current=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),r(ts.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return(0,Y3.attachListeners)(e.current,{setLastMessage:l,setReadyState:r},s,u.current,h,w,m)}};Gl.createOrJoinSocket=Z3;var Kp={};(function(e){var t=He&&He.__awaiter||function(m,g,y,E){function I(O){return O instanceof y?O:new y(function(R){R(O)})}return new(y||(y=Promise))(function(O,R){function D(T){try{_(E.next(T))}catch(N){R(N)}}function L(T){try{_(E.throw(T))}catch(N){R(N)}}function _(T){T.done?O(T.value):I(T.value).then(D,L)}_((E=E.apply(m,g||[])).next())})},r=He&&He.__generator||function(m,g){var y={label:0,sent:function(){if(O[0]&1)throw O[1];return O[1]},trys:[],ops:[]},E,I,O,R=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return R.next=D(0),R.throw=D(1),R.return=D(2),typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function D(_){return function(T){return L([_,T])}}function L(_){if(E)throw new TypeError("Generator is already executing.");for(;R&&(R=0,_[0]&&(y=0)),y;)try{if(E=1,I&&(O=_[0]&2?I.return:_[0]?I.throw||((O=I.return)&&O.call(I),0):I.next)&&!(O=O.call(I,_[1])).done)return O;switch(I=0,O&&(_=[_[0]&2,O.value]),_[0]){case 0:case 1:O=_;break;case 4:return y.label++,{value:_[1],done:!1};case 5:y.label++,I=_[1],_=[0];continue;case 7:_=y.ops.pop(),y.trys.pop();continue;default:if(O=y.trys,!(O=O.length>0&&O[O.length-1])&&(_[0]===6||_[0]===2)){y=0;continue}if(_[0]===3&&(!O||_[1]>O[0]&&_[1]<O[3])){y.label=_[1];break}if(_[0]===6&&y.label<O[1]){y.label=O[1],O=_;break}if(O&&y.label<O[2]){y.label=O[2],y.ops.push(_);break}O[2]&&y.ops.pop(),y.trys.pop();continue}_=g.call(m,y)}catch(T){_=[6,T],I=0}finally{E=O=0}if(_[0]&5)throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}},s=He&&He.__spreadArray||function(m,g,y){if(y||arguments.length===2)for(var E=0,I=g.length,O;E<I;E++)(O||!(E in g))&&(O||(O=Array.prototype.slice.call(g,0,E)),O[E]=g[E]);return m.concat(O||Array.prototype.slice.call(g))};Object.defineProperty(e,"__esModule",{value:!0}),e.getUrl=void 0;var l=dr,u=Zn,h=function(m){return new Promise(function(g){return window.setTimeout(g,m)})},w=function(m,g){for(var y=[],E=2;E<arguments.length;E++)y[E-2]=arguments[E];return t(void 0,s([m,g],y,!0),void 0,function(I,O,R){var D,L,_,T,N,P,Q,K;return R===void 0&&(R=0),r(this,function(F){switch(F.label){case 0:if(typeof I!="function")return[3,10];F.label=1;case 1:return F.trys.push([1,3,,9]),[4,I()];case 2:return D=F.sent(),[3,9];case 3:return F.sent(),O.current.retryOnError?(L=(P=O.current.reconnectAttempts)!==null&&P!==void 0?P:u.DEFAULT_RECONNECT_LIMIT,R<L?(_=typeof O.current.reconnectInterval=="function"?O.current.reconnectInterval(R):O.current.reconnectInterval,[4,h(_??u.DEFAULT_RECONNECT_INTERVAL_MS)]):[3,5]):[3,7];case 4:return F.sent(),[2,(0,e.getUrl)(I,O,R+1)];case 5:return(K=(Q=O.current).onReconnectStop)===null||K===void 0||K.call(Q,R),[2,null];case 6:return[3,8];case 7:return[2,null];case 8:return[3,9];case 9:return[3,11];case 10:D=I,F.label=11;case 11:return T=O.current.fromSocketIO?(0,l.parseSocketIOUrl)(D):D,N=O.current.queryParams?(0,l.appendQueryParams)(T,O.current.queryParams):T,[2,N]}})})};e.getUrl=w})(Kp);var qp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.websocketWrapper=void 0;var t=function(r,s){return new Proxy(r,{get:function(l,u){var h=l[u];return u==="reconnect"?s:typeof h=="function"?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):h},set:function(l,u,h){return/^on/.test(u)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(l[u]=h,!0)}})};e.websocketWrapper=t,e.default=e.websocketWrapper})(qp);var Br=He&&He.__assign||function(){return Br=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Br.apply(this,arguments)},K3=He&&He.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},q3=He&&He.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=w(0),h.throw=w(1),h.return=w(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},$3=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0});No.useWebSocket=void 0;var Vt=Z,Jc=Jg,or=Zn,J3=Gl,eC=Kp,tC=$3(qp),yd=_o,nC=function(e,t,r){t===void 0&&(t=or.DEFAULT_OPTIONS),r===void 0&&(r=!0);var s=(0,Vt.useState)(null),l=s[0],u=s[1],h=(0,Vt.useState)({}),w=h[0],m=h[1],g=(0,Vt.useMemo)(function(){if(l)try{return JSON.parse(l.data)}catch{return or.UNPARSABLE_JSON_OBJECT}return null},[l]),y=(0,Vt.useRef)(null),E=(0,Vt.useRef)(null),I=(0,Vt.useRef)(function(){}),O=(0,Vt.useRef)(0),R=(0,Vt.useRef)(Date.now()),D=(0,Vt.useRef)([]),L=(0,Vt.useRef)(null),_=(0,Vt.useRef)(t);_.current=t;var T=y.current&&w[y.current]!==void 0?w[y.current]:e!==null&&r===!0?or.ReadyState.CONNECTING:or.ReadyState.UNINSTANTIATED,N=t.queryParams?JSON.stringify(t.queryParams):null,P=(0,Vt.useCallback)(function(F,W){var V;if(W===void 0&&(W=!0),or.isEventSourceSupported&&E.current instanceof EventSource){console.warn("Unable to send a message from an eventSource");return}((V=E.current)===null||V===void 0?void 0:V.readyState)===or.ReadyState.OPEN?((0,yd.assertIsWebSocket)(E.current,_.current.skipAssert),E.current.send(F)):W&&D.current.push(F)},[]),Q=(0,Vt.useCallback)(function(F,W){W===void 0&&(W=!0),P(JSON.stringify(F),W)},[P]),K=(0,Vt.useCallback)(function(){return _.current.share!==!0||or.isEventSourceSupported&&E.current instanceof EventSource?E.current:(L.current===null&&E.current&&((0,yd.assertIsWebSocket)(E.current,_.current.skipAssert),L.current=(0,tC.default)(E.current,I)),L.current)},[]);return(0,Vt.useEffect)(function(){if(e!==null&&r===!0){var F,W=!1,V=!0,oe=function(){return K3(void 0,void 0,void 0,function(){var he,ie,xe;return q3(this,function(we){switch(we.label){case 0:return he=y,[4,(0,eC.getUrl)(e,_)];case 1:return he.current=we.sent(),y.current===null?(console.error("Failed to get a valid URL. WebSocket connection aborted."),y.current="ABORTED",(0,Jc.flushSync)(function(){return m(function(H){return Br(Br({},H),{ABORTED:or.ReadyState.CLOSED})})}),[2]):(ie=function(H){W||(0,Jc.flushSync)(function(){return u(H)})},xe=function(H){W||(0,Jc.flushSync)(function(){return m(function(Ne){var ce;return Br(Br({},Ne),y.current&&(ce={},ce[y.current]=H,ce))})})},V&&(F=(0,J3.createOrJoinSocket)(E,y.current,xe,_,ie,I,O,R,P)),[2])}})})};return I.current=function(){W||(L.current&&(L.current=null),F==null||F(),oe())},oe(),function(){W=!0,V=!1,L.current&&(L.current=null),F==null||F(),u(null)}}else(e===null||r===!1)&&(O.current=0,m(function(he){var ie;return Br(Br({},he),y.current&&(ie={},ie[y.current]=or.ReadyState.CLOSED,ie))}))},[e,r,N,P]),(0,Vt.useEffect)(function(){T===or.ReadyState.OPEN&&D.current.splice(0).forEach(function(F){P(F)})},[T]),{sendMessage:P,sendJsonMessage:Q,lastMessage:l,lastJsonMessage:g,readyState:T,getWebSocket:K}};No.useWebSocket=nC;var ql={},ml=He&&He.__assign||function(){return ml=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ml.apply(this,arguments)};Object.defineProperty(ql,"__esModule",{value:!0});ql.useSocketIO=void 0;var Ed=Z,rC=No,iC=Zn,eu={type:"empty",payload:null},oC=function(e){if(!e||!e.data)return eu;var t=e.data.match(/\[.*]/);if(!t)return eu;var r=JSON.parse(t);return!Array.isArray(r)||!r[1]?eu:{type:r[0],payload:r[1]}},sC=function(e,t,r){t===void 0&&(t=iC.DEFAULT_OPTIONS),r===void 0&&(r=!0);var s=(0,Ed.useMemo)(function(){return ml(ml({},t),{fromSocketIO:!0})},[]),l=(0,rC.useWebSocket)(e,s,r),u=l.sendMessage,h=l.sendJsonMessage,w=l.lastMessage,m=l.readyState,g=l.getWebSocket,y=(0,Ed.useMemo)(function(){return oC(w)},[w]);return{sendMessage:u,sendJsonMessage:h,lastMessage:y,lastJsonMessage:y,readyState:m,getWebSocket:g}};ql.useSocketIO=sC;var $l={},xl=He&&He.__assign||function(){return xl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},xl.apply(this,arguments)},aC=He&&He.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r};Object.defineProperty($l,"__esModule",{value:!0});$l.useEventSource=void 0;var Cd=Z,lC=No,Ad=Zn,cC=function(e,t,r){t===void 0&&(t=Ad.DEFAULT_EVENT_SOURCE_OPTIONS);var s=t.withCredentials,l=t.events,u=aC(t,["withCredentials","events"]);r===void 0&&(r=!0);var h=xl(xl({},u),{eventSourceOptions:{withCredentials:s}}),w=(0,Cd.useRef)(Ad.EMPTY_EVENT_HANDLERS);l&&(w.current=l);var m=(0,lC.useWebSocket)(e,h,r),g=m.lastMessage,y=m.readyState,E=m.getWebSocket;return(0,Cd.useEffect)(function(){g!=null&&g.type&&Object.entries(w.current).forEach(function(I){var O=I[0],R=I[1];O===g.type&&R(g)})},[g]),{lastEvent:g,readyState:y,getEventSource:E}};$l.useEventSource=cC;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetGlobalState=e.useEventSource=e.ReadyState=e.useSocketIO=e.default=void 0;var t=No;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.useWebSocket}});var r=ql;Object.defineProperty(e,"useSocketIO",{enumerable:!0,get:function(){return r.useSocketIO}});var s=Zn;Object.defineProperty(e,"ReadyState",{enumerable:!0,get:function(){return s.ReadyState}});var l=$l;Object.defineProperty(e,"useEventSource",{enumerable:!0,get:function(){return l.useEventSource}});var u=_o;Object.defineProperty(e,"resetGlobalState",{enumerable:!0,get:function(){return u.resetGlobalState}})})(Zp);const uC=df(Zp),fC=()=>{const e="wss://www.evently.wiki",[t,r]=Z.useState(e),[s,l]=Z.useState(),{sendMessage:u,lastMessage:h,readyState:w}=uC(t);Z.useEffect(()=>{if(h!==null){const y=JSON.parse(h.data);l(y.data)}},[h]);const m=Z.useRef(null);Z.useEffect(()=>()=>{m.current&&clearInterval(m.current)},[]);const g={0:"Connecting",1:"Open",2:"Closing",3:"Closed"}[w]||"Unknown";return console.log(`data sent over is${JSON.stringify(s)}`),console.log("Connection Status:",g),U.jsxs(U.Fragment,{children:[U.jsx(ai,{profileImgUrl:"empty",admin:!0}),U.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"800px",height:"600px",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ccc",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:"20px"},children:[U.jsx("h1",{children:"QR Code!!"}),s&&U.jsx(Qp,{id:"qr-code-canvas",value:JSON.stringify(s),size:256,bgColor:"#ffffff",fgColor:"#000000"})]})]})};var le;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(le||(le={}));var Sd=new Map([[le.QR_CODE,"QR_CODE"],[le.AZTEC,"AZTEC"],[le.CODABAR,"CODABAR"],[le.CODE_39,"CODE_39"],[le.CODE_93,"CODE_93"],[le.CODE_128,"CODE_128"],[le.DATA_MATRIX,"DATA_MATRIX"],[le.MAXICODE,"MAXICODE"],[le.ITF,"ITF"],[le.EAN_13,"EAN_13"],[le.EAN_8,"EAN_8"],[le.PDF_417,"PDF_417"],[le.RSS_14,"RSS_14"],[le.RSS_EXPANDED,"RSS_EXPANDED"],[le.UPC_A,"UPC_A"],[le.UPC_E,"UPC_E"],[le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),vd;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(vd||(vd={}));function dC(e){return Object.values(le).includes(e)}var ti;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ti||(ti={}));var Hn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ti.SCAN_TYPE_CAMERA,ti.SCAN_TYPE_FILE],e}(),$p=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Sd.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Sd.get(t))},e}(),Id=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),lf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(lf||(lf={}));var Jp=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:lf.UNKWOWN_ERROR}},e}(),e2=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ar(e){return typeof e>"u"||e===null}function hC(e,t,r){return e>r?r:e<t?t:e}var so=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ze=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Td=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),t2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var s=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),h=Object.keys(t),w=0,m=h;w<m.length;w++){var g=m[w];if(u.has(g))return r.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),cf={exports:{}};(function(e,t){(function(r,s){s(t)})(He,function(r){function s(A){return A==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)n.hasOwnProperty(i)&&(A[i]=n[i])};function u(A,n){l(A,n);function i(){this.constructor=A}A.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function h(A,n){var i=Object.setPrototypeOf;i?i(A,n):A.__proto__=n}function w(A,n){n===void 0&&(n=A.constructor);var i=Error.captureStackTrace;i&&i(A,n)}var m=function(A){u(n,A);function n(i){var o=this.constructor,a=A.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),h(a,o.prototype),w(a),a}return n}(Error);class g extends m{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class E extends g{}E.kind="IllegalArgumentException";class I{constructor(n){if(this.binarizer=n,n===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,a){const c=this.binarizer.getLuminanceSource().crop(n,i,o,a);return new I(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends g{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class R{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(n,i,o,a,c){for(;c--;)o[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class L extends g{}L.kind="IndexOutOfBoundsException";class _ extends L{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}_.kind="ArrayIndexOutOfBoundsException";class T{static fill(n,i){for(let o=0,a=n.length;o<a;o++)n[o]=i}static fillWithin(n,i,o,a){T.rangeCheck(n.length,i,o);for(let c=i;c<o;c++)n[c]=a}static rangeCheck(n,i,o){if(i>o)throw new E("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new _(i);if(o>n)throw new _(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,a=n.length;o<a;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){const a=o-i,c=new Int32Array(a);return D.arraycopy(n,i,c,0,a),c}static binarySearch(n,i,o){o===void 0&&(o=T.numberComparator);let a=0,c=n.length-1;for(;a<=c;){const f=c+a>>1,d=o(i,n[f]);if(d>0)a=f+1;else if(d<0)c=f-1;else return f}return-a-1}static numberComparator(n,i){return n-i}}class N{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=P.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=P.makeArray(n);D.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const o=this.bits;let a=Math.floor(n/32),c=o[a];c&=~((1<<(n&31))-1);const f=o.length;for(;c===0;){if(++a===f)return i;c=o[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}getNextUnset(n){const i=this.size;if(n>=i)return i;const o=this.bits;let a=Math.floor(n/32),c=~o[a];c&=~((1<<(n&31))-1);const f=o.length;for(;c===0;){if(++a===f)return i;c=~o[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new E;if(i===n)return;i--;const o=Math.floor(n/32),a=Math.floor(i/32),c=this.bits;for(let f=o;f<=a;f++){const d=f>o?0:n&31,x=(2<<(f<a?31:i&31))-(1<<d);c[f]|=x}}clear(){const n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new E;if(i===n)return!0;i--;const a=Math.floor(n/32),c=Math.floor(i/32),f=this.bits;for(let d=a;d<=c;d++){const p=d>a?0:n&31,C=(2<<(d<c?31:i&31))-(1<<p)&4294967295;if((f[d]&C)!==(o?C:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new E("Sizes don't match");const i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=n.bits[o]}toBytes(n,i,o,a){for(let c=0;c<a;c++){let f=0;for(let d=0;d<8;d++)this.get(n)&&(f|=1<<7-d),n++;i[o+c]=f}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let c=0;c<o;c++){let f=a[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[i-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=n[0]>>>c;for(let d=1;d<o;d++){const p=n[d];f|=p<<32-c,n[d-1]=f,f=p>>>c}n[o-1]=f}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof P))return!1;const i=n;return this.size===i.size&&T.equals(this.bits,i.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new P(this.size,this.bits.slice())}}var Q;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var K=Q;class F extends g{static getFormatInstance(){return new F}}F.kind="FormatException";var W;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(W||(W={}));class V{constructor(n,i,o,...a){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,V.VALUE_IDENTIFIER_TO_ECI.set(n,this),V.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,d=c.length;f!==d;f++){const p=c[f];V.VALUES_TO_ECI.set(p,this)}for(const f of a)V.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new F("incorect value");const i=V.VALUES_TO_ECI.get(n);if(i===void 0)throw new F("incorect value");return i}static getCharacterSetECIByName(n){const i=V.NAME_TO_ECI.get(n);if(i===void 0)throw new F("incorect value");return i}equals(n){if(!(n instanceof V))return!1;const i=n;return this.getName()===i.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(W.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(W.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(W.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(W.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(W.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(W.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(W.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(W.Big5,28,"Big5"),V.GB18030=new V(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(W.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends g{}oe.kind="UnsupportedOperationException";class he{static decode(n,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!he.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof V?n:V.getCharacterSetECIByName(n)}static decodeFallback(n,i){const o=this.encodingCharacterSet(i);if(he.isDecodeFallbackSupported(o)){let a="";for(let c=0,f=n.length;c<f;c++){let d=n[c].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(o.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new oe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(V.UTF8)||n.equals(V.ISO8859_1)||n.equals(V.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let c=0;c<o.length;c++)a.push(o[c].charCodeAt(0));return new Uint8Array(a)}}class ie{static castAsNonUtf8Char(n,i=null){const o=i?i.getName():this.ISO88591;return he.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get(K.CHARACTER_SET)!==void 0)return i.get(K.CHARACTER_SET).toString();const o=n.length;let a=!0,c=!0,f=!0,d=0,p=0,x=0,C=0,S=0,v=0,M=0,k=0,B=0,j=0,Y=0;const ee=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let te=0;te<o&&(a||c||f);te++){const $=n[te]&255;f&&(d>0?$&128?d--:f=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?f=!1:C++):x++):p++):f=!1)),a&&($>127&&$<160?a=!1:$>159&&($<192||$===215||$===247)&&Y++),c&&(S>0?$<64||$===127||$>252?c=!1:S--:$===128||$===160||$>239?c=!1:$>160&&$<224?(v++,k=0,M++,M>B&&(B=M)):$>127?(S++,M=0,k++,k>j&&(j=k)):(M=0,k=0))}return f&&d>0&&(f=!1),c&&S>0&&(c=!1),f&&(ee||p+x+C>0)?ie.UTF8:c&&(ie.ASSUME_SHIFT_JIS||B>=3||j>=3)?ie.SHIFT_JIS:a&&c?B===2&&v===2||Y*10>=o?ie.SHIFT_JIS:ie.ISO88591:a?ie.ISO88591:c?ie.SHIFT_JIS:f?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function a(f,d,p,x,C,S){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=i[o];break;case"c":M=i[o][0];break;case"f":M=parseFloat(i[o]).toFixed(f);break;case"p":M=parseFloat(i[o]).toPrecision(f);break;case"e":M=parseFloat(i[o]).toExponential(f);break;case"x":M=parseInt(i[o]).toString(v||16);break;case"d":M=parseFloat(parseInt(i[o],v||10).toPrecision(f)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(v);let k=parseInt(p),B=p&&p[0]+""=="0"?"0":" ";for(;M.length<k;)M=d!==void 0?M+B:B+M;return M}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}static getBytes(n,i){return he.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ie.SHIFT_JIS=V.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=V.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=V.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class xe{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let a=i;i<i+o;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class we{constructor(n,i,o,a){if(this.width=n,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new E("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,o=n[0].length,a=new we(o,i);for(let c=0;c<i;c++){const f=n[c];for(let d=0;d<o;d++)f[d]&&a.set(d,c)}return a}static parseFromString(n,i,o){if(n===null)throw new E("stringRepresentation cannot be null");const a=new Array(n.length);let c=0,f=0,d=-1,p=0,x=0;for(;x<n.length;)if(n.charAt(x)===`
`||n.charAt(x)==="\r"){if(c>f){if(d===-1)d=c-f;else if(c-f!==d)throw new E("row lengths do not match");f=c,p++}x++}else if(n.substring(x,x+i.length)===i)x+=i.length,a[c]=!0,c++;else if(n.substring(x,x+o.length)===o)x+=o.length,a[c]=!1,c++;else throw new E("illegal character encountered: "+n.substring(x));if(c>f){if(d===-1)d=c-f;else if(c-f!==d)throw new E("row lengths do not match");p++}const C=new we(d,p);for(let S=0;S<c;S++)a[S]&&C.set(Math.floor(S%d),Math.floor(S/d));return C}get(n,i){const o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new E("input matrix dimensions do not match");const i=new P(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let c=0,f=this.height;c<f;c++){const d=c*o,p=n.getRow(c,i).getBitArray();for(let x=0;x<o;x++)a[d+x]^=p[x]}}clear(){const n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,a){if(i<0||n<0)throw new E("Left and top must be nonnegative");if(a<1||o<1)throw new E("Height and width must be at least 1");const c=n+o,f=i+a;if(f>this.height||c>this.width)throw new E("The region must fit inside the matrix");const d=this.rowSize,p=this.bits;for(let x=i;x<f;x++){const C=x*d;for(let S=n;S<c;S++)p[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new P(this.width):i.clear();const o=this.rowSize,a=this.bits,c=n*o;for(let f=0;f<o;f++)i.setBulk(f*32,a[c+f]);return i}setRow(n,i){D.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let o=new P(n),a=new P(n);for(let c=0,f=Math.floor((i+1)/2);c<f;c++)o=this.getRow(c,o),a=this.getRow(i-1-c,a),o.reverse(),a.reverse(),this.setRow(c,a),this.setRow(i-1-c,o)}getEnclosingRectangle(){const n=this.width,i=this.height,o=this.rowSize,a=this.bits;let c=n,f=i,d=-1,p=-1;for(let x=0;x<i;x++)for(let C=0;C<o;C++){const S=a[x*o+C];if(S!==0){if(x<f&&(f=x),x>p&&(p=x),C*32<c){let v=0;for(;!(S<<31-v&4294967295);)v++;C*32+v<c&&(c=C*32+v)}if(C*32+31>d){let v=31;for(;!(S>>>v);)v--;C*32+v>d&&(d=C*32+v)}}}return d<c||p<f?null:Int32Array.from([c,f,d-c+1,p-f+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const a=o/n;let c=o%n*32;const f=i[o];let d=0;for(;!(f<<31-d&4294967295);)d++;return c+=d,Int32Array.from([c,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/n);let c=Math.floor(o%n)*32;const f=i[o];let d=31;for(;!(f>>>d);)d--;return c+=d,Int32Array.from([c,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof we))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&T.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+T.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let a=new xe;for(let c=0,f=this.height;c<f;c++){for(let d=0,p=this.width;d<p;d++)a.append(this.get(d,c)?n:i);a.append(o)}return a.toString()}clone(){return new we(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends g{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class Ne extends R{constructor(n){super(n),this.luminances=Ne.EMPTY,this.buckets=new Int32Array(Ne.LUMINANCE_BUCKETS)}getBlackRow(n,i){const o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new P(a):i.clear(),this.initArrays(a);const c=o.getRow(n,this.luminances),f=this.buckets;for(let p=0;p<a;p++)f[(c[p]&255)>>Ne.LUMINANCE_SHIFT]++;const d=Ne.estimateBlackPoint(f);if(a<3)for(let p=0;p<a;p++)(c[p]&255)<d&&i.set(p);else{let p=c[0]&255,x=c[1]&255;for(let C=1;C<a-1;C++){const S=c[C+1]&255;(x*4-p-S)/2<d&&i.set(C),p=x,x=S}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),a=new we(i,o);this.initArrays(i);const c=this.buckets;for(let p=1;p<5;p++){const x=Math.floor(o*p/5),C=n.getRow(x,this.luminances),S=Math.floor(i*4/5);for(let v=Math.floor(i/5);v<S;v++){const M=C[v]&255;c[M>>Ne.LUMINANCE_SHIFT]++}}const f=Ne.estimateBlackPoint(c),d=n.getMatrix();for(let p=0;p<o;p++){const x=p*i;for(let C=0;C<i;C++)(d[x+C]&255)<f&&a.set(C,p)}return a}createBinarizer(n){return new Ne(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let o=0;o<Ne.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){const i=n.length;let o=0,a=0,c=0;for(let C=0;C<i;C++)n[C]>c&&(a=C,c=n[C]),n[C]>o&&(o=n[C]);let f=0,d=0;for(let C=0;C<i;C++){const S=C-a,v=n[C]*S*S;v>d&&(f=C,d=v)}if(a>f){const C=a;a=f,f=C}if(f-a<=i/16)throw new H;let p=f-1,x=-1;for(let C=f-1;C>a;C--){const S=C-a,v=S*S*(f-C)*(o-n[C]);v>x&&(p=C,x=v)}return p<<Ne.LUMINANCE_SHIFT}}Ne.LUMINANCE_BITS=5,Ne.LUMINANCE_SHIFT=8-Ne.LUMINANCE_BITS,Ne.LUMINANCE_BUCKETS=1<<Ne.LUMINANCE_BITS,Ne.EMPTY=Uint8ClampedArray.from([0]);class ce extends Ne{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=ce.MINIMUM_DIMENSION&&o>=ce.MINIMUM_DIMENSION){const a=n.getMatrix();let c=i>>ce.BLOCK_SIZE_POWER;i&ce.BLOCK_SIZE_MASK&&c++;let f=o>>ce.BLOCK_SIZE_POWER;o&ce.BLOCK_SIZE_MASK&&f++;const d=ce.calculateBlackPoints(a,c,f,i,o),p=new we(i,o);ce.calculateThresholdForBlock(a,c,f,i,o,d,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ce(n)}static calculateThresholdForBlock(n,i,o,a,c,f,d){const p=c-ce.BLOCK_SIZE,x=a-ce.BLOCK_SIZE;for(let C=0;C<o;C++){let S=C<<ce.BLOCK_SIZE_POWER;S>p&&(S=p);const v=ce.cap(C,2,o-3);for(let M=0;M<i;M++){let k=M<<ce.BLOCK_SIZE_POWER;k>x&&(k=x);const B=ce.cap(M,2,i-3);let j=0;for(let ee=-2;ee<=2;ee++){const te=f[v+ee];j+=te[B-2]+te[B-1]+te[B]+te[B+1]+te[B+2]}const Y=j/25;ce.thresholdBlock(n,k,S,Y,a,d)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,a,c,f){for(let d=0,p=o*c+i;d<ce.BLOCK_SIZE;d++,p+=c)for(let x=0;x<ce.BLOCK_SIZE;x++)(n[p+x]&255)<=a&&f.set(i+x,o+d)}static calculateBlackPoints(n,i,o,a,c){const f=c-ce.BLOCK_SIZE,d=a-ce.BLOCK_SIZE,p=new Array(o);for(let x=0;x<o;x++){p[x]=new Int32Array(i);let C=x<<ce.BLOCK_SIZE_POWER;C>f&&(C=f);for(let S=0;S<i;S++){let v=S<<ce.BLOCK_SIZE_POWER;v>d&&(v=d);let M=0,k=255,B=0;for(let Y=0,ee=C*a+v;Y<ce.BLOCK_SIZE;Y++,ee+=a){for(let te=0;te<ce.BLOCK_SIZE;te++){const $=n[ee+te]&255;M+=$,$<k&&(k=$),$>B&&(B=$)}if(B-k>ce.MIN_DYNAMIC_RANGE)for(Y++,ee+=a;Y<ce.BLOCK_SIZE;Y++,ee+=a)for(let te=0;te<ce.BLOCK_SIZE;te++)M+=n[ee+te]&255}let j=M>>ce.BLOCK_SIZE_POWER*2;if(B-k<=ce.MIN_DYNAMIC_RANGE&&(j=k/2,x>0&&S>0)){const Y=(p[x-1][S]+2*p[x][S-1]+p[x-1][S-1])/4;k<Y&&(j=Y)}p[x][S]=j}}return p}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class ne{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,a){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new xe;for(let o=0;o<this.height;o++){const a=this.getRow(o,n);for(let c=0;c<this.width;c++){const f=a[c]&255;let d;f<64?d="#":f<128?d="+":f<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class de extends ne{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const o=this.delegate.getRow(n,i),a=this.getWidth();for(let c=0;c<a;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(n[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,a){return new de(this.delegate.crop(n,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class ge extends ne{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return ge.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){const a=new Uint8ClampedArray(i*o);for(let c=0,f=0,d=n.length;c<d;c+=4,f++){let p;if(n[c+3]===0)p=255;else{const C=n[c],S=n[c+1],v=n[c+2];p=306*C+601*S+117*v+512>>10}a[f]=p}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new E("Requested row is outside the image: "+n);const o=this.getWidth(),a=n*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,a){return super.crop(n,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),o=i.getContext("2d"),a=n*ge.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*c+Math.abs(Math.sin(a))*f),p=Math.ceil(Math.abs(Math.sin(a))*c+Math.abs(Math.cos(a))*f);return i.width=d,i.height=p,o.translate(d/2,p/2),o.rotate(a),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=ge.makeBufferFromCanvasImageData(i),this}invert(){return new de(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class De{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||He||self||window||void 0)&&(globalThis||He||self||window||void 0).__awaiter||function(A,n,i,o){function a(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function d(C){try{x(o.next(C))}catch(S){f(S)}}function p(C){try{x(o.throw(C))}catch(S){f(S)}}function x(C){C.done?c(C.value):a(C.value).then(d,p)}x((o=o.apply(A,n||[])).next())})};class Ge{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of n){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,d=o.groupId,p={deviceId:c,label:f,kind:a,groupId:d};i.push(p)}return i})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new De(i.deviceId,i.label))})}findDeviceById(n){return Ae(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Ae(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return Ae(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return Ae(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return Ae(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(n,i,o){return Ae(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(n,i,o){return Ae(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Ae(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const o=document.getElementById(n);if(!o)throw new y(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new y(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new y("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new y("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new y("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=n,a}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;const a=(c,f)=>{if(this._stopAsyncDecode){f(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);c(d)}catch(d){const p=i&&d instanceof H,C=(d instanceof O||d instanceof F)&&o;if(p||C)return setTimeout(a,this._timeBetweenDecodingAttempts,c,f);f(d)}};return new Promise((c,f)=>a(c,f))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);const c=a instanceof O||a instanceof F,f=a instanceof H;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),o=new ge(i),a=new ce(o);return new I(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class _e{constructor(n,i,o=i==null?0:8*i.length,a,c,f=D.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=c,this.timestamp=f,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=c,this.resultMetadata=null,f==null?this.timestamp=D.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(i.length+n.length);D.arraycopy(i,0,o,0,i.length),D.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Nt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Nt||(Nt={}));var se=Nt,en;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(en||(en={}));var xt=en;class Oo{constructor(n,i,o,a,c=-1,f=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class bo{exp(n){return this.expTable[n]}log(n){if(n===0)throw new E;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class tn{constructor(n,i){if(i.length===0)throw new E;this.field=n;const o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),D.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(n===1){o=0;for(let f=0,d=i.length;f!==d;f++){const p=i[f];o=bo.addOrSubtract(o,p)}return o}o=i[0];const a=i.length,c=this.field;for(let f=1;f<a;f++)o=bo.addOrSubtract(c.multiply(n,o),i[f]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let a=new Int32Array(o.length);const c=o.length-i.length;D.arraycopy(o,0,a,0,c);for(let f=c;f<o.length;f++)a[f]=bo.addOrSubtract(i[f-c],o[f]);return new tn(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,f=new Int32Array(o+c-1),d=this.field;for(let p=0;p<o;p++){const x=i[p];for(let C=0;C<c;C++)f[p+C]=bo.addOrSubtract(f[p+C],d.multiply(x,a[C]))}return new tn(d,f)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,o=this.field,a=new Int32Array(i),c=this.coefficients;for(let f=0;f<i;f++)a[f]=o.multiply(c[f],n);return new tn(o,a)}multiplyByMonomial(n,i){if(n<0)throw new E;if(i===0)return this.field.getZero();const o=this.coefficients,a=o.length,c=new Int32Array(a+n),f=this.field;for(let d=0;d<a;d++)c[d]=f.multiply(o[d],i);return new tn(f,c)}divide(n){if(!this.field.equals(n.field))throw new E("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new E("Divide by 0");const i=this.field;let o=i.getZero(),a=this;const c=n.getCoefficient(n.getDegree()),f=i.inverse(c);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const d=a.getDegree()-n.getDegree(),p=i.multiply(a.getCoefficient(a.getDegree()),f),x=n.multiplyByMonomial(d,p),C=i.buildMonomial(d,p);o=o.addOrSubtract(C),a=a.addOrSubtract(x)}return[o,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){const a=this.field.log(o);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Hs extends g{}Hs.kind="ArithmeticException";class Be extends bo{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;const a=new Int32Array(i);let c=1;for(let d=0;d<i;d++)a[d]=c,c*=2,c>=i&&(c^=n,c&=i-1);this.expTable=a;const f=new Int32Array(i);for(let d=0;d<i-1;d++)f[a[d]]=d;this.logTable=f,this.zero=new tn(this,Int32Array.from([0])),this.one=new tn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new E;if(i===0)return this.zero;const o=new Int32Array(n+1);return o[0]=i,new tn(this,o)}inverse(n){if(n===0)throw new Hs;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Be.AZTEC_DATA_12=new Be(4201,4096,1),Be.AZTEC_DATA_10=new Be(1033,1024,1),Be.AZTEC_DATA_6=new Be(67,64,1),Be.AZTEC_PARAM=new Be(19,16,1),Be.QR_CODE_FIELD_256=new Be(285,256,0),Be.DATA_MATRIX_FIELD_256=new Be(301,256,1),Be.AZTEC_DATA_8=Be.DATA_MATRIX_FIELD_256,Be.MAXICODE_FIELD_64=Be.AZTEC_DATA_6;class ki extends g{}ki.kind="ReedSolomonException";class Kn extends g{}Kn.kind="IllegalStateException";class Ro{constructor(n){this.field=n}decode(n,i){const o=this.field,a=new tn(o,n),c=new Int32Array(i);let f=!0;for(let M=0;M<i;M++){const k=a.evaluateAt(o.exp(M+o.getGeneratorBase()));c[c.length-1-M]=k,k!==0&&(f=!1)}if(f)return;const d=new tn(o,c),p=this.runEuclideanAlgorithm(o.buildMonomial(i,1),d,i),x=p[0],C=p[1],S=this.findErrorLocations(x),v=this.findErrorMagnitudes(C,S);for(let M=0;M<S.length;M++){const k=n.length-1-o.log(S[M]);if(k<0)throw new ki("Bad error location");n[k]=Be.addOrSubtract(n[k],v[M])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){const M=n;n=i,i=M}const a=this.field;let c=n,f=i,d=a.getZero(),p=a.getOne();for(;f.getDegree()>=(o/2|0);){let M=c,k=d;if(c=f,d=p,c.isZero())throw new ki("r_{i-1} was zero");f=M;let B=a.getZero();const j=c.getCoefficient(c.getDegree()),Y=a.inverse(j);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const ee=f.getDegree()-c.getDegree(),te=a.multiply(f.getCoefficient(f.getDegree()),Y);B=B.addOrSubtract(a.buildMonomial(ee,te)),f=f.addOrSubtract(c.multiplyByMonomial(ee,te))}if(p=B.multiply(d).addOrSubtract(k),f.getDegree()>=c.getDegree())throw new Kn("Division algorithm failed to reduce polynomial?")}const x=p.getCoefficient(0);if(x===0)throw new ki("sigmaTilde(0) was zero");const C=a.inverse(x),S=p.multiplyScalar(C),v=f.multiplyScalar(C);return[S,v]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(i);let a=0;const c=this.field;for(let f=1;f<c.getSize()&&a<i;f++)n.evaluateAt(f)===0&&(o[a]=c.inverse(f),a++);if(a!==i)throw new ki("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){const o=i.length,a=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const d=c.inverse(i[f]);let p=1;for(let x=0;x<o;x++)if(f!==x){const C=c.multiply(i[x],d),S=C&1?C&-2:C|1;p=c.multiply(p,S)}a[f]=c.multiply(n.evaluateAt(d),c.inverse(p)),c.getGeneratorBase()!==0&&(a[f]=c.multiply(a[f],d))}return a}}var Mt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(Mt||(Mt={}));class Ze{decode(n){this.ddata=n;let i=n.getBits(),o=this.extractBits(i),a=this.correctBits(o),c=Ze.convertBoolArrayToByteArray(a),f=Ze.getEncodedData(a),d=new Oo(c,f,null,null);return d.setNumBits(a.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,o=Mt.UPPER,a=Mt.UPPER,c="",f=0;for(;f<i;)if(a===Mt.BINARY){if(i-f<5)break;let d=Ze.readCode(n,f,5);if(f+=5,d===0){if(i-f<11)break;d=Ze.readCode(n,f,11)+31,f+=11}for(let p=0;p<d;p++){if(i-f<8){f=i;break}const x=Ze.readCode(n,f,8);c+=ie.castAsNonUtf8Char(x),f+=8}a=o}else{let d=a===Mt.DIGIT?4:5;if(i-f<d)break;let p=Ze.readCode(n,f,d);f+=d;let x=Ze.getCharacter(a,p);x.startsWith("CTRL_")?(o=a,a=Ze.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(c+=x,a=o)}return c}static getTable(n){switch(n){case"L":return Mt.LOWER;case"P":return Mt.PUNCT;case"M":return Mt.MIXED;case"D":return Mt.DIGIT;case"B":return Mt.BINARY;case"U":default:return Mt.UPPER}}static getCharacter(n,i){switch(n){case Mt.UPPER:return Ze.UPPER_TABLE[i];case Mt.LOWER:return Ze.LOWER_TABLE[i];case Mt.MIXED:return Ze.MIXED_TABLE[i];case Mt.PUNCT:return Ze.PUNCT_TABLE[i];case Mt.DIGIT:return Ze.DIGIT_TABLE[i];default:throw new Kn("Bad table")}}correctBits(n){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Be.AZTEC_DATA_10):(o=12,i=Be.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),c=n.length/o;if(c<a)throw new F;let f=n.length%o,d=new Int32Array(c);for(let v=0;v<c;v++,f+=o)d[v]=Ze.readCode(n,f,o);try{new Ro(i).decode(d,c-a)}catch(v){throw new F(v)}let p=(1<<o)-1,x=0;for(let v=0;v<a;v++){let M=d[v];if(M===0||M===p)throw new F;(M===1||M===p-1)&&x++}let C=new Array(a*o-x),S=0;for(let v=0;v<a;v++){let M=d[v];if(M===1||M===p-1)C.fill(M>1,S,S+o-1),S+=o-1;else for(let k=o-1;k>=0;--k)C[S++]=(M&1<<k)!==0}return C}extractBits(n){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(i?11:14)+o*4,c=new Int32Array(a),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let d=0;d<c.length;d++)c[d]=d;else{let d=a+1+2*N.truncDivision(N.truncDivision(a,2)-1,15),p=a/2,x=N.truncDivision(d,2);for(let C=0;C<p;C++){let S=C+N.truncDivision(C,15);c[p-C-1]=x-S-1,c[p+C]=x+S+1}}for(let d=0,p=0;d<o;d++){let x=(o-d)*4+(i?9:12),C=d*2,S=a-1-C;for(let v=0;v<x;v++){let M=v*2;for(let k=0;k<2;k++)f[p+M+k]=n.get(c[C+k],c[C+v]),f[p+2*x+M+k]=n.get(c[C+v],c[S-k]),f[p+4*x+M+k]=n.get(c[S-k],c[S-v]),f[p+6*x+M+k]=n.get(c[S-v],c[C+k])}p+=x*8}return f}static readCode(n,i,o){let a=0;for(let c=i;c<i+o;c++)a<<=1,n[c]&&(a|=1);return a}static readByte(n,i){let o=n.length-i;return o>=8?Ze.readCode(n,i,8):Ze.readCode(n,i,o)<<8-o}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let o=0;o<i.length;o++)i[o]=Ze.readByte(n,8*o);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Le{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,a){const c=n-o,f=i-a;return Math.sqrt(c*c+f*f)}static sum(n){let i=0;for(let o=0,a=n.length;o!==a;o++){const c=n[o];i+=c}return i}}class Vs{static floatToIntBits(n){return n}}Vs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof fe){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Vs.floatToIntBits(this.x)+Vs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let c,f,d;if(o>=i&&o>=a?(f=n[0],c=n[1],d=n[2]):a>=o&&a>=i?(f=n[1],c=n[0],d=n[2]):(f=n[2],c=n[0],d=n[1]),this.crossProductZ(c,f,d)<0){const p=c;c=d,d=p}n[0]=c,n[1]=f,n[2]=d}static distance(n,i){return Le.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){const a=i.x,c=i.y;return(o.x-a)*(n.y-c)-(o.y-c)*(n.x-a)}}class Ws{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class w1 extends Ws{constructor(n,i,o,a,c){super(n,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class hr{constructor(n,i,o,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=hr.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const c=i/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=a-c,this.downInit=a+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let n=this.leftInit,i=this.rightInit,o=this.upInit,a=this.downInit,c=!1,f=!0,d=!1,p=!1,x=!1,C=!1,S=!1;const v=this.width,M=this.height;for(;f;){f=!1;let k=!0;for(;(k||!p)&&i<v;)k=this.containsBlackPoint(o,a,i,!1),k?(i++,f=!0,p=!0):p||i++;if(i>=v){c=!0;break}let B=!0;for(;(B||!x)&&a<M;)B=this.containsBlackPoint(n,i,a,!0),B?(a++,f=!0,x=!0):x||a++;if(a>=M){c=!0;break}let j=!0;for(;(j||!C)&&n>=0;)j=this.containsBlackPoint(o,a,n,!1),j?(n--,f=!0,C=!0):C||n--;if(n<0){c=!0;break}let Y=!0;for(;(Y||!S)&&o>=0;)Y=this.containsBlackPoint(n,i,o,!0),Y?(o--,f=!0,S=!0):S||o--;if(o<0){c=!0;break}f&&(d=!0)}if(!c&&d){const k=i-n;let B=null;for(let te=1;B===null&&te<k;te++)B=this.getBlackPointOnSegment(n,a-te,n+te,a);if(B==null)throw new H;let j=null;for(let te=1;j===null&&te<k;te++)j=this.getBlackPointOnSegment(n,o+te,n+te,o);if(j==null)throw new H;let Y=null;for(let te=1;Y===null&&te<k;te++)Y=this.getBlackPointOnSegment(i,o+te,i-te,o);if(Y==null)throw new H;let ee=null;for(let te=1;ee===null&&te<k;te++)ee=this.getBlackPointOnSegment(i,a-te,i-te,a);if(ee==null)throw new H;return this.centerEdges(ee,B,Y,j)}else throw new H}getBlackPointOnSegment(n,i,o,a){const c=Le.round(Le.distance(n,i,o,a)),f=(o-n)/c,d=(a-i)/c,p=this.image;for(let x=0;x<c;x++){const C=Le.round(n+x*f),S=Le.round(i+x*d);if(p.get(C,S))return new fe(C,S)}return null}centerEdges(n,i,o,a){const c=n.getX(),f=n.getY(),d=i.getX(),p=i.getY(),x=o.getX(),C=o.getY(),S=a.getX(),v=a.getY(),M=hr.CORR;return c<this.width/2?[new fe(S-M,v+M),new fe(d+M,p+M),new fe(x-M,C-M),new fe(c+M,f-M)]:[new fe(S+M,v+M),new fe(d+M,p-M),new fe(x-M,C+M),new fe(c-M,f-M)]}containsBlackPoint(n,i,o,a){const c=this.image;if(a){for(let f=n;f<=i;f++)if(c.get(f,o))return!0}else for(let f=n;f<=i;f++)if(c.get(o,f))return!0;return!1}}hr.INIT_SIZE=10,hr.CORR=1;class tc{static checkAndNudgePoints(n,i){const o=n.getWidth(),a=n.getHeight();let c=!0;for(let f=0;f<i.length&&c;f+=2){const d=Math.floor(i[f]),p=Math.floor(i[f+1]);if(d<-1||d>o||p<-1||p>a)throw new H;c=!1,d===-1?(i[f]=0,c=!0):d===o&&(i[f]=o-1,c=!0),p===-1?(i[f+1]=0,c=!0):p===a&&(i[f+1]=a-1,c=!0)}c=!0;for(let f=i.length-2;f>=0&&c;f-=2){const d=Math.floor(i[f]),p=Math.floor(i[f+1]);if(d<-1||d>o||p<-1||p>a)throw new H;c=!1,d===-1?(i[f]=0,c=!0):d===o&&(i[f]=o-1,c=!0),p===-1?(i[f+1]=0,c=!0):p===a&&(i[f+1]=a-1,c=!0)}}}class Pn{constructor(n,i,o,a,c,f,d,p,x){this.a11=n,this.a21=i,this.a31=o,this.a12=a,this.a22=c,this.a32=f,this.a13=d,this.a23=p,this.a33=x}static quadrilateralToQuadrilateral(n,i,o,a,c,f,d,p,x,C,S,v,M,k,B,j){const Y=Pn.quadrilateralToSquare(n,i,o,a,c,f,d,p);return Pn.squareToQuadrilateral(x,C,S,v,M,k,B,j).times(Y)}transformPoints(n){const i=n.length,o=this.a11,a=this.a12,c=this.a13,f=this.a21,d=this.a22,p=this.a23,x=this.a31,C=this.a32,S=this.a33;for(let v=0;v<i;v+=2){const M=n[v],k=n[v+1],B=c*M+p*k+S;n[v]=(o*M+f*k+x)/B,n[v+1]=(a*M+d*k+C)/B}}transformPointsWithValues(n,i){const o=this.a11,a=this.a12,c=this.a13,f=this.a21,d=this.a22,p=this.a23,x=this.a31,C=this.a32,S=this.a33,v=n.length;for(let M=0;M<v;M++){const k=n[M],B=i[M],j=c*k+p*B+S;n[M]=(o*k+f*B+x)/j,i[M]=(a*k+d*B+C)/j}}static squareToQuadrilateral(n,i,o,a,c,f,d,p){const x=n-o+c-d,C=i-a+f-p;if(x===0&&C===0)return new Pn(o-n,c-o,n,a-i,f-a,i,0,0,1);{const S=o-c,v=d-c,M=a-f,k=p-f,B=S*k-v*M,j=(x*k-v*C)/B,Y=(S*C-x*M)/B;return new Pn(o-n+j*o,d-n+Y*d,n,a-i+j*a,p-i+Y*p,i,j,Y,1)}}static quadrilateralToSquare(n,i,o,a,c,f,d,p){return Pn.squareToQuadrilateral(n,i,o,a,c,f,d,p).buildAdjoint()}buildAdjoint(){return new Pn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Pn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class y1 extends tc{sampleGrid(n,i,o,a,c,f,d,p,x,C,S,v,M,k,B,j,Y,ee,te){const $=Pn.quadrilateralToQuadrilateral(a,c,f,d,p,x,C,S,v,M,k,B,j,Y,ee,te);return this.sampleGridWithTransform(n,i,o,$)}sampleGridWithTransform(n,i,o,a){if(i<=0||o<=0)throw new H;const c=new we(i,o),f=new Float32Array(2*i);for(let d=0;d<o;d++){const p=f.length,x=d+.5;for(let C=0;C<p;C+=2)f[C]=C/2+.5,f[C+1]=x;a.transformPoints(f),tc.checkAndNudgePoints(n,f);try{for(let C=0;C<p;C+=2)n.get(Math.floor(f[C]),Math.floor(f[C+1]))&&c.set(C/2,d)}catch{throw new H}}return c}}class Ir{static setGridSampler(n){Ir.gridSampler=n}static getInstance(){return Ir.gridSampler}}Ir.gridSampler=new y1;class Xt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class E1{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new w1(a,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new H;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let f=0;f<4;f++){let d=o[(this.shift+f)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(n,i){let o=0;n.forEach((a,c,f)=>{let d=(a>>i-2<<1)+(a&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(N.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new H}getCorrectedParameterData(n,i){let o,a;i?(o=7,a=2):(o=10,a=4);let c=o-a,f=new Int32Array(o);for(let p=o-1;p>=0;--p)f[p]=n&15,n>>=4;try{new Ro(Be.AZTEC_PARAM).decode(f,c)}catch{throw new H}let d=0;for(let p=0;p<a;p++)d=(d<<4)+f[p];return d}getBullsEyeCorners(n){let i=n,o=n,a=n,c=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(i,f,1,-1),v=this.getFirstDifferent(o,f,1,1),M=this.getFirstDifferent(a,f,-1,1),k=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let B=this.distancePoint(k,S)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(B<.75||B>1.25||!this.isWhiteOrBlackRectangle(S,v,M,k))break}i=S,o=v,a=M,c=k,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let d=new fe(i.getX()+.5,i.getY()-.5),p=new fe(o.getX()+.5,o.getY()+.5),x=new fe(a.getX()-.5,a.getY()+.5),C=new fe(c.getX()-.5,c.getY()-.5);return this.expandSquare([d,p,x,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,a;try{let d=new hr(this.image).detect();n=d[0],i=d[1],o=d[2],a=d[3]}catch{let p=this.image.getWidth()/2,x=this.image.getHeight()/2;n=this.getFirstDifferent(new Xt(p+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(p+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(p-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Xt(p-7,x-7),!1,-1,-1).toResultPoint()}let c=Le.round((n.getX()+a.getX()+i.getX()+o.getX())/4),f=Le.round((n.getY()+a.getY()+i.getY()+o.getY())/4);try{let d=new hr(this.image,15,c,f).detect();n=d[0],i=d[1],o=d[2],a=d[3]}catch{n=this.getFirstDifferent(new Xt(c+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Xt(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Xt(c-7,f+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Xt(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Le.round((n.getX()+a.getX()+i.getX()+o.getX())/4),f=Le.round((n.getY()+a.getY()+i.getY()+o.getY())/4),new Xt(c,f)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,a,c){let f=Ir.getInstance(),d=this.getDimension(),p=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return f.sampleGrid(n,d,d,p,p,x,p,x,x,p,x,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),c.getX(),c.getY())}sampleLine(n,i,o){let a=0,c=this.distanceResultPoint(n,i),f=c/o,d=n.getX(),p=n.getY(),x=f*(i.getX()-n.getX())/c,C=f*(i.getY()-n.getY())/c;for(let S=0;S<o;S++)this.image.get(Le.round(d+S*x),Le.round(p+S*C))&&(a|=1<<o-S-1);return a}isWhiteOrBlackRectangle(n,i,o,a){let c=3;n=new Xt(n.getX()-c,n.getY()+c),i=new Xt(i.getX()-c,i.getY()-c),o=new Xt(o.getX()+c,o.getY()-c),a=new Xt(a.getX()+c,a.getY()+c);let f=this.getColor(a,n);if(f===0)return!1;let d=this.getColor(n,i);return d!==f||(d=this.getColor(i,o),d!==f)?!1:(d=this.getColor(o,a),d===f)}getColor(n,i){let o=this.distancePoint(n,i),a=(i.getX()-n.getX())/o,c=(i.getY()-n.getY())/o,f=0,d=n.getX(),p=n.getY(),x=this.image.get(n.getX(),n.getY()),C=Math.ceil(o);for(let v=0;v<C;v++)d+=a,p+=c,this.image.get(Le.round(d),Le.round(p))!==x&&f++;let S=f/o;return S>.1&&S<.9?0:S<=.1===x?1:-1}getFirstDifferent(n,i,o,a){let c=n.getX()+o,f=n.getY()+a;for(;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o,f+=a;for(c-=o,f-=a;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===i;)f+=a;return f-=a,new Xt(c,f)}expandSquare(n,i,o){let a=o/(2*i),c=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,p=(n[0].getY()+n[2].getY())/2,x=new fe(d+a*c,p+a*f),C=new fe(d-a*c,p-a*f);c=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,p=(n[1].getY()+n[3].getY())/2;let S=new fe(d+a*c,p+a*f),v=new fe(d-a*c,p-a*f);return[x,S,C,v]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Le.round(n.getX()),o=Le.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return Le.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Le.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Gs{decode(n,i=null){let o=null,a=new E1(n.getBlackMatrix()),c=null,f=null;try{let C=a.detectMirror(!1);c=C.getPoints(),this.reportFoundResultPoints(i,c),f=new Ze().decode(C)}catch(C){o=C}if(f==null)try{let C=a.detectMirror(!0);c=C.getPoints(),this.reportFoundResultPoints(i,c),f=new Ze().decode(C)}catch(C){throw o??C}let d=new _e(f.getText(),f.getRawBytes(),f.getNumBits(),c,se.AZTEC,D.currentTimeMillis()),p=f.getByteSegments();p!=null&&d.putMetadata(xt.BYTE_SEGMENTS,p);let x=f.getECLevel();return x!=null&&d.putMetadata(xt.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(n,i){if(n!=null){let o=n.get(K.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,c,f)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class u2 extends Ge{constructor(n=500){super(new Gs,n)}}class wt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(K.TRY_HARDER)===!0&&n.isRotateSupported()){const c=n.rotateCounterClockwise(),f=this.doDecode(c,i),d=f.getResultMetadata();let p=270;d!==null&&d.get(xt.ORIENTATION)===!0&&(p=p+d.get(xt.ORIENTATION)%360),f.putMetadata(xt.ORIENTATION,p);const x=f.getResultPoints();if(x!==null){const C=c.getHeight();for(let S=0;S<x.length;S++)x[S]=new fe(C-x[S].getY()-1,x[S].getX())}return f}else throw new H}}reset(){}doDecode(n,i){const o=n.getWidth(),a=n.getHeight();let c=new P(o);const f=i&&i.get(K.TRY_HARDER)===!0,d=Math.max(1,a>>(f?8:5));let p;f?p=a:p=15;const x=Math.trunc(a/2);for(let C=0;C<p;C++){const S=Math.trunc((C+1)/2),v=(C&1)===0,M=x+d*(v?S:-S);if(M<0||M>=a)break;try{c=n.getBlackRow(M,c)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(c.reverse(),i&&i.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const B=new Map;i.forEach((j,Y)=>B.set(Y,j)),B.delete(K.NEED_RESULT_POINT_CALLBACK),i=B}try{const B=this.decodeRow(M,c,i);if(k===1){B.putMetadata(xt.ORIENTATION,180);const j=B.getResultPoints();j!==null&&(j[0]=new fe(o-j[0].getX()-1,j[0].getY()),j[1]=new fe(o-j[1].getX()-1,j[1].getY()))}return B}catch{}}}throw new H}static recordPattern(n,i,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const c=n.getSize();if(i>=c)throw new H;let f=!n.get(i),d=0,p=i;for(;p<c;){if(n.get(p)!==f)o[d]++;else{if(++d===a)break;o[d]=1,f=!f}p++}if(!(d===a||d===a-1&&p===c))throw new H}static recordPatternInReverse(n,i,o){let a=o.length,c=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==c&&(a--,c=!c);if(a>=0)throw new H;wt.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){const a=n.length;let c=0,f=0;for(let x=0;x<a;x++)c+=n[x],f+=i[x];if(c<f)return Number.POSITIVE_INFINITY;const d=c/f;o*=d;let p=0;for(let x=0;x<a;x++){const C=n[x],S=i[x]*d,v=C>S?C-S:S-C;if(v>o)return Number.POSITIVE_INFINITY;p+=v}return p/c}}class re extends wt{static findStartPattern(n){const i=n.getSize(),o=n.getNextSet(0);let a=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,d=!1;const p=6;for(let x=o;x<i;x++)if(n.get(x)!==d)c[a]++;else{if(a===p-1){let C=re.MAX_AVG_VARIANCE,S=-1;for(let v=re.CODE_START_A;v<=re.CODE_START_C;v++){const M=wt.patternMatchVariance(c,re.CODE_PATTERNS[v],re.MAX_INDIVIDUAL_VARIANCE);M<C&&(C=M,S=v)}if(S>=0&&n.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,S]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[a-1]=0,c[a]=0,a--}else a++;c[a]=1,d=!d}throw new H}static decodeCode(n,i,o){wt.recordPattern(n,o,i);let a=re.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<re.CODE_PATTERNS.length;f++){const d=re.CODE_PATTERNS[f],p=this.patternMatchVariance(i,d,re.MAX_INDIVIDUAL_VARIANCE);p<a&&(a=p,c=f)}if(c>=0)return c;throw new H}decodeRow(n,i,o){const a=o&&o.get(K.ASSUME_GS1)===!0,c=re.findStartPattern(i),f=c[2];let d=0;const p=new Uint8Array(20);p[d++]=f;let x;switch(f){case re.CODE_START_A:x=re.CODE_CODE_A;break;case re.CODE_START_B:x=re.CODE_CODE_B;break;case re.CODE_START_C:x=re.CODE_CODE_C;break;default:throw new F}let C=!1,S=!1,v="",M=c[0],k=c[1];const B=Int32Array.from([0,0,0,0,0,0]);let j=0,Y=0,ee=f,te=0,$=!0,Re=!1,Se=!1;for(;!C;){const Wi=S;switch(S=!1,j=Y,Y=re.decodeCode(i,B,k),p[d++]=Y,Y!==re.CODE_STOP&&($=!0),Y!==re.CODE_STOP&&(te++,ee+=te*Y),M=k,k+=B.reduce((U2,j2)=>U2+j2,0),Y){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new F}switch(x){case re.CODE_CODE_A:if(Y<64)Se===Re?v+=String.fromCharCode(" ".charCodeAt(0)+Y):v+=String.fromCharCode(" ".charCodeAt(0)+Y+128),Se=!1;else if(Y<96)Se===Re?v+=String.fromCharCode(Y-64):v+=String.fromCharCode(Y+64),Se=!1;else switch(Y!==re.CODE_STOP&&($=!1),Y){case re.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!Re&&Se?(Re=!0,Se=!1):Re&&Se?(Re=!1,Se=!1):Se=!0;break;case re.CODE_SHIFT:S=!0,x=re.CODE_CODE_B;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:C=!0;break}break;case re.CODE_CODE_B:if(Y<96)Se===Re?v+=String.fromCharCode(" ".charCodeAt(0)+Y):v+=String.fromCharCode(" ".charCodeAt(0)+Y+128),Se=!1;else switch(Y!==re.CODE_STOP&&($=!1),Y){case re.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!Re&&Se?(Re=!0,Se=!1):Re&&Se?(Re=!1,Se=!1):Se=!0;break;case re.CODE_SHIFT:S=!0,x=re.CODE_CODE_A;break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_C:x=re.CODE_CODE_C;break;case re.CODE_STOP:C=!0;break}break;case re.CODE_CODE_C:if(Y<100)Y<10&&(v+="0"),v+=Y;else switch(Y!==re.CODE_STOP&&($=!1),Y){case re.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case re.CODE_CODE_A:x=re.CODE_CODE_A;break;case re.CODE_CODE_B:x=re.CODE_CODE_B;break;case re.CODE_STOP:C=!0;break}break}Wi&&(x=x===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const sn=k-M;if(k=i.getNextUnset(k),!i.isRange(k,Math.min(i.getSize(),k+(k-M)/2),!1))throw new H;if(ee-=te*j,ee%103!==j)throw new O;const Fn=v.length;if(Fn===0)throw new H;Fn>0&&$&&(x===re.CODE_CODE_C?v=v.substring(0,Fn-2):v=v.substring(0,Fn-1));const an=(c[1]+c[0])/2,Qe=M+sn/2,kt=p.length,gn=new Uint8Array(kt);for(let Wi=0;Wi<kt;Wi++)gn[Wi]=p[Wi];const Vi=[new fe(an,n),new fe(Qe,n)];return new _e(v,gn,0,Vi,se.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class At extends wt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let c=At.findAsteriskPattern(i,a),f=i.getNextSet(c[1]),d=i.getSize(),p,x;do{At.recordPattern(i,f,a);let B=At.toNarrowWidePattern(a);if(B<0)throw new H;p=At.patternToChar(B),this.decodeRowResult+=p,x=f;for(let j of a)f+=j;f=i.getNextSet(f)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let B of a)C+=B;let S=f-x-C;if(f!==d&&S*2<C)throw new H;if(this.usingCheckDigit){let B=this.decodeRowResult.length-1,j=0;for(let Y=0;Y<B;Y++)j+=At.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(B)!==At.ALPHABET_STRING.charAt(j%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(this.decodeRowResult.length===0)throw new H;let v;this.extendedMode?v=At.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let M=(c[1]+c[0])/2,k=x+C/2;return new _e(v,null,0,[new fe(M,n),new fe(k,n)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let o=n.getSize(),a=n.getNextSet(0),c=0,f=a,d=!1,p=i.length;for(let x=a;x<o;x++)if(n.get(x)!==d)i[c]++;else{if(c===p-1){if(this.toNarrowWidePattern(i)===At.ASTERISK_ENCODING&&n.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,d=!d}throw new H}static toNarrowWidePattern(n){let i=n.length,o=0,a;do{let c=2147483647;for(let p of n)p<c&&p>o&&(c=p);o=c,a=0;let f=0,d=0;for(let p=0;p<i;p++){let x=n[p];x>o&&(d|=1<<i-1-p,a++,f+=x)}if(a===3){for(let p=0;p<i&&a>0;p++){let x=n[p];if(x>o&&(a--,x*2>=f))return-1}return d}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<At.CHARACTER_ENCODINGS.length;i++)if(At.CHARACTER_ENCODINGS[i]===n)return At.ALPHABET_STRING.charAt(i);if(n===At.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(n){let i=n.length,o="";for(let a=0;a<i;a++){let c=n.charAt(a);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=n.charAt(a+1),d="\0";switch(c){case"+":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)+32);else throw new F;break;case"$":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)-64);else throw new F;break;case"%":if(f>="A"&&f<="E")d=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")d=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")d=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")d="\0";else if(f==="V")d="@";else if(f==="W")d="`";else if(f==="X"||f==="Y"||f==="Z")d="";else throw new F;break;case"/":if(f>="A"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")d=":";else throw new F;break}o+=d,a++}else o+=c}return o}}At.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",At.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],At.ASTERISK_ENCODING=148;class Ye extends wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let a=this.decodeStart(i),c=this.decodeEnd(i),f=new xe;Ye.decodeMiddle(i,a[1],c[0],f);let d=f.toString(),p=null;o!=null&&(p=o.get(K.ALLOWED_LENGTHS)),p==null&&(p=Ye.DEFAULT_ALLOWED_LENGTHS);let x=d.length,C=!1,S=0;for(let k of p){if(x===k){C=!0;break}k>S&&(S=k)}if(!C&&x>S&&(C=!0),!C)throw new F;const v=[new fe(a[1],n),new fe(c[0],n)];return new _e(d,null,0,v,se.ITF,new Date().getTime())}static decodeMiddle(n,i,o,a){let c=new Int32Array(10),f=new Int32Array(5),d=new Int32Array(5);for(c.fill(0),f.fill(0),d.fill(0);i<o;){wt.recordPattern(n,i,c);for(let x=0;x<5;x++){let C=2*x;f[x]=c[C],d[x]=c[C+1]}let p=Ye.decodeDigit(f);a.append(p.toString()),p=this.decodeDigit(d),a.append(p.toString()),c.forEach(function(x){i+=x})}}decodeStart(n){let i=Ye.skipWhiteSpace(n),o=Ye.findGuardPattern(n,i,Ye.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!n.get(a);a--)o--;if(o!==0)throw new H}static skipWhiteSpace(n){const i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new H;return o}decodeEnd(n){n.reverse();try{let i=Ye.skipWhiteSpace(n),o;try{o=Ye.findGuardPattern(n,i,Ye.END_PATTERN_REVERSED[0])}catch(c){c instanceof H&&(o=Ye.findGuardPattern(n,i,Ye.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let a=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-a,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let a=o.length,c=new Int32Array(a),f=n.getSize(),d=!1,p=0,x=i;c.fill(0);for(let C=i;C<f;C++)if(n.get(C)!==d)c[p]++;else{if(p===a-1){if(wt.patternMatchVariance(c,o,Ye.MAX_INDIVIDUAL_VARIANCE)<Ye.MAX_AVG_VARIANCE)return[x,C];x+=c[0]+c[1],D.arraycopy(c,2,c,0,p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,d=!d}throw new H}static decodeDigit(n){let i=Ye.MAX_AVG_VARIANCE,o=-1,a=Ye.PATTERNS.length;for(let c=0;c<a;c++){let f=Ye.PATTERNS[c],d=wt.patternMatchVariance(n,f,Ye.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,o=c):d===i&&(o=-1)}if(o>=0)return o%10;throw new H}}Ye.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ye.MAX_AVG_VARIANCE=.38,Ye.MAX_INDIVIDUAL_VARIANCE=.5,Ye.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ye.START_PATTERN=Int32Array.from([1,1,1,1]),Ye.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ct extends wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,a=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=ct.findGuardPattern(n,a,!1,this.START_END_PATTERN,c);let f=o[0];a=o[1];let d=f-(a-f);d>=0&&(i=n.isRange(d,f,!1))}return o}static checkChecksum(n){return ct.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return ct.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new F;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new F;o+=c}return(1e3-o)%10}static decodeEnd(n,i){return ct.findGuardPattern(n,i,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,a){return this.findGuardPattern(n,i,o,a,new Int32Array(a.length))}static findGuardPattern(n,i,o,a,c){let f=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let d=0,p=i,x=a.length,C=o;for(let S=i;S<f;S++)if(n.get(S)!==C)c[d]++;else{if(d===x-1){if(wt.patternMatchVariance(c,a,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return Int32Array.from([p,S]);p+=c[0]+c[1];let v=c.slice(2,c.length-1);for(let M=0;M<d-1;M++)c[M]=v[M];c[d-1]=0,c[d]=0,d--}else d++;c[d]=1,C=!C}throw new H}static decodeDigit(n,i,o,a){this.recordPattern(n,o,i);let c=this.MAX_AVG_VARIANCE,f=-1,d=a.length;for(let p=0;p<d;p++){let x=a[p],C=wt.patternMatchVariance(i,x,ct.MAX_INDIVIDUAL_VARIANCE);C<c&&(c=C,f=p)}if(f>=0)return f;throw new H}}ct.MAX_AVG_VARIANCE=.48,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.START_END_PATTERN=Int32Array.from([1,1,1]),ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),f=a.toString(),d=Mo.parseExtensionString(f),p=[new fe((o[0]+o[1])/2,n),new fe(c,n)],x=new _e(f,null,0,p,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let x=0;x<5&&f<c;x++){let C=ct.decodeDigit(n,a,f,ct.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let S of a)f+=S;C>=10&&(d|=1<<4-x),x!==4&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==5)throw new H;let p=this.determineCheckDigit(d);if(Mo.extensionChecksum(o.toString())!==p)throw new H;return f}static extensionChecksum(n){let i=n.length,o=0;for(let a=i-2;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let a=i-1;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new H}static parseExtensionString(n){if(n.length!==5)return null;let i=Mo.parseExtension5String(n);return i==null?null:new Map([[xt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),a=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return i+a+"."+f}}class nc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),f=a.toString(),d=nc.parseExtensionString(f),p=[new fe((o[0]+o[1])/2,n),new fe(c,n)],x=new _e(f,null,0,p,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let p=0;p<2&&f<c;p++){let x=ct.decodeDigit(n,a,f,ct.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let C of a)f+=C;x>=10&&(d|=1<<1-p),p!==1&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==d)throw new H;return f}static parseExtensionString(n){return n.length!==2?null:new Map([[xt.ISSUE_NUMBER,parseInt(n)]])}}class C1{static decodeRow(n,i,o){let a=ct.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mo().decodeRow(n,i,a)}catch{return new nc().decodeRow(n,i,a)}}}C1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Fe extends ct{constructor(){super(),this.decodeRowStringBuffer="",Fe.L_AND_G_PATTERNS=Fe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=Fe.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];Fe.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let a=Fe.findStartGuardPattern(i),c=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(c!=null){const $=new fe((a[0]+a[1])/2,n);c.foundPossibleResultPoint($)}let f=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=f.rowOffset,p=f.resultString;if(c!=null){const $=new fe(d,n);c.foundPossibleResultPoint($)}let x=this.decodeEnd(i,d);if(c!=null){const $=new fe((x[0]+x[1])/2,n);c.foundPossibleResultPoint($)}let C=x[1],S=C+(C-x[0]);if(S>=i.getSize()||!i.isRange(C,S,!1))throw new H;let v=p.toString();if(v.length<8)throw new F;if(!Fe.checkChecksum(v))throw new O;let M=(a[1]+a[0])/2,k=(x[1]+x[0])/2,B=this.getBarcodeFormat(),j=[new fe(M,n),new fe(k,n)],Y=new _e(v,null,0,j,B,new Date().getTime()),ee=0;try{let $=C1.decodeRow(n,i,x[1]);Y.putMetadata(xt.UPC_EAN_EXTENSION,$.getText()),Y.putAllMetadata($.getResultMetadata()),Y.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let te=o==null?null:o.get(K.ALLOWED_EAN_EXTENSIONS);if(te!=null){let $=!1;for(let Re in te)if(ee.toString()===Re){$=!0;break}if(!$)throw new H}return Y}decodeEnd(n,i){return Fe.findGuardPattern(n,i,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Fe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return Fe.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new F;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new F;o+=c}return(1e3-o)%10}}class li extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let x=0;x<6&&f<c;x++){let C=Fe.decodeDigit(n,a,f,Fe.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let S of a)f+=S;C>=10&&(d|=1<<5-x)}o=li.determineFirstDigit(o,d),f=Fe.findGuardPattern(n,f,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<c;x++){let C=Fe.decodeDigit(n,a,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+C);for(let S of a)f+=S}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(n,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new H}}li.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class A1 extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1];for(let p=0;p<4&&f<c;p++){let x=Fe.decodeDigit(n,a,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let C of a)f+=C}f=Fe.findGuardPattern(n,f,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&f<c;p++){let x=Fe.decodeDigit(n,a,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let C of a)f+=C}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return se.EAN_8}}class S1 extends Fe{constructor(){super(...arguments),this.ean13Reader=new li}getBarcodeFormat(){return se.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new _e(i.substring(1),null,null,n.getResultPoints(),se.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class Bn extends Fe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const c=n.getSize();let f=i[1],d=0;for(let x=0;x<6&&f<c;x++){const C=Bn.decodeDigit(n,a,f,Bn.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let S of a)f+=S;C>=10&&(d|=1<<5-x)}let p=Bn.determineNumSysAndCheckDigit(o,d);return{rowOffset:f,resultString:p}}decodeEnd(n,i){return Bn.findGuardPatternWithoutCounters(n,i,!0,Bn.MIDDLE_END_PATTERN)}checkChecksum(n){return Fe.checkChecksum(Bn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let c=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+a);return c+n+f}throw H.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new xe;o.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}Bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class rc extends wt{constructor(n){super();let i=n==null?null:n.get(K.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new li),o.push(new S1),o.push(new A1),o.push(new Bn)):(i.indexOf(se.EAN_13)>-1&&o.push(new li),i.indexOf(se.UPC_A)>-1&&o.push(new S1),i.indexOf(se.EAN_8)>-1&&o.push(new A1),i.indexOf(se.UPC_E)>-1&&o.push(new Bn)),this.readers=o}decodeRow(n,i,o){for(let a of this.readers)try{const c=a.decodeRow(n,i,o),f=c.getBarcodeFormat()===se.EAN_13&&c.getText().charAt(0)==="0",d=o==null?null:o.get(K.POSSIBLE_FORMATS),p=d==null||d.includes(se.UPC_A);if(f&&p){const x=c.getRawBytes(),C=new _e(c.getText().substring(1),x,x?x.length:null,c.getResultPoints(),se.UPC_A);return C.putAllMetadata(c.getResultMetadata()),C}return c}catch{}throw new H}reset(){for(let n of this.readers)n.reset()}}class Ut extends wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let o=0;o<i.length;o++)if(wt.patternMatchVariance(n,i[o],Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return o;throw new H}static count(n){return Le.sum(new Int32Array(n))}static increment(n,i){let o=0,a=i[0];for(let c=1;c<n.length;c++)i[c]>a&&(a=i[c],o=c);n[o]++}static decrement(n,i){let o=0,a=i[0];for(let c=1;c<n.length;c++)i[c]<a&&(a=i[c],o=c);n[o]--}static isFinderPattern(n){let i=n[0]+n[1],o=i+n[2]+n[3],a=i/o;if(a>=Ut.MIN_FINDER_PATTERN_RATIO&&a<=Ut.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let d of n)d>f&&(f=d),d<c&&(c=d);return f<10*c}return!1}}Ut.MAX_AVG_VARIANCE=.2,Ut.MAX_INDIVIDUAL_VARIANCE=.45,Ut.MIN_FINDER_PATTERN_RATIO=9.5/12,Ut.MAX_FINDER_PATTERN_RATIO=12.5/14;class Pi{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Pi))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ys{constructor(n,i,o,a,c){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new fe(o,c)),this.resultPoints.push(new fe(a,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ys))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class qn{constructor(){}static getRSSvalue(n,i,o){let a=0;for(let p of n)a+=p;let c=0,f=0,d=n.length;for(let p=0;p<d-1;p++){let x;for(x=1,f|=1<<p;x<n[p];x++,f&=~(1<<p)){let C=qn.combins(a-x-1,d-p-2);if(o&&f===0&&a-x-(d-p-1)>=d-p-1&&(C-=qn.combins(a-x-(d-p),d-p-2)),d-p-1>1){let S=0;for(let v=a-x-(d-p-2);v>i;v--)S+=qn.combins(a-x-v-1,d-p-3);C-=S*(d-1-p)}else a-x>i&&C--;c+=C}a-=x}return c}static combins(n,i){let o,a;n-i>i?(a=i,o=n-i):(a=n-i,o=i);let c=1,f=1;for(let d=n;d>o;d--)c*=d,f<=a&&(c/=f,f++);for(;f<=a;)c/=f,f++;return c}}class f2{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new P(o),c=0,d=n[0].getRightChar().getValue();for(let p=11;p>=0;--p)d&1<<p&&a.set(c),c++;for(let p=1;p<n.length;++p){let x=n[p],C=x.getLeftChar().getValue();for(let S=11;S>=0;--S)C&1<<S&&a.set(c),c++;if(x.getRightChar()!=null){let S=x.getRightChar().getValue();for(let v=11;v>=0;--v)S&1<<v&&a.set(c),c++}}return a}}class ci{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ic{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class nn extends ic{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===nn.FNC1}}nn.FNC1="$";class ui extends ic{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tn extends ic{constructor(n,i,o){if(super(n),i<0||i>10||o<0||o>10)throw new F;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tn.FNC1}isAnyFNC1(){return this.firstDigit===Tn.FNC1||this.secondDigit===Tn.FNC1}}Tn.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new H;let i=n.substring(0,2);for(let c of ae.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,c[2],n):ae.processFixedAI(2,c[1],n);if(n.length<3)throw new H;let o=n.substring(0,3);for(let c of ae.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,c[2],n):ae.processFixedAI(3,c[1],n);for(let c of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,c[2],n):ae.processFixedAI(4,c[1],n);if(n.length<4)throw new H;let a=n.substring(0,4);for(let c of ae.FOUR_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,c[2],n):ae.processFixedAI(4,c[1],n);throw new H}static processFixedAI(n,i,o){if(o.length<n)throw new H;let a=o.substring(0,n);if(o.length<n+i)throw new H;let c=o.substring(n,n+i),f=o.substring(n+i),d="("+a+")"+c,p=ae.parseFieldsInGeneralPurpose(f);return p==null?d:d+p}static processVariableAI(n,i,o){let a=o.substring(0,n),c;o.length<n+i?c=o.length:c=n+i;let f=o.substring(n,c),d=o.substring(c),p="("+a+")"+f,x=ae.parseFieldsInGeneralPurpose(d);return x==null?p:p+x}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class Bi{constructor(n){this.buffer=new xe,this.information=n}decodeAllCodes(n,i){let o=i,a=null;do{let c=this.decodeGeneralPurposeField(o,a),f=ae.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&n.append(f),c.isRemaining()?a=""+c.getRemainingValue():a=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(n,4);return c===0?new Tn(this.information.getSize(),Tn.FNC1,Tn.FNC1):new Tn(this.information.getSize(),c-1,Tn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,a=(i-8)%11;return new Tn(n+7,o,a)}extractNumericValueFromBitArray(n,i){return Bi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let a=0;for(let c=0;c<o;++c)n.get(i+c)&&(a|=1<<o-c-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ui(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new ui(this.current.getPosition(),this.buffer.toString()):i=new ui(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ci(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ci(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ci(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ui(this.current.getPosition(),this.buffer.toString());return new ci(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ci(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new nn(n+5,nn.FNC1);if(i>=5&&i<15)return new nn(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new nn(n+7,""+(o+1));if(o>=90&&o<116)return new nn(n+7,""+(o+7));let a=this.extractNumericValueFromBitArray(n,8),c;switch(a){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new F}return new nn(n+8,c)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new nn(n+5,nn.FNC1);if(i>=5&&i<15)return new nn(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new nn(n+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Kn("Decoding invalid alphanumeric value: "+o)}return new nn(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class oc{constructor(n){this.information=n,this.generalDecoder=new Bi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends oc{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,o)}encodeCompressedGtinWithoutAI(n,i,o){for(let a=0;a<4;++a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}rn.appendCheckDigit(n,o)}static appendCheckDigit(n,i){let o=0;for(let a=0;a<13;a++){let c=n.charAt(a+i).charCodeAt(0)-"0".charCodeAt(0);o+=a&1?c:3*c}o=10-o%10,o===10&&(o=0),n.append(o)}}rn.GTIN_SIZE=40;class Fi extends rn{constructor(n){super(n)}parseInformation(){let n=new xe;n.append("(01)");let i=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Fi.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Fi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Fi.HEADER_SIZE+44)}}Fi.HEADER_SIZE=1+1+2;class Xs extends oc{constructor(n){super(n)}parseInformation(){let n=new xe;return this.getGeneralDecoder().decodeAllCodes(n,Xs.HEADER_SIZE)}}Xs.HEADER_SIZE=2+1+2;class Qs extends rn{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,a);let c=this.checkWeight(a),f=1e5;for(let d=0;d<5;++d)c/f===0&&n.append("0"),f/=10;n.append(c)}}class $n extends Qs{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=$n.HEADER_SIZE+Qs.GTIN_SIZE+$n.WEIGHT_SIZE)throw new H;let n=new xe;return this.encodeCompressedGtin(n,$n.HEADER_SIZE),this.encodeCompressedWeight(n,$n.HEADER_SIZE+Qs.GTIN_SIZE,$n.WEIGHT_SIZE),n.toString()}}$n.HEADER_SIZE=4+1,$n.WEIGHT_SIZE=15;class d2 extends $n{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class h2 extends $n{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Jn extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Jn.HEADER_SIZE+rn.GTIN_SIZE)throw new H;let n=new xe;this.encodeCompressedGtin(n,Jn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Jn.HEADER_SIZE+rn.GTIN_SIZE,Jn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Jn.HEADER_SIZE+rn.GTIN_SIZE+Jn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Jn.HEADER_SIZE=5+1+2,Jn.LAST_DIGIT_SIZE=2;class Qt extends rn{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+rn.GTIN_SIZE)throw new H;let n=new xe;this.encodeCompressedGtin(n,Qt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+rn.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}Qt.HEADER_SIZE=5+1+2,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class rt extends Qs{constructor(n,i,o){super(n),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new H;let n=new xe;return this.encodeCompressedGtin(n,rt.HEADER_SIZE),this.encodeCompressedWeight(n,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(n,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,rt.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&n.append("0"),n.append(f),c/10==0&&n.append("0"),n.append(c),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}rt.HEADER_SIZE=7+1,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function v1(A){try{if(A.get(1))return new Fi(A);if(!A.get(2))return new Xs(A);switch(Bi.extractNumericValueFromBitArray(A,1,4)){case 4:return new d2(A);case 5:return new h2(A)}switch(Bi.extractNumericValueFromBitArray(A,1,5)){case 12:return new Jn(A);case 13:return new Qt(A)}switch(Bi.extractNumericValueFromBitArray(A,1,7)){case 56:return new rt(A,"310","11");case 57:return new rt(A,"320","11");case 58:return new rt(A,"310","13");case 59:return new rt(A,"320","13");case 60:return new rt(A,"310","15");case 61:return new rt(A,"320","15");case 62:return new rt(A,"310","17");case 63:return new rt(A,"320","17")}}catch(n){throw console.log(n),new Kn("unknown decoder: "+A)}}class Tr{constructor(n,i,o,a){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Tr?Tr.equalsOrNull(n.leftchar,i.leftchar)&&Tr.equalsOrNull(n.rightchar,i.rightchar)&&Tr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Tr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class sc{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof sc?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((a,c)=>{i.forEach(f=>{a.getLeftChar().getValue()===f.getLeftChar().getValue()&&a.getRightChar().getValue()===f.getRightChar().getValue()&&a.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class q extends Ut{constructor(n){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(c){if(c instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new H}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let f of n)this.pairs.push(f.getPairs());if(this.pairs.push(a.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(n);c.push(a);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new H}static isValidSequence(n){for(let i of q.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,a=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>n){c=f.isEquivalent(this.pairs);break}a=f.isEquivalent(this.pairs),o++}c||a||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new sc(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let a of o.getPairs())for(let c of n)if(Tr.equals(a,c))break}}static isPartialRow(n,i){for(let o of i){let a=!0;for(let c of n){let f=!1;for(let d of o.getPairs())if(c.equals(d)){f=!0;break}if(!f){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=f2.buildBitArray(n),a=v1(i).parseInformation(),c=n[0].getFinderPattern().getResultPoints(),f=n[n.length-1].getFinderPattern().getResultPoints(),d=[c[0],c[1],f[0],f[1]];return new _e(a,null,null,d,se.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),c=2;for(let d=1;d<this.pairs.size();++d){let p=this.pairs.get(d);a+=p.getLeftChar().getChecksumPortion(),c++;let x=p.getRightChar();x!=null&&(a+=x.getChecksumPortion(),c++)}return a%=211,211*(c-4)+a==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let c,f=!0,d=-1;do this.findNextPair(n,i,d),c=this.parseFoundFinderPattern(n,o,a),c==null?d=q.getNextSecondBar(n,this.startEnd[0]):f=!1;while(f);let p=this.decodeDataCharacter(n,c,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new H;let x;try{x=this.decodeDataCharacter(n,c,a,!1)}catch(C){x=null,this.verbose&&console.log(C)}return new Tr(p,x,c,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let p=!1;for(;f<c&&(p=!n.get(f),!!p);)f++;let x=0,C=f;for(let S=f;S<c;S++)if(n.get(S)!=p)a[x]++;else{if(x==3){if(d&&q.reverseCounters(a),q.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=S;return}d&&q.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,p=!p}throw new H}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let a=n[o];n[o]=n[i-o-1],n[i-o-1]=a}}parseFoundFinderPattern(n,i,o){let a,c,f;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!n.get(x);)x--;x++,a=this.startEnd[0]-x,c=x,f=this.startEnd[1]}else c=this.startEnd[0],f=n.getNextUnset(this.startEnd[1]+1),a=f-this.startEnd[1];let d=this.getDecodeFinderCounters();D.arraycopy(d,0,d,1,d.length-1),d[0]=a;let p;try{p=this.parseFinderValue(d,q.FINDER_PATTERNS)}catch{return null}return new Ys(p,[c,f],c,f,i)}decodeDataCharacter(n,i,o,a){let c=this.getDataCharacterCounters();for(let Qe=0;Qe<c.length;Qe++)c[Qe]=0;if(a)q.recordPatternInReverse(n,i.getStartEnd()[0],c);else{q.recordPattern(n,i.getStartEnd()[1],c);for(let Qe=0,kt=c.length-1;Qe<kt;Qe++,kt--){let gn=c[Qe];c[Qe]=c[kt],c[kt]=gn}}let f=17,d=Le.sum(new Int32Array(c))/f,p=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-p)/p>.3)throw new H;let x=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Qe=0;Qe<c.length;Qe++){let kt=1*c[Qe]/d,gn=kt+.5;if(gn<1){if(kt<.3)throw new H;gn=1}else if(gn>8){if(kt>8.7)throw new H;gn=8}let Vi=Qe/2;Qe&1?(C[Vi]=gn,v[Vi]=kt-gn):(x[Vi]=gn,S[Vi]=kt-gn)}this.adjustOddEvenCounts(f);let M=4*i.getValue()+(o?0:2)+(a?0:1)-1,k=0,B=0;for(let Qe=x.length-1;Qe>=0;Qe--){if(q.isNotA1left(i,o,a)){let kt=q.WEIGHTS[M][2*Qe];B+=x[Qe]*kt}k+=x[Qe]}let j=0;for(let Qe=C.length-1;Qe>=0;Qe--)if(q.isNotA1left(i,o,a)){let kt=q.WEIGHTS[M][2*Qe+1];j+=C[Qe]*kt}let Y=B+j;if(k&1||k>13||k<4)throw new H;let ee=(13-k)/2,te=q.SYMBOL_WIDEST[ee],$=9-te,Re=qn.getRSSvalue(x,te,!0),Se=qn.getRSSvalue(C,$,!1),sn=q.EVEN_TOTAL_SUBSET[ee],Fn=q.GSUM[ee],an=Re*sn+Se+Fn;return new Pi(an,Y)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=Le.sum(new Int32Array(this.getOddCounts())),o=Le.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let p=i+o-n,x=(i&1)==1,C=(o&1)==0;if(p==1)if(x){if(C)throw new H;c=!0}else{if(!C)throw new H;d=!0}else if(p==-1)if(x){if(C)throw new H;a=!0}else{if(!C)throw new H;f=!0}else if(p==0){if(x){if(!C)throw new H;i<o?(a=!0,d=!0):(c=!0,f=!0)}else if(C)throw new H}else throw new H;if(a){if(c)throw new H;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new H;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class g2 extends Pi{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ut extends Ut{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){const a=this.decodePair(i,!1,n,o);ut.addOrTally(this.possibleLeftPairs,a),i.reverse();let c=this.decodePair(i,!0,n,o);ut.addOrTally(this.possibleRightPairs,c),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ut.checkChecksum(f,d))return ut.constructResult(f,d)}throw new H}static addOrTally(n,i){if(i==null)return;let o=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),a=new String(o).toString(),c=new xe;for(let x=13-a.length;x>0;x--)c.append("0");c.append(a);let f=0;for(let x=0;x<13;x++){let C=c.charAt(x).charCodeAt(0)-"0".charCodeAt(0);f+=x&1?C:3*C}f=10-f%10,f===10&&(f=0),c.append(f.toString());let d=n.getFinderPattern().getResultPoints(),p=i.getFinderPattern().getResultPoints();return new _e(c.toString(),null,0,[d[0],d[1],p[0],p[1]],se.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(n,i,o,a){try{let c=this.findFinderPattern(n,i),f=this.parseFoundFinderPattern(n,o,i,c),d=a==null?null:a.get(K.NEED_RESULT_POINT_CALLBACK);if(d!=null){let C=(c[0]+c[1])/2;i&&(C=n.getSize()-1-C),d.foundPossibleResultPoint(new fe(C,o))}let p=this.decodeDataCharacter(n,f,!0),x=this.decodeDataCharacter(n,f,!1);return new g2(1597*p.getValue()+x.getValue(),p.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(n,i,o){let a=this.getDataCharacterCounters();for(let j=0;j<a.length;j++)a[j]=0;if(o)wt.recordPatternInReverse(n,i.getStartEnd()[0],a);else{wt.recordPattern(n,i.getStartEnd()[1]+1,a);for(let j=0,Y=a.length-1;j<Y;j++,Y--){let ee=a[j];a[j]=a[Y],a[Y]=ee}}let c=o?16:15,f=Le.sum(new Int32Array(a))/c,d=this.getOddCounts(),p=this.getEvenCounts(),x=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let j=0;j<a.length;j++){let Y=a[j]/f,ee=Math.floor(Y+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(j/2);j&1?(p[te]=ee,C[te]=Y-ee):(d[te]=ee,x[te]=Y-ee)}this.adjustOddEvenCounts(o,c);let S=0,v=0;for(let j=d.length-1;j>=0;j--)v*=9,v+=d[j],S+=d[j];let M=0,k=0;for(let j=p.length-1;j>=0;j--)M*=9,M+=p[j],k+=p[j];let B=v+3*M;if(o){if(S&1||S>12||S<4)throw new H;let j=(12-S)/2,Y=ut.OUTSIDE_ODD_WIDEST[j],ee=9-Y,te=qn.getRSSvalue(d,Y,!1),$=qn.getRSSvalue(p,ee,!0),Re=ut.OUTSIDE_EVEN_TOTAL_SUBSET[j],Se=ut.OUTSIDE_GSUM[j];return new Pi(te*Re+$+Se,B)}else{if(k&1||k>10||k<4)throw new H;let j=(10-k)/2,Y=ut.INSIDE_ODD_WIDEST[j],ee=9-Y,te=qn.getRSSvalue(d,Y,!0),$=qn.getRSSvalue(p,ee,!1),Re=ut.INSIDE_ODD_TOTAL_SUBSET[j],Se=ut.INSIDE_GSUM[j];return new Pi($*Re+te+Se,B)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=n.getSize(),c=!1,f=0;for(;f<a&&(c=!n.get(f),i!==c);)f++;let d=0,p=f;for(let x=f;x<a;x++)if(n.get(x)!==c)o[d]++;else{if(d===3){if(Ut.isFinderPattern(o))return[p,x];p+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,c=!c}throw new H}parseFoundFinderPattern(n,i,o,a){let c=n.get(a[0]),f=a[0]-1;for(;f>=0&&c!==n.get(f);)f--;f++;const d=a[0]-f,p=this.getDecodeFinderCounters(),x=new Int32Array(p.length);D.arraycopy(p,0,x,1,p.length-1),x[0]=d;const C=this.parseFinderValue(x,ut.FINDER_PATTERNS);let S=f,v=a[1];return o&&(S=n.getSize()-1-S,v=n.getSize()-1-v),new Ys(C,[f,a[1]],S,v,i)}adjustOddEvenCounts(n,i){let o=Le.sum(new Int32Array(this.getOddCounts())),a=Le.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,d=!1,p=!1;n?(o>12?f=!0:o<4&&(c=!0),a>12?p=!0:a<4&&(d=!0)):(o>11?f=!0:o<5&&(c=!0),a>10?p=!0:a<4&&(d=!0));let x=o+a-i,C=(o&1)===(n?1:0),S=(a&1)===1;if(x===1)if(C){if(S)throw new H;f=!0}else{if(!S)throw new H;p=!0}else if(x===-1)if(C){if(S)throw new H;c=!0}else{if(!S)throw new H;d=!0}else if(x===0){if(C){if(!S)throw new H;o<a?(c=!0,p=!0):(f=!0,d=!0)}else if(S)throw new H}else throw new H;if(c){if(f)throw new H;Ut.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Ut.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new H;Ut.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Ut.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ut.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ut.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ut.OUTSIDE_GSUM=[0,161,961,2015,2715],ut.INSIDE_GSUM=[0,336,1036,1516],ut.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ut.INSIDE_ODD_WIDEST=[2,4,6,8],ut.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ui extends wt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const o=n?n.get(K.POSSIBLE_FORMATS):null,a=n&&n.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(se.EAN_13)||o.includes(se.UPC_A)||o.includes(se.EAN_8)||o.includes(se.UPC_E))&&this.readers.push(new rc(n)),o.includes(se.CODE_39)&&this.readers.push(new At(a)),o.includes(se.CODE_128)&&this.readers.push(new re),o.includes(se.ITF)&&this.readers.push(new Ye),o.includes(se.RSS_14)&&this.readers.push(new ut),o.includes(se.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new rc(n)),this.readers.push(new At),this.readers.push(new rc(n)),this.readers.push(new re),this.readers.push(new Ye),this.readers.push(new ut),this.readers.push(new q(this.verbose)))}decodeRow(n,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,o)}catch{}throw new H}reset(){this.readers.forEach(n=>n.reset())}}class p2 extends Ge{constructor(n=500,i){super(new Ui(i),n,i)}}class je{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ue{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(n,i,o,a,c,f){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=c,this.ecBlocks=f;let d=0;const p=f.getECCodewords(),x=f.getECBlocks();for(let C of x)d+=C.getCount()*(C.getDataCodewords()+p);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new F;for(let o of Me.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new je(5,new Ue(1,3))),new Me(2,12,12,10,10,new je(7,new Ue(1,5))),new Me(3,14,14,12,12,new je(10,new Ue(1,8))),new Me(4,16,16,14,14,new je(12,new Ue(1,12))),new Me(5,18,18,16,16,new je(14,new Ue(1,18))),new Me(6,20,20,18,18,new je(18,new Ue(1,22))),new Me(7,22,22,20,20,new je(20,new Ue(1,30))),new Me(8,24,24,22,22,new je(24,new Ue(1,36))),new Me(9,26,26,24,24,new je(28,new Ue(1,44))),new Me(10,32,32,14,14,new je(36,new Ue(1,62))),new Me(11,36,36,16,16,new je(42,new Ue(1,86))),new Me(12,40,40,18,18,new je(48,new Ue(1,114))),new Me(13,44,44,20,20,new je(56,new Ue(1,144))),new Me(14,48,48,22,22,new je(68,new Ue(1,174))),new Me(15,52,52,24,24,new je(42,new Ue(2,102))),new Me(16,64,64,14,14,new je(56,new Ue(2,140))),new Me(17,72,72,16,16,new je(36,new Ue(4,92))),new Me(18,80,80,18,18,new je(48,new Ue(4,114))),new Me(19,88,88,20,20,new je(56,new Ue(4,144))),new Me(20,96,96,22,22,new je(68,new Ue(4,174))),new Me(21,104,104,24,24,new je(56,new Ue(6,136))),new Me(22,120,120,18,18,new je(68,new Ue(6,175))),new Me(23,132,132,20,20,new je(62,new Ue(8,163))),new Me(24,144,144,22,22,new je(62,new Ue(8,156),new Ue(2,155))),new Me(25,8,18,6,16,new je(7,new Ue(1,5))),new Me(26,8,32,6,14,new je(11,new Ue(1,10))),new Me(27,12,26,10,24,new je(14,new Ue(1,16))),new Me(28,12,36,10,16,new je(18,new Ue(1,22))),new Me(29,16,36,14,16,new je(24,new Ue(1,32))),new Me(30,16,48,14,22,new je(28,new Ue(1,49)))]}}Me.VERSIONS=Me.buildVersions();class ac{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new F;this.version=ac.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new we(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),o=n.getWidth();return Me.getVersionForDimensions(i,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,a=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let d=!1,p=!1,x=!1,C=!1;do if(o===c&&a===0&&!d)n[i++]=this.readCorner1(c,f)&255,o-=2,a+=2,d=!0;else if(o===c-2&&a===0&&f&3&&!p)n[i++]=this.readCorner2(c,f)&255,o-=2,a+=2,p=!0;else if(o===c+4&&a===2&&!(f&7)&&!x)n[i++]=this.readCorner3(c,f)&255,o-=2,a+=2,x=!0;else if(o===c-2&&a===0&&(f&7)===4&&!C)n[i++]=this.readCorner4(c,f)&255,o-=2,a+=2,C=!0;else{do o<c&&a>=0&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,f)&255),o-=2,a+=2;while(o>=0&&a<f);o+=1,a+=3;do o>=0&&a<f&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,f)&255),o+=2,a-=2;while(o<c&&a>=0);o+=3,a+=1}while(o<c||a<f);if(i!==this.version.getTotalCodewords())throw new F;return n}readModule(n,i,o,a){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,a){let c=0;return this.readModule(n-2,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-2,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i,o,a)&&(c|=1),c<<=1,this.readModule(n,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n,i,o,a)&&(c|=1),c}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new E("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=i/a|0,d=o/c|0,p=f*a,x=d*c,C=new we(x,p);for(let S=0;S<f;++S){const v=S*a;for(let M=0;M<d;++M){const k=M*c;for(let B=0;B<a;++B){const j=S*(a+2)+1+B,Y=v+B;for(let ee=0;ee<c;++ee){const te=M*(c+2)+1+ee;if(n.get(te,j)){const $=k+ee;C.set($,Y)}}}}}return C}}class lc{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const o=i.getECBlocks();let a=0;const c=o.getECBlocks();for(let B of c)a+=B.getCount();const f=new Array(a);let d=0;for(let B of c)for(let j=0;j<B.getCount();j++){const Y=B.getDataCodewords(),ee=o.getECCodewords()+Y;f[d++]=new lc(Y,new Uint8Array(ee))}const x=f[0].codewords.length-o.getECCodewords(),C=x-1;let S=0;for(let B=0;B<C;B++)for(let j=0;j<d;j++)f[j].codewords[B]=n[S++];const v=i.getVersionNumber()===24,M=v?8:d;for(let B=0;B<M;B++)f[B].codewords[x-1]=n[S++];const k=f[0].codewords.length;for(let B=x;B<k;B++)for(let j=0;j<d;j++){const Y=v?(j+8)%d:j,ee=v&&Y>7?B-1:B;f[Y].codewords[ee]=n[S++]}if(S!==n.length)throw new E;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class cc{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new E(""+n);let i=0,o=this.bitOffset,a=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,d=n<f?n:f,p=f-d,x=255>>8-d<<p;i=(c[a]&x)>>p,n-=d,o+=d,o===8&&(o=0,a++)}if(n>0){for(;n>=8;)i=i<<8|c[a]&255,a++,n-=8;if(n>0){const f=8-n,d=255>>f<<f;i=i<<n|(c[a]&d)>>f,o+=n}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var St;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));class Nr{static decode(n){const i=new cc(n),o=new xe,a=new xe,c=new Array;let f=St.ASCII_ENCODE;do if(f===St.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,a);else{switch(f){case St.C40_ENCODE:this.decodeC40Segment(i,o);break;case St.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case St.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new F}f=St.ASCII_ENCODE}while(f!==St.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new Oo(n,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(n,i,o){let a=!1;do{let c=n.readBits(8);if(c===0)throw new F;if(c<=128)return a&&(c+=128),i.append(String.fromCharCode(c-1)),St.ASCII_ENCODE;if(c===129)return St.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&i.append("0"),i.append(""+f)}else switch(c){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(c!==254||n.available()!==0)throw new F;break}}while(n.available()>0);return St.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1;const a=[];let c=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),a);for(let d=0;d<3;d++){const p=a[d];switch(c){case 0:if(p<3)c=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new F;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(p){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new F}c=0;break;case 3:o?(i.append(String.fromCharCode(p+224)),o=!1):i.append(String.fromCharCode(p+96)),c=0;break;default:throw new F}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,a=[],c=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),a);for(let d=0;d<3;d++){const p=a[d];switch(c){case 0:if(p<3)c=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[p];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new F;break;case 1:o?(i.append(String.fromCharCode(p+128)),o=!1):i.append(String.fromCharCode(p)),c=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[p];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(p){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new F}c=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[p];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),c=0}else throw new F;break;default:throw new F}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const o=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new F;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let a=(n<<8)+i-1,c=Math.floor(a/1600);o[0]=c,a-=c*1600,c=Math.floor(a/40),o[1]=c,o[2]=a-c*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let a=n.readBits(6);if(a===31){const c=8-n.getBitOffset();c!==8&&n.readBits(c);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let a=1+n.getByteOffset();const c=this.unrandomize255State(n.readBits(8),a++);let f;if(c===0?f=n.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(n.readBits(8),a++),f<0)throw new F;const d=new Uint8Array(f);for(let p=0;p<f;p++){if(n.available()<8)throw new F;d[p]=this.unrandomize255State(n.readBits(8),a++)}o.push(d);try{i.append(he.decode(d,ie.ISO88591))}catch(p){throw new Kn("Platform does not support required encoding: "+p.message)}}static unrandomize255State(n,i){const o=149*i%255+1,a=n-o;return a>=0?a:a+256}}Nr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Nr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Nr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Nr.TEXT_SHIFT2_SET_CHARS=Nr.C40_SHIFT2_SET_CHARS,Nr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class m2{constructor(){this.rsDecoder=new Ro(Be.DATA_MATRIX_FIELD_256)}decode(n){const i=new ac(n),o=i.getVersion(),a=i.readCodewords(),c=lc.getDataBlocks(a,o);let f=0;for(let x of c)f+=x.getNumDataCodewords();const d=new Uint8Array(f),p=c.length;for(let x=0;x<p;x++){const C=c[x],S=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(S,v);for(let M=0;M<v;M++)d[M*p+x]=S[M]}return Nr.decode(d)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new O}for(let a=0;a<i;a++)n[a]=o[a]}}class pt{constructor(n){this.image=n,this.rectangleDetector=new hr(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new H;i=this.shiftToModuleCenter(i);const o=i[0],a=i[1],c=i[2],f=i[3];let d=this.transitionsBetween(o,f)+1,p=this.transitionsBetween(c,f)+1;(d&1)===1&&(d+=1),(p&1)===1&&(p+=1),4*d<7*p&&4*p<7*d&&(d=p=Math.max(d,p));let x=pt.sampleGrid(this.image,o,a,c,f,d,p);return new Ws(x,[o,a,c,f])}static shiftPoint(n,i,o){let a=(i.getX()-n.getX())/(o+1),c=(i.getY()-n.getY())/(o+1);return new fe(n.getX()+a,n.getY()+c)}static moveAway(n,i,o){let a=n.getX(),c=n.getY();return a<i?a-=1:a+=1,c<o?c-=1:c+=1,new fe(a,c)}detectSolid1(n){let i=n[0],o=n[1],a=n[3],c=n[2],f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),p=this.transitionsBetween(a,c),x=this.transitionsBetween(c,i),C=f,S=[c,i,o,a];return C>d&&(C=d,S[0]=i,S[1]=o,S[2]=a,S[3]=c),C>p&&(C=p,S[0]=o,S[1]=a,S[2]=c,S[3]=i),C>x&&(S[0]=a,S[1]=c,S[2]=i,S[3]=o),S}detectSolid2(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c),d=pt.shiftPoint(o,a,(f+1)*4),p=pt.shiftPoint(a,o,(f+1)*4),x=this.transitionsBetween(d,i),C=this.transitionsBetween(p,c);return x<C?(n[0]=i,n[1]=o,n[2]=a,n[3]=c):(n[0]=o,n[1]=a,n[2]=c,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c),d=this.transitionsBetween(o,c),p=pt.shiftPoint(i,o,(d+1)*4),x=pt.shiftPoint(a,o,(f+1)*4);f=this.transitionsBetween(p,c),d=this.transitionsBetween(x,c);let C=new fe(c.getX()+(a.getX()-o.getX())/(f+1),c.getY()+(a.getY()-o.getY())/(f+1)),S=new fe(c.getX()+(i.getX()-o.getX())/(d+1),c.getY()+(i.getY()-o.getY())/(d+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let v=this.transitionsBetween(p,C)+this.transitionsBetween(x,C),M=this.transitionsBetween(p,S)+this.transitionsBetween(x,S);return v>M?C:S}shiftToModuleCenter(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(a,c)+1,p=pt.shiftPoint(i,o,d*4),x=pt.shiftPoint(a,o,f*4);f=this.transitionsBetween(p,c)+1,d=this.transitionsBetween(x,c)+1,(f&1)===1&&(f+=1),(d&1)===1&&(d+=1);let C=(i.getX()+o.getX()+a.getX()+c.getX())/4,S=(i.getY()+o.getY()+a.getY()+c.getY())/4;i=pt.moveAway(i,C,S),o=pt.moveAway(o,C,S),a=pt.moveAway(a,C,S),c=pt.moveAway(c,C,S);let v,M;return p=pt.shiftPoint(i,o,d*4),p=pt.shiftPoint(p,c,f*4),v=pt.shiftPoint(o,i,d*4),v=pt.shiftPoint(v,a,f*4),x=pt.shiftPoint(a,c,d*4),x=pt.shiftPoint(x,o,f*4),M=pt.shiftPoint(c,a,d*4),M=pt.shiftPoint(M,i,f*4),[p,v,x,M]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,a,c,f,d){return Ir.getInstance().sampleGrid(n,f,d,.5,.5,f-.5,.5,f-.5,d-.5,.5,d-.5,i.getX(),i.getY(),c.getX(),c.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.trunc(i.getX()),f=Math.trunc(i.getY()),d=Math.abs(f-a)>Math.abs(c-o);if(d){let B=o;o=a,a=B,B=c,c=f,f=B}let p=Math.abs(c-o),x=Math.abs(f-a),C=-p/2,S=a<f?1:-1,v=o<c?1:-1,M=0,k=this.image.get(d?a:o,d?o:a);for(let B=o,j=a;B!==c;B+=v){let Y=this.image.get(d?j:B,d?B:j);if(Y!==k&&(M++,k=Y),C+=x,C>0){if(j===f)break;j+=S,C-=p}}return M}}class _r{constructor(){this.decoder=new m2}decode(n,i=null){let o,a;if(i!=null&&i.has(K.PURE_BARCODE)){const x=_r.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(x),a=_r.NO_POINTS}else{const x=new pt(n.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const c=o.getRawBytes(),f=new _e(o.getText(),c,8*c.length,a,se.DATA_MATRIX,D.currentTimeMillis()),d=o.getByteSegments();d!=null&&f.putMetadata(xt.BYTE_SEGMENTS,d);const p=o.getECLevel();return p!=null&&f.putMetadata(xt.ERROR_CORRECTION_LEVEL,p),f}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i==null||o==null)throw new H;const a=this.moduleSize(i,n);let c=i[1];const f=o[1];let d=i[0];const x=(o[0]-d+1)/a,C=(f-c+1)/a;if(x<=0||C<=0)throw new H;const S=a/2;c+=S,d+=S;const v=new we(x,C);for(let M=0;M<C;M++){const k=c+M*a;for(let B=0;B<x;B++)n.get(d+B*a,k)&&v.set(B,M)}return v}static moduleSize(n,i){const o=i.getWidth();let a=n[0];const c=n[1];for(;a<o&&i.get(a,c);)a++;if(a===o)throw new H;const f=a-n[0];if(f===0)throw new H;return f}}_r.NO_POINTS=[];class x2 extends Ge{constructor(n=500){super(new _r,n)}}var ji;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(ji||(ji={}));class Ke{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,Ke.FOR_BITS.set(o,this),Ke.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new y(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ke))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Ke.FOR_BITS.size)throw new E;return Ke.FOR_BITS.get(n)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(ji.L,"L",1),Ke.M=new Ke(ji.M,"M",0),Ke.Q=new Ke(ji.Q,"Q",3),Ke.H=new Ke(ji.H,"H",2);class jt{constructor(n){this.errorCorrectionLevel=Ke.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return N.bitCount(n^i)}static decodeFormatInformation(n,i){const o=jt.doDecodeFormatInformation(n,i);return o!==null?o:jt.doDecodeFormatInformation(n^jt.FORMAT_INFO_MASK_QR,i^jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(const c of jt.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===n||f===i)return new jt(c[1]);let d=jt.numBitsDiffering(n,f);d<o&&(a=c[1],o=d),n!==i&&(d=jt.numBitsDiffering(i,f),d<o&&(a=c[1],o=d))}return o<=3?new jt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof jt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}jt.FORMAT_INFO_MASK_QR=21522,jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class b{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const d of f)a+=d.getCount()*(d.getDataCodewords()+c);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new F;try{return this.getVersionForNumber((n-17)/4)}catch{throw new F}}static getVersionForNumber(n){if(n<1||n>40)throw new E;return pe.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<pe.VERSION_DECODE_INFO.length;a++){const c=pe.VERSION_DECODE_INFO[a];if(c===n)return pe.getVersionForNumber(a+7);const f=jt.numBitsDiffering(n,c);f<i&&(o=a+7,i=f)}return i<=3?pe.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new we(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const c=this.alignmentPatternCenters[a]-2;for(let f=0;f<o;f++)a===0&&(f===0||f===o-1)||a===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new z(7,new b(1,19)),new z(10,new b(1,16)),new z(13,new b(1,13)),new z(17,new b(1,9))),new pe(2,Int32Array.from([6,18]),new z(10,new b(1,34)),new z(16,new b(1,28)),new z(22,new b(1,22)),new z(28,new b(1,16))),new pe(3,Int32Array.from([6,22]),new z(15,new b(1,55)),new z(26,new b(1,44)),new z(18,new b(2,17)),new z(22,new b(2,13))),new pe(4,Int32Array.from([6,26]),new z(20,new b(1,80)),new z(18,new b(2,32)),new z(26,new b(2,24)),new z(16,new b(4,9))),new pe(5,Int32Array.from([6,30]),new z(26,new b(1,108)),new z(24,new b(2,43)),new z(18,new b(2,15),new b(2,16)),new z(22,new b(2,11),new b(2,12))),new pe(6,Int32Array.from([6,34]),new z(18,new b(2,68)),new z(16,new b(4,27)),new z(24,new b(4,19)),new z(28,new b(4,15))),new pe(7,Int32Array.from([6,22,38]),new z(20,new b(2,78)),new z(18,new b(4,31)),new z(18,new b(2,14),new b(4,15)),new z(26,new b(4,13),new b(1,14))),new pe(8,Int32Array.from([6,24,42]),new z(24,new b(2,97)),new z(22,new b(2,38),new b(2,39)),new z(22,new b(4,18),new b(2,19)),new z(26,new b(4,14),new b(2,15))),new pe(9,Int32Array.from([6,26,46]),new z(30,new b(2,116)),new z(22,new b(3,36),new b(2,37)),new z(20,new b(4,16),new b(4,17)),new z(24,new b(4,12),new b(4,13))),new pe(10,Int32Array.from([6,28,50]),new z(18,new b(2,68),new b(2,69)),new z(26,new b(4,43),new b(1,44)),new z(24,new b(6,19),new b(2,20)),new z(28,new b(6,15),new b(2,16))),new pe(11,Int32Array.from([6,30,54]),new z(20,new b(4,81)),new z(30,new b(1,50),new b(4,51)),new z(28,new b(4,22),new b(4,23)),new z(24,new b(3,12),new b(8,13))),new pe(12,Int32Array.from([6,32,58]),new z(24,new b(2,92),new b(2,93)),new z(22,new b(6,36),new b(2,37)),new z(26,new b(4,20),new b(6,21)),new z(28,new b(7,14),new b(4,15))),new pe(13,Int32Array.from([6,34,62]),new z(26,new b(4,107)),new z(22,new b(8,37),new b(1,38)),new z(24,new b(8,20),new b(4,21)),new z(22,new b(12,11),new b(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new z(30,new b(3,115),new b(1,116)),new z(24,new b(4,40),new b(5,41)),new z(20,new b(11,16),new b(5,17)),new z(24,new b(11,12),new b(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new z(22,new b(5,87),new b(1,88)),new z(24,new b(5,41),new b(5,42)),new z(30,new b(5,24),new b(7,25)),new z(24,new b(11,12),new b(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new z(24,new b(5,98),new b(1,99)),new z(28,new b(7,45),new b(3,46)),new z(24,new b(15,19),new b(2,20)),new z(30,new b(3,15),new b(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new z(28,new b(1,107),new b(5,108)),new z(28,new b(10,46),new b(1,47)),new z(28,new b(1,22),new b(15,23)),new z(28,new b(2,14),new b(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new z(30,new b(5,120),new b(1,121)),new z(26,new b(9,43),new b(4,44)),new z(28,new b(17,22),new b(1,23)),new z(28,new b(2,14),new b(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new z(28,new b(3,113),new b(4,114)),new z(26,new b(3,44),new b(11,45)),new z(26,new b(17,21),new b(4,22)),new z(26,new b(9,13),new b(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new z(28,new b(3,107),new b(5,108)),new z(26,new b(3,41),new b(13,42)),new z(30,new b(15,24),new b(5,25)),new z(28,new b(15,15),new b(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new z(28,new b(4,116),new b(4,117)),new z(26,new b(17,42)),new z(28,new b(17,22),new b(6,23)),new z(30,new b(19,16),new b(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new z(28,new b(2,111),new b(7,112)),new z(28,new b(17,46)),new z(30,new b(7,24),new b(16,25)),new z(24,new b(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new z(30,new b(4,121),new b(5,122)),new z(28,new b(4,47),new b(14,48)),new z(30,new b(11,24),new b(14,25)),new z(30,new b(16,15),new b(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new z(30,new b(6,117),new b(4,118)),new z(28,new b(6,45),new b(14,46)),new z(30,new b(11,24),new b(16,25)),new z(30,new b(30,16),new b(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new z(26,new b(8,106),new b(4,107)),new z(28,new b(8,47),new b(13,48)),new z(30,new b(7,24),new b(22,25)),new z(30,new b(22,15),new b(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new z(28,new b(10,114),new b(2,115)),new z(28,new b(19,46),new b(4,47)),new z(28,new b(28,22),new b(6,23)),new z(30,new b(33,16),new b(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new z(30,new b(8,122),new b(4,123)),new z(28,new b(22,45),new b(3,46)),new z(30,new b(8,23),new b(26,24)),new z(30,new b(12,15),new b(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new b(3,117),new b(10,118)),new z(28,new b(3,45),new b(23,46)),new z(30,new b(4,24),new b(31,25)),new z(30,new b(11,15),new b(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new b(7,116),new b(7,117)),new z(28,new b(21,45),new b(7,46)),new z(30,new b(1,23),new b(37,24)),new z(30,new b(19,15),new b(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new b(5,115),new b(10,116)),new z(28,new b(19,47),new b(10,48)),new z(30,new b(15,24),new b(25,25)),new z(30,new b(23,15),new b(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new b(13,115),new b(3,116)),new z(28,new b(2,46),new b(29,47)),new z(30,new b(42,24),new b(1,25)),new z(30,new b(23,15),new b(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new b(17,115)),new z(28,new b(10,46),new b(23,47)),new z(30,new b(10,24),new b(35,25)),new z(30,new b(19,15),new b(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new b(17,115),new b(1,116)),new z(28,new b(14,46),new b(21,47)),new z(30,new b(29,24),new b(19,25)),new z(30,new b(11,15),new b(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new b(13,115),new b(6,116)),new z(28,new b(14,46),new b(23,47)),new z(30,new b(44,24),new b(7,25)),new z(30,new b(59,16),new b(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new b(12,121),new b(7,122)),new z(28,new b(12,47),new b(26,48)),new z(30,new b(39,24),new b(14,25)),new z(30,new b(22,15),new b(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new b(6,121),new b(14,122)),new z(28,new b(6,47),new b(34,48)),new z(30,new b(46,24),new b(10,25)),new z(30,new b(2,15),new b(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new b(17,122),new b(4,123)),new z(28,new b(29,46),new b(14,47)),new z(30,new b(49,24),new b(10,25)),new z(30,new b(24,15),new b(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new b(4,122),new b(18,123)),new z(28,new b(13,46),new b(32,47)),new z(30,new b(48,24),new b(14,25)),new z(30,new b(42,15),new b(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new b(20,117),new b(4,118)),new z(28,new b(40,47),new b(7,48)),new z(30,new b(43,24),new b(22,25)),new z(30,new b(10,15),new b(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new b(19,118),new b(6,119)),new z(28,new b(18,47),new b(31,48)),new z(30,new b(34,24),new b(34,25)),new z(30,new b(20,15),new b(61,16)))];var _t;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(_t||(_t={}));class Nn{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&n.flip(a,o)}}Nn.values=new Map([[_t.DATA_MASK_000,new Nn(_t.DATA_MASK_000,(A,n)=>(A+n&1)===0)],[_t.DATA_MASK_001,new Nn(_t.DATA_MASK_001,(A,n)=>(A&1)===0)],[_t.DATA_MASK_010,new Nn(_t.DATA_MASK_010,(A,n)=>n%3===0)],[_t.DATA_MASK_011,new Nn(_t.DATA_MASK_011,(A,n)=>(A+n)%3===0)],[_t.DATA_MASK_100,new Nn(_t.DATA_MASK_100,(A,n)=>(Math.floor(A/2)+Math.floor(n/3)&1)===0)],[_t.DATA_MASK_101,new Nn(_t.DATA_MASK_101,(A,n)=>A*n%6===0)],[_t.DATA_MASK_110,new Nn(_t.DATA_MASK_110,(A,n)=>A*n%6<3)],[_t.DATA_MASK_111,new Nn(_t.DATA_MASK_111,(A,n)=>(A+n+A*n%3&1)===0)]]);class w2{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new F;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let c=0;c<6;c++)n=this.copyBit(c,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let c=5;c>=0;c--)n=this.copyBit(8,c,n);const i=this.bitMatrix.getHeight();let o=0;const a=i-7;for(let c=i-1;c>=a;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=jt.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return pe.getVersionForNumber(i);let o=0;const a=n-11;for(let f=5;f>=0;f--)for(let d=n-9;d>=a;d--)o=this.copyBit(d,f,o);let c=pe.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let d=n-9;d>=a;d--)o=this.copyBit(f,d,o);if(c=pe.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;throw new F}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),o=Nn.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const c=i.buildFunctionPattern();let f=!0;const d=new Uint8Array(i.getTotalCodewords());let p=0,x=0,C=0;for(let S=a-1;S>0;S-=2){S===6&&S--;for(let v=0;v<a;v++){const M=f?a-1-v:v;for(let k=0;k<2;k++)c.get(S-k,M)||(C++,x<<=1,this.bitMatrix.get(S-k,M)&&(x|=1),C===8&&(d[p++]=x,C=0,x=0))}f=!f}if(p!==i.getTotalCodewords())throw new F;return d}remask(){if(this.parsedFormatInfo===null)return;const n=Nn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let a=i+1,c=n.getHeight();a<c;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class uc{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new E;const a=i.getECBlocksForLevel(o);let c=0;const f=a.getECBlocks();for(const k of f)c+=k.getCount();const d=new Array(c);let p=0;for(const k of f)for(let B=0;B<k.getCount();B++){const j=k.getDataCodewords(),Y=a.getECCodewordsPerBlock()+j;d[p++]=new uc(j,new Uint8Array(Y))}const x=d[0].codewords.length;let C=d.length-1;for(;C>=0&&d[C].codewords.length!==x;)C--;C++;const S=x-a.getECCodewordsPerBlock();let v=0;for(let k=0;k<S;k++)for(let B=0;B<p;B++)d[B].codewords[k]=n[v++];for(let k=C;k<p;k++)d[k].codewords[S]=n[v++];const M=d[0].codewords.length;for(let k=S;k<M;k++)for(let B=0;B<p;B++){const j=B<C?k:k+1;d[B].codewords[j]=n[v++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _n;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(_n||(_n={}));class me{constructor(n,i,o,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,me.FOR_BITS.set(a,this),me.FOR_VALUE.set(n,this)}static forBits(n){const i=me.FOR_BITS.get(n);if(i===void 0)throw new E;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof me))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(_n.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(_n.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(_n.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(_n.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(_n.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(_n.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(_n.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(_n.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(_n.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(_n.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ot{static decode(n,i,o,a){const c=new cc(n);let f=new xe;const d=new Array;let p=-1,x=-1;try{let C=null,S=!1,v;do{if(c.available()<4)v=me.TERMINATOR;else{const M=c.readBits(4);v=me.forBits(M)}switch(v){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:S=!0;break;case me.STRUCTURED_APPEND:if(c.available()<16)throw new F;p=c.readBits(8),x=c.readBits(8);break;case me.ECI:const M=ot.parseECIValue(c);if(C=V.getCharacterSetECIByValue(M),C===null)throw new F;break;case me.HANZI:const k=c.readBits(4),B=c.readBits(v.getCharacterCountBits(i));k===ot.GB2312_SUBSET&&ot.decodeHanziSegment(c,f,B);break;default:const j=c.readBits(v.getCharacterCountBits(i));switch(v){case me.NUMERIC:ot.decodeNumericSegment(c,f,j);break;case me.ALPHANUMERIC:ot.decodeAlphanumericSegment(c,f,j,S);break;case me.BYTE:ot.decodeByteSegment(c,f,j,C,d,a);break;case me.KANJI:ot.decodeKanjiSegment(c,f,j);break;default:throw new F}break}}while(v!==me.TERMINATOR)}catch{throw new F}return new Oo(n,f.toString(),d.length===0?null:d,o===null?null:o.toString(),p,x)}static decodeHanziSegment(n,i,o){if(o*13>n.available())throw new F;const a=new Uint8Array(2*o);let c=0;for(;o>0;){const f=n.readBits(13);let d=f/96<<8&4294967295|f%96;d<959?d+=41377:d+=42657,a[c]=d>>8&255,a[c+1]=d&255,c+=2,o--}try{i.append(he.decode(a,ie.GB2312))}catch(f){throw new F(f)}}static decodeKanjiSegment(n,i,o){if(o*13>n.available())throw new F;const a=new Uint8Array(2*o);let c=0;for(;o>0;){const f=n.readBits(13);let d=f/192<<8&4294967295|f%192;d<7936?d+=33088:d+=49472,a[c]=d>>8,a[c+1]=d,c+=2,o--}try{i.append(he.decode(a,ie.SHIFT_JIS))}catch(f){throw new F(f)}}static decodeByteSegment(n,i,o,a,c,f){if(8*o>n.available())throw new F;const d=new Uint8Array(o);for(let x=0;x<o;x++)d[x]=n.readBits(8);let p;a===null?p=ie.guessEncoding(d,f):p=a.getName();try{i.append(he.decode(d,p))}catch(x){throw new F(x)}c.push(d)}static toAlphaNumericChar(n){if(n>=ot.ALPHANUMERIC_CHARS.length)throw new F;return ot.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,o,a){const c=i.length();for(;o>1;){if(n.available()<11)throw new F;const f=n.readBits(11);i.append(ot.toAlphaNumericChar(Math.floor(f/45))),i.append(ot.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(n.available()<6)throw new F;i.append(ot.toAlphaNumericChar(n.readBits(6)))}if(a)for(let f=c;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(n,i,o){for(;o>=3;){if(n.available()<10)throw new F;const a=n.readBits(10);if(a>=1e3)throw new F;i.append(ot.toAlphaNumericChar(Math.floor(a/100))),i.append(ot.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(ot.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(n.available()<7)throw new F;const a=n.readBits(7);if(a>=100)throw new F;i.append(ot.toAlphaNumericChar(Math.floor(a/10))),i.append(ot.toAlphaNumericChar(a%10))}else if(o===1){if(n.available()<4)throw new F;const a=n.readBits(4);if(a>=10)throw new F;i.append(ot.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=n.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=n.readBits(16);return(i&31)<<16&4294967295|o}throw new F}}ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ot.GB2312_SUBSET=1;class I1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class y2{constructor(){this.rsDecoder=new Ro(Be.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(we.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const o=new w2(n);let a=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){a=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,i);return c.setOther(new I1(!0)),c}catch(c){throw a!==null?a:c}}decodeBitMatrixParser(n,i){const o=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),c=n.readCodewords(),f=uc.getDataBlocks(c,o,a);let d=0;for(const C of f)d+=C.getNumDataCodewords();const p=new Uint8Array(d);let x=0;for(const C of f){const S=C.getCodewords(),v=C.getNumDataCodewords();this.correctErrors(S,v);for(let M=0;M<v;M++)p[x++]=S[M]}return ot.decode(p,o,a,i)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new O}for(let a=0;a<i;a++)n[a]=o[a]}}class fc extends fe{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const a=(this.getX()+i)/2,c=(this.getY()+n)/2,f=(this.estimatedModuleSize+o)/2;return new fc(a,c,f)}}class Zs{constructor(n,i,o,a,c,f,d){this.image=n,this.startX=i,this.startY=o,this.width=a,this.height=c,this.moduleSize=f,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,o=this.width,a=n+o,c=this.startY+i/2,f=new Int32Array(3),d=this.image;for(let p=0;p<i;p++){const x=c+(p&1?-Math.floor((p+1)/2):Math.floor((p+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=n;for(;C<a&&!d.get(C,x);)C++;let S=0;for(;C<a;){if(d.get(C,x))if(S===1)f[1]++;else if(S===2){if(this.foundPatternCross(f)){const v=this.handlePossibleCenter(f,x,C);if(v!==null)return v}f[0]=f[2],f[1]=1,f[2]=0,S=1}else f[++S]++;else S===1&&S++,f[S]++;C++}if(this.foundPatternCross(f)){const v=this.handlePossibleCenter(f,x,a);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=o)return!1;return!0}crossCheckVertical(n,i,o,a){const c=this.image,f=c.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let p=n;for(;p>=0&&c.get(i,p)&&d[1]<=o;)d[1]++,p--;if(p<0||d[1]>o)return NaN;for(;p>=0&&!c.get(i,p)&&d[0]<=o;)d[0]++,p--;if(d[0]>o)return NaN;for(p=n+1;p<f&&c.get(i,p)&&d[1]<=o;)d[1]++,p++;if(p===f||d[1]>o)return NaN;for(;p<f&&!c.get(i,p)&&d[2]<=o;)d[2]++,p++;if(d[2]>o)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(d)?Zs.centerFromEnd(d,p):NaN}handlePossibleCenter(n,i,o){const a=n[0]+n[1]+n[2],c=Zs.centerFromEnd(n,o),f=this.crossCheckVertical(i,c,2*n[1],a);if(!isNaN(f)){const d=(n[0]+n[1]+n[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,f,c))return x.combineEstimate(f,c,d);const p=new fc(c,f,d);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class dc extends fe{constructor(n,i,o,a){super(n,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const a=this.count+1,c=(this.count*this.getX()+i)/a,f=(this.count*this.getY()+n)/a,d=(this.count*this.estimatedModuleSize+o)/a;return new dc(c,f,d,a)}}class E2{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ot{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(K.TRY_HARDER)!==void 0,o=n!=null&&n.get(K.PURE_BARCODE)!==void 0,a=this.image,c=a.getHeight(),f=a.getWidth();let d=Math.floor(3*c/(4*Ot.MAX_MODULES));(d<Ot.MIN_SKIP||i)&&(d=Ot.MIN_SKIP);let p=!1;const x=new Int32Array(5);for(let S=d-1;S<c&&!p;S+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let v=0;for(let M=0;M<f;M++)if(a.get(M,S))(v&1)===1&&v++,x[v]++;else if(v&1)x[v]++;else if(v===4)if(Ot.foundPatternCross(x)){if(this.handlePossibleCenter(x,S,M,o)===!0)if(d=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const B=this.findRowSkip();B>x[2]&&(S+=B-x[2]-d,M=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,v=3;continue}v=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,v=3;else x[++v]++;Ot.foundPatternCross(x)&&this.handlePossibleCenter(x,S,f,o)===!0&&(d=x[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return fe.orderBestPatterns(C),new E2(C)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let c=0;c<5;c++){const f=n[c];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,a=o/2;return Math.abs(o-n[0])<a&&Math.abs(o-n[1])<a&&Math.abs(3*o-n[2])<3*a&&Math.abs(o-n[3])<a&&Math.abs(o-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,o,a){const c=this.getCrossCheckStateCount();let f=0;const d=this.image;for(;n>=f&&i>=f&&d.get(i-f,n-f);)c[2]++,f++;if(n<f||i<f)return!1;for(;n>=f&&i>=f&&!d.get(i-f,n-f)&&c[1]<=o;)c[1]++,f++;if(n<f||i<f||c[1]>o)return!1;for(;n>=f&&i>=f&&d.get(i-f,n-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const p=d.getHeight(),x=d.getWidth();for(f=1;n+f<p&&i+f<x&&d.get(i+f,n+f);)c[2]++,f++;if(n+f>=p||i+f>=x)return!1;for(;n+f<p&&i+f<x&&!d.get(i+f,n+f)&&c[3]<o;)c[3]++,f++;if(n+f>=p||i+f>=x||c[3]>=o)return!1;for(;n+f<p&&i+f<x&&d.get(i+f,n+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const C=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(C-a)<2*a&&Ot.foundPatternCross(c)}crossCheckVertical(n,i,o,a){const c=this.image,f=c.getHeight(),d=this.getCrossCheckStateCount();let p=n;for(;p>=0&&c.get(i,p);)d[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(i,p)&&d[1]<=o;)d[1]++,p--;if(p<0||d[1]>o)return NaN;for(;p>=0&&c.get(i,p)&&d[0]<=o;)d[0]++,p--;if(d[0]>o)return NaN;for(p=n+1;p<f&&c.get(i,p);)d[2]++,p++;if(p===f)return NaN;for(;p<f&&!c.get(i,p)&&d[3]<o;)d[3]++,p++;if(p===f||d[3]>=o)return NaN;for(;p<f&&c.get(i,p)&&d[4]<o;)d[4]++,p++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=2*a?NaN:Ot.foundPatternCross(d)?Ot.centerFromEnd(d,p):NaN}crossCheckHorizontal(n,i,o,a){const c=this.image,f=c.getWidth(),d=this.getCrossCheckStateCount();let p=n;for(;p>=0&&c.get(p,i);)d[2]++,p--;if(p<0)return NaN;for(;p>=0&&!c.get(p,i)&&d[1]<=o;)d[1]++,p--;if(p<0||d[1]>o)return NaN;for(;p>=0&&c.get(p,i)&&d[0]<=o;)d[0]++,p--;if(d[0]>o)return NaN;for(p=n+1;p<f&&c.get(p,i);)d[2]++,p++;if(p===f)return NaN;for(;p<f&&!c.get(p,i)&&d[3]<o;)d[3]++,p++;if(p===f||d[3]>=o)return NaN;for(;p<f&&c.get(p,i)&&d[4]<o;)d[4]++,p++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=a?NaN:Ot.foundPatternCross(d)?Ot.centerFromEnd(d,p):NaN}handlePossibleCenter(n,i,o,a){const c=n[0]+n[1]+n[2]+n[3]+n[4];let f=Ot.centerFromEnd(n,o),d=this.crossCheckVertical(i,Math.floor(f),n[2],c);if(!isNaN(d)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(d),n[2],c),!isNaN(f)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(f),n[2],c)))){const p=c/7;let x=!1;const C=this.possibleCenters;for(let S=0,v=C.length;S<v;S++){const M=C[S];if(M.aboutEquals(p,d,f)){C[S]=M.combineEstimate(d,f,p),x=!0;break}}if(!x){const S=new dc(f,d,p);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Ot.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Ot.CENTER_QUORUM&&(n++,i+=f.getEstimatedModuleSize());if(n<3)return!1;const a=i/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-a);return c<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new H;const i=this.possibleCenters;let o;if(n>3){let a=0,c=0;for(const p of this.possibleCenters){const x=p.getEstimatedModuleSize();a+=x,c+=x*x}o=a/n;let f=Math.sqrt(c/n-o*o);i.sort((p,x)=>{const C=Math.abs(x.getEstimatedModuleSize()-o),S=Math.abs(p.getEstimatedModuleSize()-o);return C<S?-1:C>S?1:0});const d=Math.max(.2*o,f);for(let p=0;p<i.length&&i.length>3;p++){const x=i[p];Math.abs(x.getEstimatedModuleSize()-o)>d&&(i.splice(p,1),p--)}}if(i.length>3){let a=0;for(const c of i)a+=c.getEstimatedModuleSize();o=a/i.length,i.sort((c,f)=>{if(f.getCount()===c.getCount()){const d=Math.abs(f.getEstimatedModuleSize()-o),p=Math.abs(c.getEstimatedModuleSize()-o);return d<p?1:d>p?-1:0}else return f.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ot.CENTER_QUORUM=2,Ot.MIN_SKIP=3,Ot.MAX_MODULES=57;class Do{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(K.NEED_RESULT_POINT_CALLBACK);const o=new Ot(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const i=n.getTopLeft(),o=n.getTopRight(),a=n.getBottomLeft(),c=this.calculateModuleSize(i,o,a);if(c<1)throw new H("No pattern found in proccess finder.");const f=Do.computeDimension(i,o,a,c),d=pe.getProvisionalVersionForDimension(f),p=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const M=o.getX()-i.getX()+a.getX(),k=o.getY()-i.getY()+a.getY(),B=1-3/p,j=Math.floor(i.getX()+B*(M-i.getX())),Y=Math.floor(i.getY()+B*(k-i.getY()));for(let ee=4;ee<=16;ee<<=1)try{x=this.findAlignmentInRegion(c,j,Y,ee);break}catch(te){if(!(te instanceof H))throw te}}const C=Do.createTransform(i,o,a,x,f),S=Do.sampleGrid(this.image,C,f);let v;return x===null?v=[a,i,o]:v=[a,i,o,x],new Ws(S,v)}static createTransform(n,i,o,a,c){const f=c-3.5;let d,p,x,C;return a!==null?(d=a.getX(),p=a.getY(),x=f-3,C=x):(d=i.getX()-n.getX()+o.getX(),p=i.getY()-n.getY()+o.getY(),x=f,C=f),Pn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,C,3.5,f,n.getX(),n.getY(),i.getX(),i.getY(),d,p,o.getX(),o.getY())}static sampleGrid(n,i,o){return Ir.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,a){const c=Le.round(fe.distance(n,i)/a),f=Le.round(fe.distance(n,o)/a);let d=Math.floor((c+f)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new H("Dimensions could be not found.")}return d}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,a){let c=this.sizeOfBlackWhiteBlackRun(n,i,o,a),f=1,d=n-(o-n);d<0?(f=n/(n-d),d=0):d>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let p=Math.floor(i-(a-i)*f);return f=1,p<0?(f=i/(i-p),p=0):p>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(p-i),p=this.image.getHeight()-1),d=Math.floor(n+(d-n)*f),c+=this.sizeOfBlackWhiteBlackRun(n,i,d,p),c-1}sizeOfBlackWhiteBlackRun(n,i,o,a){const c=Math.abs(a-i)>Math.abs(o-n);if(c){let M=n;n=i,i=M,M=o,o=a,a=M}const f=Math.abs(o-n),d=Math.abs(a-i);let p=-f/2;const x=n<o?1:-1,C=i<a?1:-1;let S=0;const v=o+x;for(let M=n,k=i;M!==v;M+=x){const B=c?k:M,j=c?M:k;if(S===1===this.image.get(B,j)){if(S===2)return Le.distance(M,k,n,i);S++}if(p+=d,p>0){if(k===a)break;k+=C,p-=f}}return S===2?Le.distance(o+x,a,n,i):NaN}findAlignmentInRegion(n,i,o,a){const c=Math.floor(a*n),f=Math.max(0,i-c),d=Math.min(this.image.getWidth()-1,i+c);if(d-f<n*3)throw new H("Alignment top exceeds estimated module size.");const p=Math.max(0,o-c),x=Math.min(this.image.getHeight()-1,o+c);if(x-p<n*3)throw new H("Alignment bottom exceeds estimated module size.");return new Zs(this.image,f,p,d-f,x-p,n,this.resultPointCallback).find()}}class Or{constructor(){this.decoder=new y2}getDecoder(){return this.decoder}decode(n,i){let o,a;if(i!=null&&i.get(K.PURE_BARCODE)!==void 0){const p=Or.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(p,i),a=Or.NO_POINTS}else{const p=new Do(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(p.getBits(),i),a=p.getPoints()}o.getOther()instanceof I1&&o.getOther().applyMirroredCorrection(a);const c=new _e(o.getText(),o.getRawBytes(),void 0,a,se.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(xt.BYTE_SEGMENTS,f);const d=o.getECLevel();return d!==null&&c.putMetadata(xt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(c.putMetadata(xt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(xt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new H;const a=this.moduleSize(i,n);let c=i[1],f=o[1],d=i[0],p=o[0];if(d>=p||c>=f)throw new H;if(f-c!==p-d&&(p=d+(f-c),p>=n.getWidth()))throw new H;const x=Math.round((p-d+1)/a),C=Math.round((f-c+1)/a);if(x<=0||C<=0)throw new H;if(C!==x)throw new H;const S=Math.floor(a/2);c+=S,d+=S;const v=d+Math.floor((x-1)*a)-p;if(v>0){if(v>S)throw new H;d-=v}const M=c+Math.floor((C-1)*a)-f;if(M>0){if(M>S)throw new H;c-=M}const k=new we(x,C);for(let B=0;B<C;B++){const j=c+Math.floor(B*a);for(let Y=0;Y<x;Y++)n.get(d+Math.floor(Y*a),j)&&k.set(Y,B)}return k}static moduleSize(n,i){const o=i.getHeight(),a=i.getWidth();let c=n[0],f=n[1],d=!0,p=0;for(;c<a&&f<o;){if(d!==i.get(c,f)){if(++p===5)break;d=!d}c++,f++}if(c===a||f===o)throw new H;return(c-n[0])/7}}Or.NO_POINTS=new Array;class Ee{PDF417Common(){}static getBitCountSum(n){return Le.sum(n)}static toIntArray(n){if(n==null||!n.length)return Ee.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let o=0;for(const a of n)i[o++]=a;return i}static getCodeword(n){const i=T.binarySearch(Ee.SYMBOL_TABLE,n&262143);return i<0?-1:(Ee.CODEWORD_TABLE[i]-1)%Ee.NUMBER_OF_CODEWORDS}}Ee.NUMBER_OF_CODEWORDS=929,Ee.MAX_CODEWORDS_IN_BARCODE=Ee.NUMBER_OF_CODEWORDS-1,Ee.MIN_ROWS_IN_BARCODE=3,Ee.MAX_ROWS_IN_BARCODE=90,Ee.MODULES_IN_CODEWORD=17,Ee.MODULES_IN_STOP_PATTERN=18,Ee.BARS_IN_MODULE=8,Ee.EMPTY_INT_ARRAY=new Int32Array([]),Ee.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ee.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class C2{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ie{static detectMultiple(n,i,o){let a=n.getBlackMatrix(),c=Ie.detect(o,a);return c.length||(a=a.clone(),a.rotate180(),c=Ie.detect(o,a)),new C2(a,c)}static detect(n,i){const o=new Array;let a=0,c=0,f=!1;for(;a<i.getHeight();){const d=Ie.findVertices(i,a,c);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,c=0;for(const p of o)p[1]!=null&&(a=Math.trunc(Math.max(a,p[1].getY()))),p[3]!=null&&(a=Math.max(a,Math.trunc(p[3].getY())));a+=Ie.ROW_STEP;continue}if(f=!0,o.push(d),!n)break;d[2]!=null?(c=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(c=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o}static findVertices(n,i,o){const a=n.getHeight(),c=n.getWidth(),f=new Array(8);return Ie.copyToResult(f,Ie.findRowsWithPattern(n,a,c,i,o,Ie.START_PATTERN),Ie.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Ie.copyToResult(f,Ie.findRowsWithPattern(n,a,c,i,o,Ie.STOP_PATTERN),Ie.INDEXES_STOP_PATTERN),f}static copyToResult(n,i,o){for(let a=0;a<o.length;a++)n[o[a]]=i[a]}static findRowsWithPattern(n,i,o,a,c,f){const d=new Array(4);let p=!1;const x=new Int32Array(f.length);for(;a<i;a+=Ie.ROW_STEP){let S=Ie.findGuardPattern(n,c,a,o,!1,f,x);if(S!=null){for(;a>0;){const v=Ie.findGuardPattern(n,c,--a,o,!1,f,x);if(v!=null)S=v;else{a++;break}}d[0]=new fe(S[0],a),d[1]=new fe(S[1],a),p=!0;break}}let C=a+1;if(p){let S=0,v=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;C<i;C++){const M=Ie.findGuardPattern(n,v[0],C,o,!1,f,x);if(M!=null&&Math.abs(v[0]-M[0])<Ie.MAX_PATTERN_DRIFT&&Math.abs(v[1]-M[1])<Ie.MAX_PATTERN_DRIFT)v=M,S=0;else{if(S>Ie.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,d[2]=new fe(v[0],C),d[3]=new fe(v[1],C)}return C-a<Ie.BARCODE_MIN_HEIGHT&&T.fill(d,null),d}static findGuardPattern(n,i,o,a,c,f,d){T.fillWithin(d,0,d.length,0);let p=i,x=0;for(;n.get(p,o)&&p>0&&x++<Ie.MAX_PIXEL_DRIFT;)p--;let C=p,S=0,v=f.length;for(let M=c;C<a;C++)if(n.get(C,o)!==M)d[S]++;else{if(S===v-1){if(Ie.patternMatchVariance(d,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE)return new Int32Array([p,C]);p+=d[0]+d[1],D.arraycopy(d,2,d,0,S-1),d[S-1]=0,d[S]=0,S--}else S++;d[S]=1,M=!M}return S===v-1&&Ie.patternMatchVariance(d,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE?new Int32Array([p,C-1]):null}static patternMatchVariance(n,i,o){let a=n.length,c=0,f=0;for(let x=0;x<a;x++)c+=n[x],f+=i[x];if(c<f)return 1/0;let d=c/f;o*=d;let p=0;for(let x=0;x<a;x++){let C=n[x],S=i[x]*d,v=C>S?C-S:S-C;if(v>o)return 1/0;p+=v}return p/c}}Ie.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ie.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ie.MAX_AVG_VARIANCE=.42,Ie.MAX_INDIVIDUAL_VARIANCE=.8,Ie.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ie.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ie.MAX_PIXEL_DRIFT=3,Ie.MAX_PATTERN_DRIFT=5,Ie.SKIPPED_ROW_COUNT_MAX=25,Ie.ROW_STEP=5,Ie.BARCODE_MIN_HEIGHT=10;class Dt{constructor(n,i){if(i.length===0)throw new E;this.field=n;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),D.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let c of this.coefficients)a=this.field.add(a,c);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let a=new Int32Array(o.length),c=o.length-i.length;D.arraycopy(o,0,a,0,c);for(let f=c;f<o.length;f++)a[f]=this.field.add(i[f-c],o[f]);return new Dt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new E("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Dt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Dt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,f=new Int32Array(o+c-1);for(let d=0;d<o;d++){let p=i[d];for(let x=0;x<c;x++)f[d+x]=this.field.add(f[d+x],this.field.multiply(p,a[x]))}return new Dt(this.field,f)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new Dt(this.field,i)}multiplyScalar(n){if(n===0)return new Dt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new Dt(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new E;if(i===0)return new Dt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+n);for(let c=0;c<o;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new Dt(this.field,a)}toString(){let n=new xe;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class A2{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new E;return this.logTable[n]}inverse(n){if(n===0)throw new Hs;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class hc extends A2{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let a=0;a<n;a++)this.expTable[a]=o,o=o*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new Dt(this,new Int32Array([0])),this.one=new Dt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new E;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new Dt(this,o)}}hc.PDF417_GF=new hc(Ee.NUMBER_OF_CODEWORDS,3);class T1{constructor(){this.field=hc.PDF417_GF}decode(n,i,o){let a=new Dt(this.field,n),c=new Int32Array(i),f=!1;for(let k=i;k>0;k--){let B=a.evaluateAt(this.field.exp(k));c[i-k]=B,B!==0&&(f=!0)}if(!f)return 0;let d=this.field.getOne();if(o!=null)for(const k of o){let B=this.field.exp(n.length-1-k),j=new Dt(this.field,new Int32Array([this.field.subtract(0,B),1]));d=d.multiply(j)}let p=new Dt(this.field,c),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),p,i),C=x[0],S=x[1],v=this.findErrorLocations(C),M=this.findErrorMagnitudes(S,C,v);for(let k=0;k<v.length;k++){let B=n.length-1-this.field.log(v[k]);if(B<0)throw O.getChecksumInstance();n[B]=this.field.subtract(n[B],M[k])}return v.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let v=n;n=i,i=v}let a=n,c=i,f=this.field.getZero(),d=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let v=a,M=f;if(a=c,f=d,a.isZero())throw O.getChecksumInstance();c=v;let k=this.field.getZero(),B=a.getCoefficient(a.getDegree()),j=this.field.inverse(B);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){let Y=c.getDegree()-a.getDegree(),ee=this.field.multiply(c.getCoefficient(c.getDegree()),j);k=k.add(this.field.buildMonomial(Y,ee)),c=c.subtract(a.multiplyByMonomial(Y,ee))}d=k.multiply(f).subtract(M).negative()}let p=d.getCoefficient(0);if(p===0)throw O.getChecksumInstance();let x=this.field.inverse(p),C=d.multiply(x),S=c.multiply(x);return[C,S]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),a=0;for(let c=1;c<this.field.getSize()&&a<i;c++)n.evaluateAt(c)===0&&(o[a]=this.field.inverse(c),a++);if(a!==i)throw O.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let a=i.getDegree(),c=new Int32Array(a);for(let x=1;x<=a;x++)c[a-x]=this.field.multiply(x,i.getCoefficient(x));let f=new Dt(this.field,c),d=o.length,p=new Int32Array(d);for(let x=0;x<d;x++){let C=this.field.inverse(o[x]),S=this.field.subtract(0,n.evaluateAt(C)),v=this.field.inverse(f.evaluateAt(C));p[x]=this.field.multiply(S,v)}return p}}class fi{constructor(n,i,o,a,c){n instanceof fi?this.constructor_2(n):this.constructor_1(n,i,o,a,c)}constructor_1(n,i,o,a,c){const f=i==null||o==null,d=a==null||c==null;if(f&&d)throw new H;f?(i=new fe(0,a.getY()),o=new fe(0,c.getY())):d&&(a=new fe(n.getWidth()-1,i.getY()),c=new fe(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new fi(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let a=this.topLeft,c=this.bottomLeft,f=this.topRight,d=this.bottomRight;if(n>0){let p=o?this.topLeft:this.topRight,x=Math.trunc(p.getY()-n);x<0&&(x=0);let C=new fe(p.getX(),x);o?a=C:f=C}if(i>0){let p=o?this.bottomLeft:this.bottomRight,x=Math.trunc(p.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let C=new fe(p.getX(),x);o?c=C:d=C}return new fi(this.image,a,c,f,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class S2{constructor(n,i,o,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Lo{constructor(){this.buffer=""}static form(n,i){let o=-1;function a(f,d,p,x,C,S){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let v=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=i[o];break;case"c":M=i[o][0];break;case"f":M=parseFloat(i[o]).toFixed(f);break;case"p":M=parseFloat(i[o]).toPrecision(f);break;case"e":M=parseFloat(i[o]).toExponential(f);break;case"x":M=parseInt(i[o]).toString(v||16);break;case"d":M=parseFloat(parseInt(i[o],v||10).toPrecision(f)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(v);let k=parseInt(p),B=p&&p[0]+""=="0"?"0":" ";for(;M.length<k;)M=d!==void 0?M+B:B+M;return M}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}format(n,...i){this.buffer+=Lo.form(n,i)}toString(){return this.buffer}}class ko{constructor(n){this.boundingBox=new fi(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let o=1;o<ko.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(n)-o;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+o,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Lo;let i=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return n.toString()}}ko.MAX_NEARBY_DISTANCE=5;class Po{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[o,a]of this.values.entries()){const c={getKey:()=>o,getValue:()=>a};c.getValue()>n?(n=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===n&&i.push(c.getKey())}return Ee.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class N1 extends ko{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=-1,x=1,C=0;for(let S=f;S<d;S++){if(i[S]==null)continue;let v=i[S],M=v.getRowNumber()-p;if(M===0)C++;else if(M===1)x=Math.max(x,C),C=1,p=v.getRowNumber();else if(M<0||v.getRowNumber()>=n.getRowCount()||M>S)i[S]=null;else{let k;x>2?k=(x-2)*M:k=M;let B=k>=S;for(let j=1;j<=k&&!B;j++)B=i[S-j]!=null;B?i[S]=null:(p=v.getRowNumber(),C=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),p=-1;for(let x=c;x<f;x++){if(d[x]==null)continue;let C=d[x];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-p;S===0||(S===1?p=C.getRowNumber():C.getRowNumber()>=n.getRowCount()?d[x]=null:p=C.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new Po,o=new Po,a=new Po,c=new Po;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let p=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(p*3+1);break;case 1:c.setValue(p/3),a.setValue(p%3);break;case 2:i.setValue(p+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<Ee.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>Ee.MAX_ROWS_IN_BARCODE)return null;let f=new S2(i.getValue()[0],o.getValue()[0],a.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(n,f),f}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let a=n[o];if(n[o]==null)continue;let c=a.getValue()%30,f=a.getRowNumber();if(f>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:c+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bo{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Ee.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let c=this.detectionResultColumns[a].getCodewords()[o];c!=null&&(c.setRowNumber(n[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(c=Bo.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(c=Bo.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let a=o[i],c=this.detectionResultColumns[n-1].getCodewords(),f=c;this.detectionResultColumns[n+1]!=null&&(f=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=c[i],d[3]=f[i],i>0&&(d[0]=o[i-1],d[4]=c[i-1],d[5]=f[i-1]),i>1&&(d[8]=o[i-2],d[10]=c[i-2],d[11]=f[i-2]),i<o.length-1&&(d[1]=o[i+1],d[6]=c[i+1],d[7]=f[i+1]),i<o.length-2&&(d[9]=o[i+2],d[12]=c[i+2],d[13]=f[i+2]);for(let p of d)if(Bo.adjustRowNumber(a,p))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Lo;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[a].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Fo{constructor(n,i,o,a){this.rowNumber=Fo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Fo.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Fo.BARCODE_ROW_UNKNOWN=-1;class on{static initialize(){for(let n=0;n<Ee.SYMBOL_TABLE.length;n++){let i=Ee.SYMBOL_TABLE[n],o=i&1;for(let a=0;a<Ee.BARS_IN_MODULE;a++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,on.RATIOS_TABLE[n]||(on.RATIOS_TABLE[n]=new Array(Ee.BARS_IN_MODULE)),on.RATIOS_TABLE[n][Ee.BARS_IN_MODULE-a-1]=Math.fround(c/Ee.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=on.getDecodedCodewordValue(on.sampleBitCounts(n));return i!==-1?i:on.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Le.sum(n),o=new Int32Array(Ee.BARS_IN_MODULE),a=0,c=0;for(let f=0;f<Ee.MODULES_IN_CODEWORD;f++){let d=i/(2*Ee.MODULES_IN_CODEWORD)+f*i/Ee.MODULES_IN_CODEWORD;c+n[a]<=d&&(c+=n[a],a++),o[a]++}return o}static getDecodedCodewordValue(n){let i=on.getBitValue(n);return Ee.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let a=0;a<n[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Le.sum(n),o=new Array(Ee.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(n[f]/i);let a=Vs.MAX_VALUE,c=-1;this.bSymbolTableReady||on.initialize();for(let f=0;f<on.RATIOS_TABLE.length;f++){let d=0,p=on.RATIOS_TABLE[f];for(let x=0;x<Ee.BARS_IN_MODULE;x++){let C=Math.fround(p[x]-o[x]);if(d+=Math.fround(C*C),d>=a)break}d<a&&(a=d,c=Ee.SYMBOL_TABLE[f])}return c}}on.bSymbolTableReady=!1,on.RATIOS_TABLE=new Array(Ee.SYMBOL_TABLE.length).map(A=>new Array(Ee.BARS_IN_MODULE));class _1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class O1{static parseLong(n,i=void 0){return parseInt(n,i)}}class b1 extends g{}b1.kind="NullPointerException";class v2{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new b1;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new L;if(o===0)return;for(let a=0;a<o;a++)this.write(n[i+a])}flush(){}close(){}}class I2 extends g{}class T2 extends v2{constructor(n=32){if(super(),this.count=0,n<0)throw new E("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new I2;o=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new L;this.ensureCapacity(this.count+o),D.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var We;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(We||(We={}));function R1(){if(typeof window<"u")return window.BigInt||null;if(typeof He<"u")return He.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ks;function br(A){if(typeof Ks>"u"&&(Ks=R1()),Ks===null)throw new Error("BigInt is not supported!");return Ks(A)}function N2(){let A=[];A[0]=br(1);let n=br(900);A[1]=n;for(let i=2;i<16;i++)A[i]=A[i-1]*n;return A}class G{static decode(n,i){let o=new xe(""),a=V.ISO8859_1;o.enableDecoding(a);let c=1,f=n[c++],d=new _1;for(;c<n[0];){switch(f){case G.TEXT_COMPACTION_MODE_LATCH:c=G.textCompaction(n,c,o);break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:c=G.byteCompaction(f,n,a,c,o);break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c++]);break;case G.NUMERIC_COMPACTION_MODE_LATCH:c=G.numericCompaction(n,c,o);break;case G.ECI_CHARSET:V.getCharacterSetECIByValue(n[c++]);break;case G.ECI_GENERAL_PURPOSE:c+=2;break;case G.ECI_USER_DEFINED:c++;break;case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=G.decodeMacroBlock(n,c,d);break;case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:throw new F;default:c--,c=G.textCompaction(n,c,o);break}if(c<n.length)f=n[c++];else throw F.getFormatInstance()}if(o.length()===0)throw F.getFormatInstance();let p=new Oo(null,o.toString(),null,i);return p.setOther(d),p}static decodeMacroBlock(n,i,o){if(i+G.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw F.getFormatInstance();let a=new Int32Array(G.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<G.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=n[i];o.setSegmentIndex(N.parseInt(G.decodeBase900toBase10(a,G.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new xe;i=G.textCompaction(n,i,c),o.setFileId(c.toString());let f=-1;for(n[i]===G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<n[0];)switch(n[i]){case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new xe;i=G.textCompaction(n,i+1,d),o.setFileName(d.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new xe;i=G.textCompaction(n,i+1,p),o.setSender(p.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new xe;i=G.textCompaction(n,i+1,x),o.setAddressee(x.toString());break;case G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new xe;i=G.numericCompaction(n,i+1,C),o.setSegmentCount(N.parseInt(C.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new xe;i=G.numericCompaction(n,i+1,S),o.setTimestamp(O1.parseLong(S.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new xe;i=G.numericCompaction(n,i+1,v),o.setChecksum(N.parseInt(v.toString()));break;case G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new xe;i=G.numericCompaction(n,i+1,M),o.setFileSize(O1.parseLong(M.toString()));break;default:throw F.getFormatInstance()}break;case G.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(f!==-1){let d=i-f;o.isLastSegment()&&d--,o.setOptionalData(T.copyOfRange(n,f,f+d))}return i}static textCompaction(n,i,o){let a=new Int32Array((n[0]-i)*2),c=new Int32Array((n[0]-i)*2),f=0,d=!1;for(;i<n[0]&&!d;){let p=n[i++];if(p<G.TEXT_COMPACTION_MODE_LATCH)a[f]=p/30,a[f+1]=p%30,f+=2;else switch(p){case G.TEXT_COMPACTION_MODE_LATCH:a[f++]=G.TEXT_COMPACTION_MODE_LATCH;break;case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[f]=G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=n[i++],c[f]=p,f++;break}}return G.decodeTextCompaction(a,c,f,o),i}static decodeTextCompaction(n,i,o,a){let c=We.ALPHA,f=We.ALPHA,d=0;for(;d<o;){let p=n[d],x="";switch(c){case We.ALPHA:if(p<26)x=String.fromCharCode(65+p);else switch(p){case 26:x=" ";break;case G.LL:c=We.LOWER;break;case G.ML:c=We.MIXED;break;case G.PS:f=c,c=We.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break;case We.LOWER:if(p<26)x=String.fromCharCode(97+p);else switch(p){case 26:x=" ";break;case G.AS:f=c,c=We.ALPHA_SHIFT;break;case G.ML:c=We.MIXED;break;case G.PS:f=c,c=We.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break;case We.MIXED:if(p<G.PL)x=G.MIXED_CHARS[p];else switch(p){case G.PL:c=We.PUNCT;break;case 26:x=" ";break;case G.LL:c=We.LOWER;break;case G.AL:c=We.ALPHA;break;case G.PS:f=c,c=We.PUNCT_SHIFT;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break;case We.PUNCT:if(p<G.PAL)x=G.PUNCT_CHARS[p];else switch(p){case G.PAL:c=We.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break;case We.ALPHA_SHIFT:if(c=f,p<26)x=String.fromCharCode(65+p);else switch(p){case 26:x=" ";break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break;case We.PUNCT_SHIFT:if(c=f,p<G.PAL)x=G.PUNCT_CHARS[p];else switch(p){case G.PAL:c=We.ALPHA;break;case G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case G.TEXT_COMPACTION_MODE_LATCH:c=We.ALPHA;break}break}x!==""&&a.append(x),d++}}static byteCompaction(n,i,o,a,c){let f=new T2,d=0,p=0,x=!1;switch(n){case G.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=i[a++];for(;a<i[0]&&!x;)switch(C[d++]=S,p=900*p+S,S=i[a++],S){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(d%5===0&&d>0){for(let v=0;v<6;++v)f.write(Number(br(p)>>br(8*(5-v))));p=0,d=0}break}a===i[0]&&S<G.TEXT_COMPACTION_MODE_LATCH&&(C[d++]=S);for(let v=0;v<d;v++)f.write(C[v]);break;case G.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!x;){let v=i[a++];if(v<G.TEXT_COMPACTION_MODE_LATCH)d++,p=900*p+v;else switch(v){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.NUMERIC_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(d%5===0&&d>0){for(let M=0;M<6;++M)f.write(Number(br(p)>>br(8*(5-M))));p=0,d=0}}break}return c.append(he.decode(f.toByteArray(),o)),a}static numericCompaction(n,i,o){let a=0,c=!1,f=new Int32Array(G.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!c;){let d=n[i++];if(i===n[0]&&(c=!0),d<G.TEXT_COMPACTION_MODE_LATCH)f[a]=d,a++;else switch(d){case G.TEXT_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH:case G.BYTE_COMPACTION_MODE_LATCH_6:case G.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case G.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(a%G.MAX_NUMERIC_CODEWORDS===0||d===G.NUMERIC_COMPACTION_MODE_LATCH||c)&&a>0&&(o.append(G.decodeBase900toBase10(f,a)),a=0)}return i}static decodeBase900toBase10(n,i){let o=br(0);for(let c=0;c<i;c++)o+=G.EXP900[i-c-1]*br(n[c]);let a=o.toString();if(a.charAt(0)!=="1")throw new F;return a.substring(1)}}G.TEXT_COMPACTION_MODE_LATCH=900,G.BYTE_COMPACTION_MODE_LATCH=901,G.NUMERIC_COMPACTION_MODE_LATCH=902,G.BYTE_COMPACTION_MODE_LATCH_6=924,G.ECI_USER_DEFINED=925,G.ECI_GENERAL_PURPOSE=926,G.ECI_CHARSET=927,G.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,G.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,G.MACRO_PDF417_TERMINATOR=922,G.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,G.MAX_NUMERIC_CODEWORDS=15,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,G.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,G.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,G.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,G.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,G.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,G.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,G.PL=25,G.LL=27,G.AS=27,G.ML=28,G.AL=28,G.PS=29,G.PAL=29,G.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,G.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",G.EXP900=R1()?N2():[],G.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Te{constructor(){}static decode(n,i,o,a,c,f,d){let p=new fi(n,i,o,a,c),x=null,C=null,S;for(let k=!0;;k=!1){if(i!=null&&(x=Te.getRowIndicatorColumn(n,p,i,!0,f,d)),a!=null&&(C=Te.getRowIndicatorColumn(n,p,a,!1,f,d)),S=Te.merge(x,C),S==null)throw H.getNotFoundInstance();let B=S.getBoundingBox();if(k&&B!=null&&(B.getMinY()<p.getMinY()||B.getMaxY()>p.getMaxY()))p=B;else break}S.setBoundingBox(p);let v=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,x),S.setDetectionResultColumn(v,C);let M=x!=null;for(let k=1;k<=v;k++){let B=M?k:v-k;if(S.getDetectionResultColumn(B)!==void 0)continue;let j;B===0||B===v?j=new N1(p,B===0):j=new ko(p),S.setDetectionResultColumn(B,j);let Y=-1,ee=Y;for(let te=p.getMinY();te<=p.getMaxY();te++){if(Y=Te.getStartColumn(S,B,te,M),Y<0||Y>p.getMaxX()){if(ee===-1)continue;Y=ee}let $=Te.detectCodeword(n,p.getMinX(),p.getMaxX(),M,Y,te,f,d);$!=null&&(j.setCodeword(te,$),ee=Y,f=Math.min(f,$.getWidth()),d=Math.max(d,$.getWidth()))}}return Te.createDecoderResult(S)}static merge(n,i){if(n==null&&i==null)return null;let o=Te.getBarcodeMetadata(n,i);if(o==null)return null;let a=fi.merge(Te.adjustBoundingBox(n),Te.adjustBoundingBox(i));return new Bo(o,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=Te.getMax(i),a=0;for(let d of i)if(a+=o-d,d>0)break;let c=n.getCodewords();for(let d=0;a>0&&c[d]==null;d++)a--;let f=0;for(let d=i.length-1;d>=0&&(f+=o-i[d],!(i[d]>0));d--);for(let d=c.length-1;f>0&&c[d]==null;d--)f--;return n.getBoundingBox().addMissingRows(a,f,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,a,c,f){let d=new N1(i,a);for(let p=0;p<2;p++){let x=p===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let S=Math.trunc(Math.trunc(o.getY()));S<=i.getMaxY()&&S>=i.getMinY();S+=x){let v=Te.detectCodeword(n,0,n.getWidth(),a,C,S,c,f);v!=null&&(d.setCodeword(S,v),a?C=v.getStartX():C=v.getEndX())}}return d}static adjustCodewordCount(n,i){let o=i[0][1],a=o.getValue(),c=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Te.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(c<1||c>Ee.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(c)}else a[0]!==c&&o.setValue(c)}static createDecoderResult(n){let i=Te.createBarcodeMatrix(n);Te.adjustCodewordCount(n,i);let o=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),c=[],f=new Array;for(let p=0;p<n.getBarcodeRowCount();p++)for(let x=0;x<n.getBarcodeColumnCount();x++){let C=i[p][x+1].getValue(),S=p*n.getBarcodeColumnCount()+x;C.length===0?o.push(S):C.length===1?a[S]=C[0]:(f.push(S),c.push(C))}let d=new Array(c.length);for(let p=0;p<d.length;p++)d[p]=c[p];return Te.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,Ee.toIntArray(o),Ee.toIntArray(f),d)}static createDecoderResultFromAmbiguousValues(n,i,o,a,c){let f=new Int32Array(a.length),d=100;for(;d-- >0;){for(let p=0;p<f.length;p++)i[a[p]]=c[p][f[p]];try{return Te.decodeCodewords(i,n,o)}catch(p){if(!(p instanceof O))throw p}if(f.length===0)throw O.getChecksumInstance();for(let p=0;p<f.length;p++)if(f[p]<c[p].length-1){f[p]++;break}else if(f[p]=0,p===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let c=0;c<i[a].length;c++)i[a][c]=new Po;let o=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let c of a.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,a){let c=a?1:-1,f=null;if(Te.isValidBarcodeColumn(n,i-c)&&(f=n.getDetectionResultColumn(i-c).getCodeword(o)),f!=null)return a?f.getEndX():f.getStartX();if(f=n.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return a?f.getStartX():f.getEndX();if(Te.isValidBarcodeColumn(n,i-c)&&(f=n.getDetectionResultColumn(i-c).getCodewordNearby(o)),f!=null)return a?f.getEndX():f.getStartX();let d=0;for(;Te.isValidBarcodeColumn(n,i-c);){i-=c;for(let p of n.getDetectionResultColumn(i).getCodewords())if(p!=null)return(a?p.getEndX():p.getStartX())+c*d*(p.getEndX()-p.getStartX());d++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,a,c,f,d,p){c=Te.adjustCodewordStartColumn(n,i,o,a,c,f);let x=Te.getModuleBitCount(n,i,o,a,c,f);if(x==null)return null;let C,S=Le.sum(x);if(a)C=c+S;else{for(let k=0;k<x.length/2;k++){let B=x[k];x[k]=x[x.length-1-k],x[x.length-1-k]=B}C=c,c=C-S}if(!Te.checkCodewordSkew(S,d,p))return null;let v=on.getDecodedValue(x),M=Ee.getCodeword(v);return M===-1?null:new Fo(c,C,Te.getCodewordBucketNumber(v),M)}static getModuleBitCount(n,i,o,a,c,f){let d=c,p=new Int32Array(8),x=0,C=a?1:-1,S=a;for(;(a?d<o:d>=i)&&x<p.length;)n.get(d,f)===S?(p[x]++,d+=C):(x++,S=!S);return x===p.length||d===(a?o:i)&&x===p.length-1?p:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,a,c,f){let d=c,p=a?-1:1;for(let x=0;x<2;x++){for(;(a?d>=i:d<o)&&a===n.get(d,f);){if(Math.abs(c-d)>Te.CODEWORD_SKEW_SIZE)return c;d+=p}p=-p,a=!a}return d}static checkCodewordSkew(n,i,o){return i-Te.CODEWORD_SKEW_SIZE<=n&&n<=o+Te.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw F.getFormatInstance();let a=1<<i+1,c=Te.correctErrors(n,o,a);Te.verifyCodewordCount(n,a);let f=G.decode(n,""+i);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+Te.MAX_ERRORS||o<0||o>Te.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return Te.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw F.getFormatInstance();let o=n[0];if(o>n.length)throw F.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw F.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((n&1)!==o&&(o=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Te.getCodewordBucketNumber(Te.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new Lo;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let a=0;a<n[o].length;a++){let c=n[o][a];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}Te.CODEWORD_SKEW_SIZE=2,Te.MAX_ERRORS=3,Te.MAX_EC_CODEWORDS=512,Te.errorCorrection=new T1;class Lt{decode(n,i=null){let o=Lt.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return Lt.decode(n,i,!0)}catch(o){throw o instanceof F||o instanceof O?H.getNotFoundInstance():o}}static decode(n,i,o){const a=new Array,c=Ie.detectMultiple(n,i,o);for(const f of c.getPoints()){const d=Te.decode(c.getBits(),f[4],f[5],f[6],f[7],Lt.getMinCodewordWidth(f),Lt.getMaxCodewordWidth(f)),p=new _e(d.getText(),d.getRawBytes(),void 0,f,se.PDF_417);p.putMetadata(xt.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&p.putMetadata(xt.PDF417_EXTRA_METADATA,x),a.push(p)}return a.map(f=>f)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Lt.getMaxWidth(n[0],n[4]),Lt.getMaxWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.max(Lt.getMaxWidth(n[1],n[5]),Lt.getMaxWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Lt.getMinWidth(n[0],n[4]),Lt.getMinWidth(n[6],n[2])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN),Math.min(Lt.getMinWidth(n[1],n[5]),Lt.getMinWidth(n[7],n[3])*Ee.MODULES_IN_CODEWORD/Ee.MODULES_IN_STOP_PATTERN)))}reset(){}}class qs extends g{}qs.kind="ReaderException";class M1{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!s(n)&&n.get(K.TRY_HARDER)===!0,o=s(n)?null:n.get(K.POSSIBLE_FORMATS),a=new Array;if(!s(o)){const c=o.some(f=>f===se.UPC_A||f===se.UPC_E||f===se.EAN_13||f===se.EAN_8||f===se.CODABAR||f===se.CODE_39||f===se.CODE_93||f===se.CODE_128||f===se.ITF||f===se.RSS_14||f===se.RSS_EXPANDED);c&&!i&&a.push(new Ui(n,this.verbose)),o.includes(se.QR_CODE)&&a.push(new Or),o.includes(se.DATA_MATRIX)&&a.push(new _r),o.includes(se.AZTEC)&&a.push(new Gs),o.includes(se.PDF_417)&&a.push(new Lt),c&&i&&a.push(new Ui(n,this.verbose))}a.length===0&&(i||a.push(new Ui(n,this.verbose)),a.push(new Or),a.push(new _r),a.push(new Gs),a.push(new Lt),i&&a.push(new Ui(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new qs("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof qs)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class _2 extends Ge{constructor(n=null,i=500){const o=new M1;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class O2 extends Ge{constructor(n=500){super(new Lt,n)}}class b2 extends Ge{constructor(n=500){super(new Or,n)}}var gc;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(gc||(gc={}));var vt=gc;class pc{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new tn(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1];const a=this.field;for(let c=i.length;c<=n;c++){const f=o.multiply(new tn(a,Int32Array.from([1,a.exp(c-1+a.getGeneratorBase())])));i.push(f),o=f}}return i[n]}encode(n,i){if(i===0)throw new E("No error correction bytes");const o=n.length-i;if(o<=0)throw new E("No data bytes provided");const a=this.buildGenerator(i),c=new Int32Array(o);D.arraycopy(n,0,c,0,o);let f=new tn(this.field,c);f=f.multiplyByMonomial(i,1);const p=f.divide(a)[1].getCoefficients(),x=i-p.length;for(let C=0;C<x;C++)n[o+C]=0;D.arraycopy(p,0,n,o+x,p.length)}}class ft{constructor(){}static applyMaskPenaltyRule1(n){return ft.applyMaskPenaltyRule1Internal(n,!0)+ft.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let f=0;f<c-1;f++){const d=o[f];for(let p=0;p<a-1;p++){const x=d[p];x===d[p+1]&&x===o[f+1][p]&&x===o[f+1][p+1]&&i++}}return ft.N2*i}static applyMaskPenaltyRule3(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let f=0;f<c;f++)for(let d=0;d<a;d++){const p=o[f];d+6<a&&p[d]===1&&p[d+1]===0&&p[d+2]===1&&p[d+3]===1&&p[d+4]===1&&p[d+5]===0&&p[d+6]===1&&(ft.isWhiteHorizontal(p,d-4,d)||ft.isWhiteHorizontal(p,d+7,d+11))&&i++,f+6<c&&o[f][d]===1&&o[f+1][d]===0&&o[f+2][d]===1&&o[f+3][d]===1&&o[f+4][d]===1&&o[f+5][d]===0&&o[f+6][d]===1&&(ft.isWhiteVertical(o,d,f-4,f)||ft.isWhiteVertical(o,d,f+7,f+11))&&i++}return i*ft.N3}static isWhiteHorizontal(n,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let a=i;a<o;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,o,a){o=Math.max(o,0),a=Math.min(a,n.length);for(let c=o;c<a;c++)if(n[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let p=0;p<c;p++){const x=o[p];for(let C=0;C<a;C++)x[C]===1&&i++}const f=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*ft.N4}static getDataMaskBit(n,i,o){let a,c;switch(n){case 0:a=o+i&1;break;case 1:a=o&1;break;case 2:a=i%3;break;case 3:a=(o+i)%3;break;case 4:a=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:c=o*i,a=(c&1)+c%3;break;case 6:c=o*i,a=(c&1)+c%3&1;break;case 7:c=o*i,a=c%3+(o+i&1)&1;break;default:throw new E("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let o=0;const a=i?n.getHeight():n.getWidth(),c=i?n.getWidth():n.getHeight(),f=n.getArray();for(let d=0;d<a;d++){let p=0,x=-1;for(let C=0;C<c;C++){const S=i?f[d][C]:f[C][d];S===x?p++:(p>=5&&(o+=ft.N1+(p-5)),p=1,x=S)}p>=5&&(o+=ft.N1+(p-5))}return o}}ft.N1=3,ft.N2=3,ft.N3=40,ft.N4=10;class $s{constructor(n,i){this.width=n,this.height=i;const o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(const i of this.bytes)T.fill(i,n)}equals(n){if(!(n instanceof $s))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){const c=this.bytes[o],f=i.bytes[o];for(let d=0,p=this.width;d<p;++d)if(c[d]!==f[d])return!1}return!0}toString(){const n=new xe;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i];for(let c=0,f=this.width;c<f;++c)switch(a[c]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class di{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new xe;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<di.NUM_MASK_PATTERNS}}di.NUM_MASK_PATTERNS=8;class Xe extends g{}Xe.kind="WriterException";class ye{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,a,c){ye.clearMatrix(c),ye.embedBasicPatterns(o,c),ye.embedTypeInfo(i,a,c),ye.maybeEmbedVersionInfo(o,c),ye.embedDataBits(n,a,c)}static embedBasicPatterns(n,i){ye.embedPositionDetectionPatternsAndSeparators(i),ye.embedDarkDotAtLeftBottomCorner(i),ye.maybeEmbedPositionAdjustmentPatterns(n,i),ye.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){const a=new P;ye.makeTypeInfoBits(n,i,a);for(let c=0,f=a.getSize();c<f;++c){const d=a.get(a.getSize()-1-c),p=ye.TYPE_INFO_COORDINATES[c],x=p[0],C=p[1];if(o.setBoolean(x,C,d),c<8){const S=o.getWidth()-c-1,v=8;o.setBoolean(S,v,d)}else{const v=o.getHeight()-7+(c-8);o.setBoolean(8,v,d)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const o=new P;ye.makeVersionInfoBits(n,o);let a=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const d=o.get(a);a--,i.setBoolean(c,i.getHeight()-11+f,d),i.setBoolean(i.getHeight()-11+f,c,d)}}static embedDataBits(n,i,o){let a=0,c=-1,f=o.getWidth()-1,d=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);d>=0&&d<o.getHeight();){for(let p=0;p<2;++p){const x=f-p;if(!ye.isEmpty(o.get(x,d)))continue;let C;a<n.getSize()?(C=n.get(a),++a):C=!1,i!==255&&ft.getDataMaskBit(i,x,d)&&(C=!C),o.setBoolean(x,d,C)}d+=c}c=-c,d+=c,f-=2}if(a!==n.getSize())throw new Xe("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-N.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new E("0 polynomial");const o=ye.findMSBSet(i);for(n<<=o-1;ye.findMSBSet(n)>=o;)n^=i<<ye.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!di.isValidMaskPattern(i))throw new Xe("Invalid mask pattern");const a=n.getBits()<<3|i;o.appendBits(a,5);const c=ye.calculateBCHCode(a,ye.TYPE_INFO_POLY);o.appendBits(c,10);const f=new P;if(f.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Xe("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const o=ye.calculateBCHCode(n.getVersionNumber(),ye.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new Xe("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const o=(i+1)%2;ye.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),ye.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Xe;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let a=0;a<8;++a){if(!ye.isEmpty(o.get(n+a,i)))throw new Xe;o.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let a=0;a<7;++a){if(!ye.isEmpty(o.get(n,i+a)))throw new Xe;o.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let a=0;a<5;++a){const c=ye.POSITION_ADJUSTMENT_PATTERN[a];for(let f=0;f<5;++f)o.setNumber(n+f,i+a,c[f])}}static embedPositionDetectionPattern(n,i,o){for(let a=0;a<7;++a){const c=ye.POSITION_DETECTION_PATTERN[a];for(let f=0;f<7;++f)o.setNumber(n+f,i+a,c[f])}}static embedPositionDetectionPatternsAndSeparators(n){const i=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,n),ye.embedPositionDetectionPattern(n.getWidth()-i,0,n),ye.embedPositionDetectionPattern(0,n.getWidth()-i,n);const o=8;ye.embedHorizontalSeparationPattern(0,o-1,n),ye.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),ye.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const a=7;ye.embedVerticalSeparationPattern(a,0,n),ye.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),ye.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,a=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=a.length;c!==f;c++){const d=a[c];if(d>=0)for(let p=0;p!==f;p++){const x=a[p];x>=0&&ye.isEmpty(i.get(x,d))&&ye.embedPositionAdjustmentPattern(x-2,d-2,i)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class R2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(n){return ft.applyMaskPenaltyRule1(n)+ft.applyMaskPenaltyRule2(n)+ft.applyMaskPenaltyRule3(n)+ft.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let a=Je.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(vt.CHARACTER_SET)!==void 0;c&&(a=o.get(vt.CHARACTER_SET).toString());const f=this.chooseMode(n,a),d=new P;if(f===me.BYTE&&(c||Je.DEFAULT_BYTE_MODE_ENCODING!==a)){const te=V.getCharacterSetECIByName(a);te!==void 0&&this.appendECI(te,d)}this.appendModeInfo(f,d);const p=new P;this.appendBytes(n,f,p,a);let x;if(o!==null&&o.get(vt.QR_VERSION)!==void 0){const te=Number.parseInt(o.get(vt.QR_VERSION).toString(),10);x=pe.getVersionForNumber(te);const $=this.calculateBitsNeeded(f,d,p,x);if(!this.willFit($,x,i))throw new Xe("Data too big for requested version")}else x=this.recommendVersion(i,f,d,p);const C=new P;C.appendBitArray(d);const S=f===me.BYTE?p.getSizeInBytes():n.length;this.appendLengthInfo(S,x,f,C),C.appendBitArray(p);const v=x.getECBlocksForLevel(i),M=x.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(M,C);const k=this.interleaveWithECBytes(C,x.getTotalCodewords(),M,v.getNumBlocks()),B=new di;B.setECLevel(i),B.setMode(f),B.setVersion(x);const j=x.getDimensionForVersion(),Y=new $s(j,j),ee=this.chooseMaskPattern(k,i,x,Y);return B.setMaskPattern(ee),ye.buildMatrix(k,i,x,ee,Y),B.setMatrix(Y),B}static recommendVersion(n,i,o,a){const c=this.calculateBitsNeeded(i,o,a,pe.getVersionForNumber(1)),f=this.chooseVersion(c,n),d=this.calculateBitsNeeded(i,o,a,f);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,i,o,a){return i.getSize()+n.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(n){return n<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(V.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return me.KANJI;let o=!1,a=!1;for(let c=0,f=n.length;c<f;++c){const d=n.charAt(c);if(Je.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return me.BYTE}return a?me.ALPHANUMERIC:o?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=he.encode(n,V.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const c=i[a]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(n,i,o,a){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let d=0;d<di.NUM_MASK_PATTERNS;d++){ye.buildMatrix(n,i,o,d,a);let p=this.calculateMaskPenalty(a);p<c&&(c=p,f=d)}return f}static chooseVersion(n,i){for(let o=1;o<=40;o++){const a=pe.getVersionForNumber(o);if(Je.willFit(n,a,i))return a}throw new Xe("Data too big")}static willFit(n,i,o){const a=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),d=a-f,p=(n+7)/8;return d>=p}static terminateBits(n,i){const o=n*8;if(i.getSize()>o)throw new Xe("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let f=a;f<8;f++)i.appendBit(!1);const c=n-i.getSizeInBytes();for(let f=0;f<c;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==o)throw new Xe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,a,c,f){if(a>=o)throw new Xe("Block ID too large");const d=n%o,p=o-d,x=Math.floor(n/o),C=x+1,S=Math.floor(i/o),v=S+1,M=x-S,k=C-v;if(M!==k)throw new Xe("EC bytes mismatch");if(o!==p+d)throw new Xe("RS blocks mismatch");if(n!==(S+M)*p+(v+k)*d)throw new Xe("Total bytes mismatch");a<p?(c[0]=S,f[0]=M):(c[0]=v,f[0]=k)}static interleaveWithECBytes(n,i,o,a){if(n.getSizeInBytes()!==o)throw new Xe("Number of bits and data bytes does not match");let c=0,f=0,d=0;const p=new Array;for(let C=0;C<a;++C){const S=new Int32Array(1),v=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(i,o,a,C,S,v);const M=S[0],k=new Uint8Array(M);n.toBytes(8*c,k,0,M);const B=Je.generateECBytes(k,v[0]);p.push(new R2(k,B)),f=Math.max(f,M),d=Math.max(d,B.length),c+=S[0]}if(o!==c)throw new Xe("Data bytes does not match offset");const x=new P;for(let C=0;C<f;++C)for(const S of p){const v=S.getDataBytes();C<v.length&&x.appendBits(v[C],8)}for(let C=0;C<d;++C)for(const S of p){const v=S.getErrorCorrectionBytes();C<v.length&&x.appendBits(v[C],8)}if(i!==x.getSizeInBytes())throw new Xe("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(n,i){const o=n.length,a=new Int32Array(o+i);for(let f=0;f<o;f++)a[f]=n[f]&255;new pc(Be.QR_CODE_FIELD_256).encode(a,i);const c=new Uint8Array(i);for(let f=0;f<i;f++)c[f]=a[o+f];return c}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,a){const c=o.getCharacterCountBits(i);if(n>=1<<c)throw new Xe(n+" is bigger than "+((1<<c)-1));a.appendBits(n,c)}static appendBytes(n,i,o,a){switch(i){case me.NUMERIC:Je.appendNumericBytes(n,o);break;case me.ALPHANUMERIC:Je.appendAlphanumericBytes(n,o);break;case me.BYTE:Je.append8BitBytes(n,o,a);break;case me.KANJI:Je.appendKanjiBytes(n,o);break;default:throw new Xe("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Je.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const o=n.length;let a=0;for(;a<o;){const c=Je.getDigit(n.charAt(a));if(a+2<o){const f=Je.getDigit(n.charAt(a+1)),d=Je.getDigit(n.charAt(a+2));i.appendBits(c*100+f*10+d,10),a+=3}else if(a+1<o){const f=Je.getDigit(n.charAt(a+1));i.appendBits(c*10+f,7),a+=2}else i.appendBits(c,4),a++}}static appendAlphanumericBytes(n,i){const o=n.length;let a=0;for(;a<o;){const c=Je.getAlphanumericCode(n.charCodeAt(a));if(c===-1)throw new Xe;if(a+1<o){const f=Je.getAlphanumericCode(n.charCodeAt(a+1));if(f===-1)throw new Xe;i.appendBits(c*45+f,11),a+=2}else i.appendBits(c,6),a++}}static append8BitBytes(n,i,o){let a;try{a=he.encode(n,o)}catch(c){throw new Xe(c)}for(let c=0,f=a.length;c!==f;c++){const d=a[c];i.appendBits(d,8)}}static appendKanjiBytes(n,i){let o;try{o=he.encode(n,V.SJIS)}catch(c){throw new Xe(c)}const a=o.length;for(let c=0;c<a;c+=2){const f=o[c]&255,d=o[c+1]&255,p=f<<8&4294967295|d;let x=-1;if(p>=33088&&p<=40956?x=p-33088:p>=57408&&p<=60351&&(x=p-49472),x===-1)throw new Xe("Invalid byte sequence");const C=(x>>8)*192+(x&255);i.appendBits(C,13)}}static appendECI(n,i){i.appendBits(me.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class hi{write(n,i,o,a=null){if(n.length===0)throw new E("Found empty contents");if(i<0||o<0)throw new E("Requested dimensions are too small: "+i+"x"+o);let c=Ke.L,f=hi.QUIET_ZONE_SIZE;a!==null&&(a.get(vt.ERROR_CORRECTION)!==void 0&&(c=Ke.fromString(a.get(vt.ERROR_CORRECTION).toString())),a.get(vt.MARGIN)!==void 0&&(f=Number.parseInt(a.get(vt.MARGIN).toString(),10)));const d=Je.encode(n,c,a);return this.renderResult(d,i,o,f)}writeToDom(n,i,o,a,c=null){typeof n=="string"&&(n=document.querySelector(n));const f=this.write(i,o,a,c);n&&n.appendChild(f)}renderResult(n,i,o,a){const c=n.getMatrix();if(c===null)throw new Kn;const f=c.getWidth(),d=c.getHeight(),p=f+a*2,x=d+a*2,C=Math.max(i,p),S=Math.max(o,x),v=Math.min(Math.floor(C/p),Math.floor(S/x)),M=Math.floor((C-f*v)/2),k=Math.floor((S-d*v)/2),B=this.createSVGElement(C,S);for(let j=0,Y=k;j<d;j++,Y+=v)for(let ee=0,te=M;ee<f;ee++,te+=v)if(c.get(ee,j)===1){const $=this.createSvgRectElement(te,Y,v,v);B.appendChild($)}return B}createSVGElement(n,i){const o=document.createElementNS(hi.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(n,i,o,a){const c=document.createElementNS(hi.SVG_NS,"rect");return c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",a.toString()),c.setAttributeNS(null,"fill","#000000"),c}}hi.QUIET_ZONE_SIZE=4,hi.SVG_NS="http://www.w3.org/2000/svg";class zi{encode(n,i,o,a,c){if(n.length===0)throw new E("Found empty contents");if(i!==se.QR_CODE)throw new E("Can only encode QR_CODE, but got "+i);if(o<0||a<0)throw new E(`Requested dimensions are too small: ${o}x${a}`);let f=Ke.L,d=zi.QUIET_ZONE_SIZE;c!==null&&(c.get(vt.ERROR_CORRECTION)!==void 0&&(f=Ke.fromString(c.get(vt.ERROR_CORRECTION).toString())),c.get(vt.MARGIN)!==void 0&&(d=Number.parseInt(c.get(vt.MARGIN).toString(),10)));const p=Je.encode(n,f,c);return zi.renderResult(p,o,a,d)}static renderResult(n,i,o,a){const c=n.getMatrix();if(c===null)throw new Kn;const f=c.getWidth(),d=c.getHeight(),p=f+a*2,x=d+a*2,C=Math.max(i,p),S=Math.max(o,x),v=Math.min(Math.floor(C/p),Math.floor(S/x)),M=Math.floor((C-f*v)/2),k=Math.floor((S-d*v)/2),B=new we(C,S);for(let j=0,Y=k;j<d;j++,Y+=v)for(let ee=0,te=M;ee<f;ee++,te+=v)c.get(ee,j)===1&&B.setRegion(te,Y,v,v);return B}}zi.QUIET_ZONE_SIZE=4;class M2{encode(n,i,o,a,c){let f;switch(i){case se.QR_CODE:f=new zi;break;default:throw new E("No encoder available for format "+i)}return f.encode(n,i,o,a,c)}}class er extends ne{constructor(n,i,o,a,c,f,d,p){if(super(f,d),this.yuvData=n,this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=c,a+f>i||c+d>o)throw new E("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(f,d)}getRow(n,i){if(n<0||n>=this.getHeight())throw new E("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,a,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=n*i,a=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.yuvData,c,a,0,o),a;for(let f=0;f<i;f++){const d=f*n;D.arraycopy(this.yuvData,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,o,a){return new er(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,o,a,!1)}renderThumbnail(){const n=this.getWidth()/er.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/er.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*i),a=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const d=f*n;for(let p=0;p<n;p++){const x=a[c+p*er.THUMBNAIL_SCALE_FACTOR]&255;o[d+p]=4278190080|x*65793}c+=this.dataWidth*er.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/er.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/er.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const o=this.yuvData;for(let a=0,c=this.top*this.dataWidth+this.left;a<i;a++,c+=this.dataWidth){const f=c+n/2;for(let d=c,p=c+n-1;d<f;d++,p--){const x=o[d];o[d]=o[p],o[p]=x}}}invert(){return new de(this)}}er.THUMBNAIL_SCALE_FACTOR=2;class mc extends ne{constructor(n,i,o,a,c,f,d){if(super(i,o),this.dataWidth=a,this.dataHeight=c,this.left=f,this.top=d,n.BYTES_PER_ELEMENT===4){const p=i*o,x=new Uint8ClampedArray(p);for(let C=0;C<p;C++){const S=n[C],v=S>>16&255,M=S>>7&510,k=S&255;x[C]=(v+M+k)/4&255}this.luminances=x}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new E("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=n*i,a=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.luminances,c,a,0,o),a;for(let f=0;f<i;f++){const d=f*n;D.arraycopy(this.luminances,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,o,a){return new mc(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new de(this)}}class D1 extends V{static forName(n){return this.getCharacterSetECIByName(n)}}class xc{}xc.ISO_8859_1=V.ISO8859_1;class L1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class k1{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class D2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Hi extends D2{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Hi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+N.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class wc extends Hi{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new wc(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function L2(A,n,i){return new wc(A,n,i)}function Uo(A,n,i){return new Hi(A,n,i)}const k2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Rr=0,Js=1,On=2,P1=3,tr=4,P2=new Hi(null,0,0),yc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function B2(A){for(let n of A)T.fill(n,-1);return A[Rr][tr]=0,A[Js][tr]=0,A[Js][Rr]=28,A[P1][tr]=0,A[On][tr]=0,A[On][Rr]=15,A}const B1=B2(T.createInt32Array(6,6));class nr{constructor(n,i,o,a){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,a=this.token;if(n!==this.mode){let f=yc[this.mode][n];a=Uo(a,f&65535,f>>16),o+=f>>16}let c=n===On?4:5;return a=Uo(a,i,c),new nr(a,n,0,o+c)}shiftAndAppend(n,i){let o=this.token,a=this.mode===On?4:5;return o=Uo(o,B1[this.mode][n],a),o=Uo(o,i,5),new nr(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===tr||this.mode===On){let d=yc[o][Rr];i=Uo(i,d&65535,d>>16),a+=d>>16,o=Rr}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new nr(i,o,this.binaryShiftByteCount+1,a+c);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(n+1)),f}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=L2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new nr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(yc[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=nr.calculateBinaryShiftCost(n)-nr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new P;for(const a of i)a.appendTo(o,n);return o}toString(){return ie.format("%s bits=%d bytes=%d",k2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}nr.INITIAL_STATE=new nr(P2,Rr,0,0);function F2(A){const n=ie.getCharCode(" "),i=ie.getCharCode("."),o=ie.getCharCode(",");A[Rr][n]=1;const a=ie.getCharCode("Z"),c=ie.getCharCode("A");for(let v=c;v<=a;v++)A[Rr][v]=v-c+2;A[Js][n]=1;const f=ie.getCharCode("z"),d=ie.getCharCode("a");for(let v=d;v<=f;v++)A[Js][v]=v-d+2;A[On][n]=1;const p=ie.getCharCode("9"),x=ie.getCharCode("0");for(let v=x;v<=p;v++)A[On][v]=v-x+2;A[On][o]=12,A[On][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<C.length;v++)A[P1][ie.getCharCode(C[v])]=v;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<S.length;v++)ie.getCharCode(S[v])>0&&(A[tr][ie.getCharCode(S[v])]=v);return A}const Ec=F2(T.createInt32Array(5,256));class jo{constructor(n){this.text=n}encode(){const n=ie.getCharCode(" "),i=ie.getCharCode(`
`);let o=k1.singletonList(nr.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,d=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ie.getCharCode("\r"):f=d===i?2:0;break;case ie.getCharCode("."):f=d===n?3:0;break;case ie.getCharCode(","):f=d===n?4:0;break;case ie.getCharCode(":"):f=d===n?5:0;break;default:f=0}f>0?(o=jo.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return k1.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const o=[];for(let a of n)this.updateStateForChar(a,i,o);return jo.simplifyStates(o)}updateStateForChar(n,i,o){let a=this.text[i]&255,c=Ec[n.getMode()][a]>0,f=null;for(let d=0;d<=tr;d++){let p=Ec[d][a];if(p>0){if(f==null&&(f=n.endBinaryShift(i)),!c||d===n.getMode()||d===On){const x=f.latchAndAppend(d,p);o.push(x)}if(!c&&B1[n.getMode()][d]>=0){const x=f.shiftAndAppend(d,p);o.push(x)}}}if(n.getBinaryShiftByteCount()>0||Ec[n.getMode()][a]===0){let d=n.addBinaryShiftChar(i);o.push(d)}}static updateStateListForPair(n,i,o){const a=[];for(let c of n)this.updateStateForPair(c,i,o,a);return this.simplifyStates(a)}static updateStateForPair(n,i,o,a){let c=n.endBinaryShift(i);if(a.push(c.latchAndAppend(tr,o)),n.getMode()!==tr&&a.push(c.shiftAndAppend(tr,o)),o===3||o===4){let f=c.latchAndAppend(On,16-o).latchAndAppend(On,1);a.push(f)}if(n.getBinaryShiftByteCount()>0){let f=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(f)}}static simplifyStates(n){let i=[];for(const o of n){let a=!0;for(const c of i){if(c.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(f=>f!==c))}a&&i.push(o)}return i}}class ke{constructor(){}static encodeBytes(n){return ke.encode(n,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let a=new jo(n).encode(),c=N.truncDivision(a.getSize()*i,100)+11,f=a.getSize()+c,d,p,x,C,S;if(o!==ke.DEFAULT_AZTEC_LAYERS){if(d=o<0,p=Math.abs(o),p>(d?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new E(ie.format("Illegal value %s for layers",o));x=ke.totalBitsInLayer(p,d),C=ke.WORD_SIZE[p];let $=x-x%C;if(S=ke.stuffBits(a,C),S.getSize()+c>$)throw new E("Data to large for user specified layer");if(d&&S.getSize()>C*64)throw new E("Data to large for user specified layer")}else{C=0,S=null;for(let $=0;;$++){if($>ke.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(d=$<=3,p=d?$+1:$,x=ke.totalBitsInLayer(p,d),f>x)continue;(S==null||C!==ke.WORD_SIZE[p])&&(C=ke.WORD_SIZE[p],S=ke.stuffBits(a,C));let Re=x-x%C;if(!(d&&S.getSize()>C*64)&&S.getSize()+c<=Re)break}}let v=ke.generateCheckWords(S,x,C),M=S.getSize()/C,k=ke.generateModeMessage(d,p,M),B=(d?11:14)+p*4,j=new Int32Array(B),Y;if(d){Y=B;for(let $=0;$<j.length;$++)j[$]=$}else{Y=B+1+2*N.truncDivision(N.truncDivision(B,2)-1,15);let $=N.truncDivision(B,2),Re=N.truncDivision(Y,2);for(let Se=0;Se<$;Se++){let sn=Se+N.truncDivision(Se,15);j[$-Se-1]=Re-sn-1,j[$+Se]=Re+sn+1}}let ee=new we(Y);for(let $=0,Re=0;$<p;$++){let Se=(p-$)*4+(d?9:12);for(let sn=0;sn<Se;sn++){let Fn=sn*2;for(let an=0;an<2;an++)v.get(Re+Fn+an)&&ee.set(j[$*2+an],j[$*2+sn]),v.get(Re+Se*2+Fn+an)&&ee.set(j[$*2+sn],j[B-1-$*2-an]),v.get(Re+Se*4+Fn+an)&&ee.set(j[B-1-$*2-an],j[B-1-$*2-sn]),v.get(Re+Se*6+Fn+an)&&ee.set(j[B-1-$*2-sn],j[$*2+an])}Re+=Se*8}if(ke.drawModeMessage(ee,d,Y,k),d)ke.drawBullsEye(ee,N.truncDivision(Y,2),5);else{ke.drawBullsEye(ee,N.truncDivision(Y,2),7);for(let $=0,Re=0;$<N.truncDivision(B,2)-1;$+=15,Re+=16)for(let Se=N.truncDivision(Y,2)&1;Se<Y;Se+=2)ee.set(N.truncDivision(Y,2)-Re,Se),ee.set(N.truncDivision(Y,2)+Re,Se),ee.set(Se,N.truncDivision(Y,2)-Re),ee.set(Se,N.truncDivision(Y,2)+Re)}let te=new L1;return te.setCompact(d),te.setSize(Y),te.setLayers(p),te.setCodeWords(M),te.setMatrix(ee),te}static drawBullsEye(n,i,o){for(let a=0;a<o;a+=2)for(let c=i-a;c<=i+a;c++)n.set(c,i-a),n.set(c,i+a),n.set(i-a,c),n.set(i+a,c);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let a=new P;return n?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=ke.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=ke.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,o,a){let c=N.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let d=c-3+f;a.get(f)&&n.set(d,c-5),a.get(f+7)&&n.set(c+5,d),a.get(20-f)&&n.set(d,c+5),a.get(27-f)&&n.set(c-5,d)}else for(let f=0;f<10;f++){let d=c-5+f+N.truncDivision(f,5);a.get(f)&&n.set(d,c-7),a.get(f+10)&&n.set(c+7,d),a.get(29-f)&&n.set(d,c+7),a.get(39-f)&&n.set(c-7,d)}}static generateCheckWords(n,i,o){let a=n.getSize()/o,c=new pc(ke.getGF(o)),f=N.truncDivision(i,o),d=ke.bitsToWords(n,o,f);c.encode(d,f-a);let p=i%o,x=new P;x.appendBits(0,p);for(const C of Array.from(d))x.appendBits(C,o);return x}static bitsToWords(n,i,o){let a=new Int32Array(o),c,f;for(c=0,f=n.getSize()/i;c<f;c++){let d=0;for(let p=0;p<i;p++)d|=n.get(c*i+p)?1<<i-p-1:0;a[c]=d}return a}static getGF(n){switch(n){case 4:return Be.AZTEC_PARAM;case 6:return Be.AZTEC_DATA_6;case 8:return Be.AZTEC_DATA_8;case 10:return Be.AZTEC_DATA_10;case 12:return Be.AZTEC_DATA_12;default:throw new E("Unsupported word size "+n)}}static stuffBits(n,i){let o=new P,a=n.getSize(),c=(1<<i)-2;for(let f=0;f<a;f+=i){let d=0;for(let p=0;p<i;p++)(f+p>=a||n.get(f+p))&&(d|=1<<i-1-p);(d&c)===c?(o.appendBits(d&c,i),f--):d&c?o.appendBits(d,i):(o.appendBits(d|1,i),f--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ea{encode(n,i,o,a){return this.encodeWithHints(n,i,o,a,null)}encodeWithHints(n,i,o,a,c){let f=xc.ISO_8859_1,d=ke.DEFAULT_EC_PERCENT,p=ke.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(vt.CHARACTER_SET)&&(f=D1.forName(c.get(vt.CHARACTER_SET).toString())),c.has(vt.ERROR_CORRECTION)&&(d=N.parseInt(c.get(vt.ERROR_CORRECTION).toString())),c.has(vt.AZTEC_LAYERS)&&(p=N.parseInt(c.get(vt.AZTEC_LAYERS).toString()))),ea.encodeLayers(n,i,o,a,f,d,p)}static encodeLayers(n,i,o,a,c,f,d){if(i!==se.AZTEC)throw new E("Can only encode AZTEC, but got "+i);let p=ke.encode(ie.getBytes(n,c),f,d);return ea.renderResult(p,o,a)}static renderResult(n,i,o){let a=n.getMatrix();if(a==null)throw new Kn;let c=a.getWidth(),f=a.getHeight(),d=Math.max(i,c),p=Math.max(o,f),x=Math.min(d/c,p/f),C=(d-c*x)/2,S=(p-f*x)/2,v=new we(d,p);for(let M=0,k=S;M<f;M++,k+=x)for(let B=0,j=C;B<c;B++,j+=x)a.get(B,M)&&v.setRegion(j,k,x,x);return v}}r.AbstractExpandedDecoder=oc,r.ArgumentException=y,r.ArithmeticException=Hs,r.AztecCode=L1,r.AztecCodeReader=Gs,r.AztecCodeWriter=ea,r.AztecDecoder=Ze,r.AztecDetector=E1,r.AztecDetectorResult=w1,r.AztecEncoder=ke,r.AztecHighLevelEncoder=jo,r.AztecPoint=Xt,r.BarcodeFormat=se,r.Binarizer=R,r.BinaryBitmap=I,r.BitArray=P,r.BitMatrix=we,r.BitSource=cc,r.BrowserAztecCodeReader=u2,r.BrowserBarcodeReader=p2,r.BrowserCodeReader=Ge,r.BrowserDatamatrixCodeReader=x2,r.BrowserMultiFormatReader=_2,r.BrowserPDF417Reader=O2,r.BrowserQRCodeReader=b2,r.BrowserQRCodeSvgWriter=hi,r.CharacterSetECI=V,r.ChecksumException=O,r.Code128Reader=re,r.Code39Reader=At,r.DataMatrixDecodedBitStreamParser=Nr,r.DataMatrixReader=_r,r.DecodeHintType=K,r.DecoderResult=Oo,r.DefaultGridSampler=y1,r.DetectorResult=Ws,r.EAN13Reader=li,r.EncodeHintType=vt,r.Exception=g,r.FormatException=F,r.GenericGF=Be,r.GenericGFPoly=tn,r.GlobalHistogramBinarizer=Ne,r.GridSampler=tc,r.GridSamplerInstance=Ir,r.HTMLCanvasElementLuminanceSource=ge,r.HybridBinarizer=ce,r.ITFReader=Ye,r.IllegalArgumentException=E,r.IllegalStateException=Kn,r.InvertedLuminanceSource=de,r.LuminanceSource=ne,r.MathUtils=Le,r.MultiFormatOneDReader=Ui,r.MultiFormatReader=M1,r.MultiFormatWriter=M2,r.NotFoundException=H,r.OneDReader=wt,r.PDF417DecodedBitStreamParser=G,r.PDF417DecoderErrorCorrection=T1,r.PDF417Reader=Lt,r.PDF417ResultMetadata=_1,r.PerspectiveTransform=Pn,r.PlanarYUVLuminanceSource=er,r.QRCodeByteMatrix=$s,r.QRCodeDataMask=Nn,r.QRCodeDecodedBitStreamParser=ot,r.QRCodeDecoderErrorCorrectionLevel=Ke,r.QRCodeDecoderFormatInformation=jt,r.QRCodeEncoder=Je,r.QRCodeEncoderQRCode=di,r.QRCodeMaskUtil=ft,r.QRCodeMatrixUtil=ye,r.QRCodeMode=me,r.QRCodeReader=Or,r.QRCodeVersion=pe,r.QRCodeWriter=zi,r.RGBLuminanceSource=mc,r.RSS14Reader=ut,r.RSSExpandedReader=q,r.ReaderException=qs,r.ReedSolomonDecoder=Ro,r.ReedSolomonEncoder=pc,r.ReedSolomonException=ki,r.Result=_e,r.ResultMetadataType=xt,r.ResultPoint=fe,r.StringUtils=ie,r.UnsupportedOperationException=oe,r.VideoInputDevice=De,r.WhiteRectangleDetector=hr,r.WriterException=Xe,r.ZXingArrays=T,r.ZXingCharset=D1,r.ZXingInteger=N,r.ZXingStandardCharsets=xc,r.ZXingStringBuilder=xe,r.ZXingStringEncoding=he,r.ZXingSystem=D,r.createAbstractExpandedDecoder=v1,Object.defineProperty(r,"__esModule",{value:!0})})})(cf,cf.exports);var tt=cf.exports;const gC=df(tt),pC=jd({__proto__:null,default:gC},[tt]);var Nd=function(){function e(t,r,s){if(this.formatMap=new Map([[le.QR_CODE,tt.BarcodeFormat.QR_CODE],[le.AZTEC,tt.BarcodeFormat.AZTEC],[le.CODABAR,tt.BarcodeFormat.CODABAR],[le.CODE_39,tt.BarcodeFormat.CODE_39],[le.CODE_93,tt.BarcodeFormat.CODE_93],[le.CODE_128,tt.BarcodeFormat.CODE_128],[le.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[le.MAXICODE,tt.BarcodeFormat.MAXICODE],[le.ITF,tt.BarcodeFormat.ITF],[le.EAN_13,tt.BarcodeFormat.EAN_13],[le.EAN_8,tt.BarcodeFormat.EAN_8],[le.PDF_417,tt.BarcodeFormat.PDF_417],[le.RSS_14,tt.BarcodeFormat.RSS_14],[le.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[le.UPC_A,tt.BarcodeFormat.UPC_A],[le.UPC_E,tt.BarcodeFormat.UPC_E],[le.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pC)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var l=this.createZXingFormats(t),u=new Map;u.set(tt.DecodeHintType.POSSIBLE_FORMATS,l),u.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(s,l){try{s(r.decode(t))}catch(u){l(u)}})},e.prototype.decode=function(t){var r=new tt.MultiFormatReader(this.verbose,this.hints),s=new tt.HTMLCanvasElementLuminanceSource(t),l=new tt.BinaryBitmap(new tt.HybridBinarizer(s)),u=r.decode(l);return{text:u.text,format:$p.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var u=l[s];this.formatMap.has(u)?r.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),mC=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},xC=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},_d=function(){function e(t,r,s){if(this.formatMap=new Map([[le.QR_CODE,"qr_code"],[le.AZTEC,"aztec"],[le.CODABAR,"codabar"],[le.CODE_39,"code_39"],[le.CODE_93,"code_93"],[le.CODE_128,"code_128"],[le.DATA_MATRIX,"data_matrix"],[le.ITF,"itf"],[le.EAN_13,"ean_13"],[le.EAN_8,"ean_8"],[le.PDF_417,"pdf417"],[le.UPC_A,"upc_a"],[le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return mC(this,void 0,void 0,function(){var r,s;return xC(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:$p.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,s=0,l=0,u=t;l<u.length;l++){var h=u[l],w=h.boundingBox.width*h.boundingBox.height;w>s&&(s=w,r=h)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var u=l[s];this.formatMap.has(u)?r.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Od=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},bd=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},wC=function(){function e(t,r,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&_d.isSupported()?(this.primaryDecoder=new _d(t,s,l),this.secondaryDecoder=new Nd(t,s,l)):this.primaryDecoder=new Nd(t,s,l)}return e.prototype.decodeAsync=function(t){return Od(this,void 0,void 0,function(){var r;return bd(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Od(this,void 0,void 0,function(){var r,s;return bd(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,s=this.executionResults;r<s.length;r++){var l=s[r];t+=l}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),m1=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),wl=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},yl=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},n2=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),yC=function(e){m1(t,e);function t(r,s){return e.call(this,r,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var s={};s[this.name]=r;var l={advanced:[s]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(n2),EC=function(e){m1(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(yC),CC=function(e){m1(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(n2),AC=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new EC(this.track)},e.prototype.torchFeature=function(){return new CC(this.track)},e}(),SC=function(){function e(t,r,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,s,l){return wl(this,void 0,void 0,function(){var u,h;return yl(this,function(w){switch(w.label){case 0:return u=new e(t,r,l),s.aspectRatio?(h={aspectRatio:s.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:w.sent(),w.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,s=function(){setTimeout(t,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return wl(this,void 0,void 0,function(){return yl(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,s){var l=t.mediaStream.getVideoTracks(),u=l.length,h=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++h,h>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new AC(this.getFirstTrackOrFail())},e}(),vC=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,s){return wl(this,void 0,void 0,function(){return yl(this,function(l){return[2,SC.create(t,this.mediaStream,r,s)]})})},e.create=function(t){return wl(this,void 0,void 0,function(){var r,s;return yl(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=l.sent(),[2,new e(s)]}})})},e}(),Rd=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},Md=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},IC=function(){function e(){}return e.failIfNotSupported=function(){return Rd(this,void 0,void 0,function(){return Md(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Rd(this,void 0,void 0,function(){return Md(this,function(r){return[2,vC.create(t)]})})},e}(),TC=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},NC=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},_C=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=so.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=so.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return TC(this,void 0,void 0,function(){var t,r,s,l,u,h,w;return NC(this,function(m){switch(m.label){case 0:return t=function(g){for(var y=g.getVideoTracks(),E=0,I=y;E<I.length;E++){var O=I[E];O.enabled=!1,O.stop(),g.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=m.sent(),l=[],u=0,h=s;u<h.length;u++)w=h[u],w.kind==="videoinput"&&l.push({id:w.deviceId,label:w.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var s=function(u){for(var h=[],w=0,m=u;w<m.length;w++){var g=m[w];g.kind==="video"&&h.push({id:g.id,label:g.label})}t(h)},l=MediaStreamTrack;l.getSources(s)})},e}(),ht;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ht||(ht={}));var OC=function(){function e(){this.state=ht.NOT_STARTED,this.onGoingTransactionNewState=ht.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ht.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ht.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ht.UNKNOWN:throw"Transition from unknown is not allowed";case ht.NOT_STARTED:this.failIfNewStateIs(t,[ht.PAUSED]);break;case ht.SCANNING:break;case ht.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var s=0,l=r;s<l.length;s++){var u=l[s];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),bC=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ht.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ht.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ht.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ht.PAUSED},e}(),RC=function(){function e(){}return e.create=function(){return new bC(new OC)},e}(),MC=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),pn=function(e){MC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Hn),DC=function(){function e(t,r){this.logger=r,this.fps=pn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=pn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?t2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ar(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Dd=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof r=="boolean"?this.verbose=r===!0:r&&(s=r,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new e2(this.verbose),this.qrcode=new wC(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=RC.create()}return e.prototype.start=function(t,r,s,l){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;l?h=l:h=this.verbose?this.logger.log:function(){};var w=DC.create(r,this.logger);this.clearElement();var m=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:pn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var E=this,I=this.stateManagerProxy.startTransition(ht.SCANNING);return new Promise(function(O,R){var D=g?w.videoConstraints:E.createVideoConstraints(t);if(!D){I.cancel(),R("videoConstraints should be defined");return}var L={};(!g||w.aspectRatio)&&(L.aspectRatio=w.aspectRatio);var _={onRenderSurfaceReady:function(T,N){E.setupUi(T,N,w),E.isScanning=!0,E.foreverScan(w,s,h)}};IC.failIfNotSupported().then(function(T){T.create(D).then(function(N){return N.render(u.element,L,_).then(function(P){E.renderedCamera=P,I.execute(),O(null)}).catch(function(P){I.cancel(),R(P)})}).catch(function(N){I.cancel(),R(so.errorGettingUserMedia(N))})}).catch(function(T){I.cancel(),R(so.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ht.PAUSED),this.showPausedState(),(ar(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ht.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var u=document.getElementById(pn.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,r){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ar(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var w=h.width,m=h.height,g=document.getElementById(s.elementId),y=g.clientWidth?g.clientWidth:pn.DEFAULT_WIDTH,E=Math.max(g.clientHeight?g.clientHeight:m,pn.FILE_SCAN_MIN_HEIGHT),I=s.computeCanvasDrawConfig(w,m,y,E);if(r){var O=s.createCanvasElement(y,E,"qr-canvas-visible");O.style.display="inline-block",g.appendChild(O);var R=O.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=E,R.drawImage(h,0,0,w,m,I.x,I.y,I.width,I.height)}var D=pn.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(h.width,I.width),_=Math.max(h.height,I.height),T=L+2*D,N=_+2*D,P=s.createCanvasElement(T,N);g.appendChild(P);var Q=P.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=T,Q.canvas.height=N,Q.drawImage(h,0,0,w,m,D,D,L,_);try{s.qrcode.decodeRobustlyAsync(P).then(function(K){l(Id.createFromQrcodeResult(K))}).catch(u)}catch(K){u("QR code parse error, error = ".concat(K))}},h.onerror=u,h.onabort=u,h.onstalled=u,h.onsuspend=u,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return _C.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!t2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[le.QR_CODE,le.AZTEC,le.CODABAR,le.CODE_39,le.CODE_93,le.CODE_128,le.DATA_MATRIX,le.MAXICODE,le.ITF,le.EAN_13,le.EAN_8,le.PDF_417,le.RSS_14,le.RSS_EXPANDED,le.UPC_A,le.UPC_E,le.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,u=t.formatsToSupport;l<u.length;l++){var h=u[l];dC(h)?s.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ar(t))return!0;if(!ar(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ar(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ar(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,s){var l=this,u=s.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,r,u),w=function(g){if(g<pn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pn.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};w(h.width),w(h.height),h.width=m(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},e.prototype.setupUi=function(t,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,s);var l=ar(s.qrbox)?{width:t,height:r}:s.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(t,r,l);u.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=s.isShadedBoxEnabled()&&u.height<=r,w={x:0,y:0,width:t,height:r},m=h?this.getShadedRegionBounds(t,r,u):w,g=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},E=g.getContext("2d",y);E.canvas.width=m.width,E.canvas.height=m.height,this.element.append(g),h&&this.possiblyInsertShadingElement(this.element,t,r,u),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=E,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=so.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,Id.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var u=so.codeParseError(l);return r(u,Jp.createFrom(u)),!1})},e.prototype.foreverScan=function(t,r,s){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),h=u.videoWidth/u.clientWidth,w=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*h,g=this.qrRegion.height*w,y=this.qrRegion.x*h,E=this.qrRegion.y*w;this.context.drawImage(u,y,E,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,s)},l.getTimeoutFps(t.fps))};this.scanContext(r,s).then(function(O){!O&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,s).finally(function(){I()})):I()}).catch(function(O){l.logger.logError("Error happend while scanning context",O),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",s="deviceId",l={user:!0,environment:!0},u="exact",h=function(R){if(R in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var m=Object.keys(t)[0];if(m!==r&&m!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var g=t.facingMode;if(typeof g=="string"){if(h(g))return{facingMode:g}}else if(typeof g=="object")if(u in g){if(h(g["".concat(u)]))return{facingMode:{exact:g["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var E=t.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(u in E)return{deviceId:{exact:E["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var I=typeof E;throw"Invalid type of 'deviceId' = ".concat(I)}}}var O=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},e.prototype.computeCanvasDrawConfig=function(t,r,s,l){if(t<=s&&r<=l){var u=(s-t)/2,h=(l-r)/2;return{x:u,y:h,width:t,height:r}}else{var w=t,m=r;return t>s&&(r=s/t*r,t=s),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(m)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,s,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?pn.BORDER_SHADER_MATCH_COLOR:pn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,s){var l=t,u=r,h=document.createElement("canvas");return h.style.width="".concat(l,"px"),h.style.height="".concat(u,"px"),h.style.display="none",h.id=ar(s)?"qr-canvas":s,h},e.prototype.getShadedRegionBounds=function(t,r,s){if(s.width>t||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,r,s,l){if(!(r-l.width<1||s-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var h=(r-l.width)/2,w=(s-l.height)/2;if(u.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(pn.SHADED_REGION_ELEMENT_ID),r-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(u,g,m,-m,null,0,!0),this.insertShaderBorders(u,g,m,-m,null,0,!1),this.insertShaderBorders(u,g,m,null,-m,0,!0),this.insertShaderBorders(u,g,m,null,-m,0,!1),this.insertShaderBorders(u,m,g+m,-m,null,-m,!0),this.insertShaderBorders(u,m,g+m,null,-m,-m,!0),this.insertShaderBorders(u,m,g+m,-m,null,-m,!1),this.insertShaderBorders(u,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,r,s,l,u,h,w){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=pn.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(s,"px"),l!==null&&(m.style.top="".concat(l,"px")),u!==null&&(m.style.bottom="".concat(u,"px")),w?m.style.left="".concat(h,"px"):m.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),x1="data:image/svg+xml;base64,",LC=x1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",kC=x1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ld=x1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",PC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",kd=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),BC=function(){function e(){this.data=kd.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=kd.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),FC=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Td.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var s=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=Td.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),UC=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ld,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return r.onHoverIn()},this.infoIcon.onmouseout=function(s){return r.onHoverOut()},this.infoIcon.onclick=function(s){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=PC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ld,this.infoIcon.style.opacity="0.6")},e}(),jC=function(){function e(){var t=this;this.infoDiv=new FC,this.infoIcon=new UC(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),zC=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},HC=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Pd=function(){function e(){}return e.hasPermissions=function(){return zC(this,void 0,void 0,function(){var t,r,s,l;return HC(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),r=0,s=t;r<s.length;r++)if(l=s[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),Dr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var s=r[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===ti.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===ti.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Hn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Hn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var s=0,l=t;s<l.length;s++){var u=l[s];if(!Hn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}(),wn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),wr=function(){function e(){}return e.createElement=function(t,r){var s=document.createElement(t);return s.id=r,s.classList.add(wn.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}(),r2=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{g(s.next(y))}catch(E){h(E)}}function m(y){try{g(s.throw(y))}catch(E){h(E)}}function g(y){y.done?u(y.value):l(y.value).then(w,m)}g((s=s.apply(e,t||[])).next())})},i2=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(g){return function(y){return m([g,y])}}function m(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(r=0)),r;)try{if(s=1,l&&(u=g[0]&2?l.return:g[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,g[1])).done)return u;switch(l=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,l=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(y){g=[6,y],l=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Bd=function(){function e(t,r,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return r2(this,void 0,void 0,function(){var t,r;return i2(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=s.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?ze.torchOffButton():ze.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var s=t?ze.torchOnFailedMessage():ze.torchOffFailedMessage();r&&(s+="; Error = "+r),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),VC=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=wr.createElement("button",wn.TORCH_BUTTON_ID),this.torchController=new Bd(t,this,r)}return e.prototype.render=function(t,r){var s=this;this.torchButton.innerText=ze.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return r2(s,void 0,void 0,function(){return i2(this,function(h){switch(h.label){case 0:return[4,l.torchController.flipState()];case 1:return h.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(wn.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(wn.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(wn.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(wn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Bd(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ze.torchOnButton(),this.torchController.reset()},e.create=function(t,r,s,l){var u=new e(r,l);return u.render(t,s),u},e}(),WC=function(){function e(t,r,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=wr.createElement("button",wn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=wr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var m=w.target;if(!(m.files&&m.files.length===0)){var g=m.files,y=g[0],E=y.name;u.setImageNameToButton(E),s(y)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var m=w.dataTransfer;if(m){var g=m.files;if(!g||g.length===0)return;for(var y=!1,E=0;E<g.length;++E){var I=g.item(E);if(I){var O=/image.*/;if(I.type.match(O)){y=!0;var R=I.name;u.setImageNameToButton(R),s(I),h.innerText=ze.dragAndDropMessage();break}}}y||(h.innerText=ze.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ze.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var s=t.substring(0,8),l=t.length,u=t.substring(l-8,l);t="".concat(s,"....").concat(u)}var h=ze.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=ze.fileSelectionChooseImage()+" - "+ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,s){var l=new e(t,r,s);return l},e}(),GC=function(){function e(t){this.selectElement=wr.createElement("select",wn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)r.style.display="none";else{var l=ze.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,h=0,w=this.cameras;h<w.length;h++){var m=w[h],g=m.id,y=m.label==null?g:m.label;(!y||y==="")&&(y=[ze.anonymousCameraPrefix(),u++].join(" "));var E=document.createElement("option");E.value=g,E.innerText=y,this.options.push(E),this.selectElement.appendChild(E)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,s=this.options;r<s.length;r++){var l=s[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var s=new e(r);return s.render(t),s},e}(),YC=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=wr.createElement("input",wn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,s,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var s=new e;return s.render(t,r),s},e}(),mn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(mn||(mn={}));function XC(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function QC(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var ZC=function(){function e(t,r,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Dr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new e2(this.verbose),this.persistedDataManager=new BC,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,h){if(t)t(u,h);else{if(s.lastMatchFound===u)return;s.lastMatchFound=u,s.setHeaderMessage(ze.lastMatch(u),mn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,h){r&&r(u,h)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new Dd(this.getScanRegionId(),QC(this.config,this.verbose))},e.prototype.pause=function(t){(ar(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,l){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),r(),s()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(t.html5Qrcode.clear(),r(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Hn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Hn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Hn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Hn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Hn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Hn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Hn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),s=this.getScanRegionId();r.id=s,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Dr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var s=new jC;s.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,s){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(ze.cameraPermissionRequesting());var u=function(){s||l.createPermissionButton(t,r)};Dd.getCameras().then(function(h){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),h&&h.length>0?(t.removeChild(r),l.renderCameraSelection(h)):(l.setHeaderMessage(ze.noCameraFound(),mn.STATUS_WARNING),u())}).catch(function(h){l.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:u(),l.setHeaderMessage(h,mn.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var s=this,l=wr.createElement("button",this.getCameraPermissionButtonId());l.innerText=ze.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,s.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var s=this;if(Dr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pd.hasPermissions().then(function(l){l?s.createCameraListUi(t,r):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r))}).catch(function(l){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Dr.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(s);var l=document.createElement("div");l.style.textAlign="center",s.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Dr.isFileScanType(this.currentScanType),s=this,l=function(u){if(!s.html5Qrcode)throw"html5Qrcode not defined";Dr.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(ze.loadingImage()),s.html5Qrcode.scanFileV2(u,!0).then(function(h){s.resetHeaderMessage(),s.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){s.setHeaderMessage(h,mn.STATUS_WARNING),s.qrCodeErrorCallback(h,Jp.createFrom(h))}))};this.fileSelectionUi=WC.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,s=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=YC.create(l,!1),h=function(D){var L=D.zoomFeature();if(L.isSupported()){u.setOnCameraZoomValueChangeCallback(function(T){L.apply(T)});var _=1;r.config.defaultZoomValueIfSupported&&(_=r.config.defaultZoomValueIfSupported),_=hC(_,L.min(),L.max()),u.setValues(L.min(),L.max(),_,L.step()),u.show()}},w=GC.create(l,t),m=document.createElement("span"),g=wr.createElement("button",wn.CAMERA_START_BUTTON_ID);g.innerText=ze.scanButtonStartScanningText(),m.appendChild(g);var y=wr.createElement("button",wn.CAMERA_STOP_BUTTON_ID);y.innerText=ze.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,m.appendChild(y);var E,I=function(D){if(!D.torchFeature().isSupported()){E&&E.hide();return}E?E.updateTorchCapability(D.torchFeature()):E=VC.create(m,D.torchFeature(),{display:"none",marginLeft:"5px"},function(L){s.setHeaderMessage(L,mn.STATUS_WARNING)}),E.show()};l.appendChild(m);var O=function(D){D||(g.style.display="none"),g.innerText=ze.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,D&&(g.style.display="inline-block")};if(g.addEventListener("click",function(D){g.innerText=ze.scanButtonScanningStarting(),w.disable(),g.disabled=!0,g.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var L=w.getValue();s.persistedDataManager.setLastUsedCameraId(L),s.html5Qrcode.start(L,XC(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(_){y.disabled=!1,y.style.display="inline-block",O(!1);var T=s.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&I(T),r.config.showZoomSliderIfSupported===!0&&h(T)}).catch(function(_){s.showHideScanTypeSwapLink(!0),w.enable(),O(!0),s.setHeaderMessage(_,mn.STATUS_WARNING)})}),w.hasSingleItem()&&g.click(),y.addEventListener("click",function(D){if(!s.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,s.html5Qrcode.stop().then(function(L){r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),w.enable(),g.disabled=!1,y.style.display="none",g.style.display="inline-block",E&&(E.reset(),E.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(L){y.disabled=!1,s.setHeaderMessage(L,mn.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var R=s.persistedDataManager.getLastUsedCameraId();w.hasValue(R)?(w.setValue(R),g.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=ze.textIfCameraScanSelected(),s=ze.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var h=wr.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Dr.isCameraScanType(this.currentScanType)?r:s,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Dr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=s,t.currentScanType=ti.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=r,t.currentScanType=ti.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(h),l.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){Pd.hasPermissions().then(function(s){if(s){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(s){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=mn.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",r){case mn.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case mn.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case mn.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=LC,this.cameraScanImage.alt=ze.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=kC,this.fileScanImage.alt=ze.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return wn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return wn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function o2(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=o2(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Vr(){for(var e,t,r=0,s="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=o2(e))&&(s&&(s+=" "),s+=t);return s}const Ds=e=>typeof e=="number"&&!isNaN(e),Si=e=>typeof e=="string",En=e=>typeof e=="function",Pa=e=>Si(e)||En(e)?e:null,uf=e=>Z.isValidElement(e)||Si(e)||En(e)||Ds(e);function KC(e,t,r){r===void 0&&(r=300);const{scrollHeight:s,style:l}=e;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${r}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,r)})})}function Jl(e){let{enter:t,exit:r,appendPosition:s=!1,collapse:l=!0,collapseDuration:u=300}=e;return function(h){let{children:w,position:m,preventExitTransition:g,done:y,nodeRef:E,isIn:I,playToast:O}=h;const R=s?`${t}--${m}`:t,D=s?`${r}--${m}`:r,L=Z.useRef(0);return Z.useLayoutEffect(()=>{const _=E.current,T=R.split(" "),N=P=>{P.target===E.current&&(O(),_.removeEventListener("animationend",N),_.removeEventListener("animationcancel",N),L.current===0&&P.type!=="animationcancel"&&_.classList.remove(...T))};_.classList.add(...T),_.addEventListener("animationend",N),_.addEventListener("animationcancel",N)},[]),Z.useEffect(()=>{const _=E.current,T=()=>{_.removeEventListener("animationend",T),l?KC(_,y,u):y()};I||(g?T():(L.current=1,_.className+=` ${D}`,_.addEventListener("animationend",T)))},[I]),Ce.createElement(Ce.Fragment,null,w)}}function Fd(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Kt=new Map;let Ls=[];const ff=new Set,qC=e=>ff.forEach(t=>t(e)),s2=()=>Kt.size>0;function a2(e,t){var r;if(t)return!((r=Kt.get(t))==null||!r.isToastActive(e));let s=!1;return Kt.forEach(l=>{l.isToastActive(e)&&(s=!0)}),s}function l2(e,t){uf(e)&&(s2()||Ls.push({content:e,options:t}),Kt.forEach(r=>{r.buildToast(e,t)}))}function Ud(e,t){Kt.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function $C(e){const{subscribe:t,getSnapshot:r,setProps:s}=Z.useRef(function(u){const h=u.containerId||1;return{subscribe(w){const m=function(y,E,I){let O=1,R=0,D=[],L=[],_=[],T=E;const N=new Map,P=new Set,Q=()=>{_=Array.from(N.values()),P.forEach(W=>W())},K=W=>{L=W==null?[]:L.filter(V=>V!==W),Q()},F=W=>{const{toastId:V,onOpen:oe,updateId:he,children:ie}=W.props,xe=he==null;W.staleId&&N.delete(W.staleId),N.set(V,W),L=[...L,W.props.toastId].filter(we=>we!==W.staleId),Q(),I(Fd(W,xe?"added":"updated")),xe&&En(oe)&&oe(Z.isValidElement(ie)&&ie.props)};return{id:y,props:T,observe:W=>(P.add(W),()=>P.delete(W)),toggle:(W,V)=>{N.forEach(oe=>{V!=null&&V!==oe.props.toastId||En(oe.toggle)&&oe.toggle(W)})},removeToast:K,toasts:N,clearQueue:()=>{R-=D.length,D=[]},buildToast:(W,V)=>{if((Ae=>{let{containerId:Ge,toastId:_e,updateId:Nt}=Ae;const se=Ge?Ge!==y:y!==1,en=N.has(_e)&&Nt==null;return se||en})(V))return;const{toastId:oe,updateId:he,data:ie,staleId:xe,delay:we}=V,H=()=>{K(oe)},Ne=he==null;Ne&&R++;const ce={...T,style:T.toastStyle,key:O++,...Object.fromEntries(Object.entries(V).filter(Ae=>{let[Ge,_e]=Ae;return _e!=null})),toastId:oe,updateId:he,data:ie,closeToast:H,isIn:!1,className:Pa(V.className||T.toastClassName),bodyClassName:Pa(V.bodyClassName||T.bodyClassName),progressClassName:Pa(V.progressClassName||T.progressClassName),autoClose:!V.isLoading&&(ne=V.autoClose,de=T.autoClose,ne===!1||Ds(ne)&&ne>0?ne:de),deleteToast(){const Ae=N.get(oe),{onClose:Ge,children:_e}=Ae.props;En(Ge)&&Ge(Z.isValidElement(_e)&&_e.props),I(Fd(Ae,"removed")),N.delete(oe),R--,R<0&&(R=0),D.length>0?F(D.shift()):Q()}};var ne,de;ce.closeButton=T.closeButton,V.closeButton===!1||uf(V.closeButton)?ce.closeButton=V.closeButton:V.closeButton===!0&&(ce.closeButton=!uf(T.closeButton)||T.closeButton);let ge=W;Z.isValidElement(W)&&!Si(W.type)?ge=Z.cloneElement(W,{closeToast:H,toastProps:ce,data:ie}):En(W)&&(ge=W({closeToast:H,toastProps:ce,data:ie}));const De={content:ge,props:ce,staleId:xe};T.limit&&T.limit>0&&R>T.limit&&Ne?D.push(De):Ds(we)?setTimeout(()=>{F(De)},we):F(De)},setProps(W){T=W},setToggle:(W,V)=>{N.get(W).toggle=V},isToastActive:W=>L.some(V=>V===W),getSnapshot:()=>_}}(h,u,qC);Kt.set(h,m);const g=m.observe(w);return Ls.forEach(y=>l2(y.content,y.options)),Ls=[],()=>{g(),Kt.delete(h)}},setProps(w){var m;(m=Kt.get(h))==null||m.setProps(w)},getSnapshot(){var w;return(w=Kt.get(h))==null?void 0:w.getSnapshot()}}}(e)).current;s(e);const l=Z.useSyncExternalStore(t,r,r);return{getToastToRender:function(u){if(!l)return[];const h=new Map;return e.newestOnTop&&l.reverse(),l.forEach(w=>{const{position:m}=w.props;h.has(m)||h.set(m,[]),h.get(m).push(w)}),Array.from(h,w=>u(w[0],w[1]))},isToastActive:a2,count:l==null?void 0:l.length}}function JC(e){const[t,r]=Z.useState(!1),[s,l]=Z.useState(!1),u=Z.useRef(null),h=Z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:w,pauseOnHover:m,closeToast:g,onClick:y,closeOnClick:E}=e;var I,O;function R(){r(!0)}function D(){r(!1)}function L(N){const P=u.current;h.canDrag&&P&&(h.didMove=!0,t&&D(),h.delta=e.draggableDirection==="x"?N.clientX-h.start:N.clientY-h.start,h.start!==N.clientX&&(h.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function _(){document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",_);const N=u.current;if(h.canDrag&&h.didMove&&N){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return l(!0),e.closeToast(),void e.collapseAll();N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}(O=Kt.get((I={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||O.setToggle(I.id,I.fn),Z.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||D(),window.addEventListener("focus",R),window.addEventListener("blur",D),()=>{window.removeEventListener("focus",R),window.removeEventListener("blur",D)}},[e.pauseOnFocusLoss]);const T={onPointerDown:function(N){if(e.draggable===!0||e.draggable===N.pointerType){h.didMove=!1,document.addEventListener("pointermove",L),document.addEventListener("pointerup",_);const P=u.current;h.canCloseOnClick=!0,h.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(h.start=N.clientX,h.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(h.start=N.clientY,h.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(N){const{top:P,bottom:Q,left:K,right:F}=u.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&e.pauseOnHover&&N.clientX>=K&&N.clientX<=F&&N.clientY>=P&&N.clientY<=Q?D():R()}};return w&&m&&(T.onMouseEnter=D,e.stacked||(T.onMouseLeave=R)),E&&(T.onClick=N=>{y&&y(N),h.canCloseOnClick&&g()}),{playToast:R,pauseToast:D,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:T}}function eA(e){let{delay:t,isRunning:r,closeToast:s,type:l="default",hide:u,className:h,style:w,controlledProgress:m,progress:g,rtl:y,isIn:E,theme:I}=e;const O=u||m&&g===0,R={...w,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};m&&(R.transform=`scaleX(${g})`);const D=Vr("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${I}`,`Toastify__progress-bar--${l}`,{"Toastify__progress-bar--rtl":y}),L=En(h)?h({rtl:y,type:l,defaultClassName:D}):Vr(D,h),_={[m&&g>=1?"onTransitionEnd":"onAnimationEnd"]:m&&g<1?null:()=>{E&&s()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":O},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${I} Toastify__progress-bar--${l}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":O?"true":"false","aria-label":"notification timer",className:L,style:R,..._}))}let tA=1;const c2=()=>""+tA++;function nA(e){return e&&(Si(e.toastId)||Ds(e.toastId))?e.toastId:c2()}function fs(e,t){return l2(e,t),t.toastId}function El(e,t){return{...t,type:t&&t.type||e,toastId:nA(t)}}function wa(e){return(t,r)=>fs(t,El(e,r))}function qe(e,t){return fs(e,El("default",t))}qe.loading=(e,t)=>fs(e,El("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),qe.promise=function(e,t,r){let s,{pending:l,error:u,success:h}=t;l&&(s=Si(l)?qe.loading(l,r):qe.loading(l.render,{...r,...l}));const w={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(y,E,I)=>{if(E==null)return void qe.dismiss(s);const O={type:y,...w,...r,data:I},R=Si(E)?{render:E}:E;return s?qe.update(s,{...O,...R}):qe(R.render,{...O,...R}),I},g=En(e)?e():e;return g.then(y=>m("success",h,y)).catch(y=>m("error",u,y)),g},qe.success=wa("success"),qe.info=wa("info"),qe.error=wa("error"),qe.warning=wa("warning"),qe.warn=qe.warning,qe.dark=(e,t)=>fs(e,El("default",{theme:"dark",...t})),qe.dismiss=function(e){(function(t){var r;if(s2()){if(t==null||Si(r=t)||Ds(r))Kt.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const s=Kt.get(t.containerId);s?s.removeToast(t.id):Kt.forEach(l=>{l.removeToast(t.id)})}}else Ls=Ls.filter(s=>t!=null&&s.options.toastId!==t)})(e)},qe.clearWaitingQueue=function(e){e===void 0&&(e={}),Kt.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},qe.isActive=a2,qe.update=function(e,t){t===void 0&&(t={});const r=((s,l)=>{var u;let{containerId:h}=l;return(u=Kt.get(h||1))==null?void 0:u.toasts.get(s)})(e,t);if(r){const{props:s,content:l}=r,u={delay:100,...s,...t,toastId:t.toastId||e,updateId:c2()};u.toastId!==e&&(u.staleId=e);const h=u.render||l;delete u.render,fs(h,u)}},qe.done=e=>{qe.update(e,{progress:1})},qe.onChange=function(e){return ff.add(e),()=>{ff.delete(e)}},qe.play=e=>Ud(!0,e),qe.pause=e=>Ud(!1,e);const rA=typeof window<"u"?Z.useLayoutEffect:Z.useEffect,ya=e=>{let{theme:t,type:r,isLoading:s,...l}=e;return Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...l})},tu={info:function(e){return Ce.createElement(ya,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ce.createElement(ya,{...e},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ce.createElement(ya,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ce.createElement(ya,{...e},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ce.createElement("div",{className:"Toastify__spinner"})}},iA=e=>{const{isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:l,playToast:u}=JC(e),{closeButton:h,children:w,autoClose:m,onClick:g,type:y,hideProgressBar:E,closeToast:I,transition:O,position:R,className:D,style:L,bodyClassName:_,bodyStyle:T,progressClassName:N,progressStyle:P,updateId:Q,role:K,progress:F,rtl:W,toastId:V,deleteToast:oe,isIn:he,isLoading:ie,closeOnClick:xe,theme:we}=e,H=Vr("Toastify__toast",`Toastify__toast-theme--${we}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":W},{"Toastify__toast--close-on-click":xe}),Ne=En(D)?D({rtl:W,position:R,type:y,defaultClassName:H}):Vr(H,D),ce=function(De){let{theme:Ae,type:Ge,isLoading:_e,icon:Nt}=De,se=null;const en={theme:Ae,type:Ge};return Nt===!1||(En(Nt)?se=Nt({...en,isLoading:_e}):Z.isValidElement(Nt)?se=Z.cloneElement(Nt,en):_e?se=tu.spinner():(xt=>xt in tu)(Ge)&&(se=tu[Ge](en))),se}(e),ne=!!F||!m,de={closeToast:I,type:y,theme:we};let ge=null;return h===!1||(ge=En(h)?h(de):Z.isValidElement(h)?Z.cloneElement(h,de):function(De){let{closeToast:Ae,theme:Ge,ariaLabel:_e="close"}=De;return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ge}`,type:"button",onClick:Nt=>{Nt.stopPropagation(),Ae(Nt)},"aria-label":_e},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(de)),Ce.createElement(O,{isIn:he,done:oe,position:R,preventExitTransition:r,nodeRef:s,playToast:u},Ce.createElement("div",{id:V,onClick:g,"data-in":he,className:Ne,...l,style:L,ref:s},Ce.createElement("div",{...he&&{role:K},className:En(_)?_({type:y}):Vr("Toastify__toast-body",_),style:T},ce!=null&&Ce.createElement("div",{className:Vr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ie})},ce),Ce.createElement("div",null,w)),ge,Ce.createElement(eA,{...Q&&!ne?{key:`pb-${Q}`}:{},rtl:W,theme:we,delay:m,isRunning:t,isIn:he,closeToast:I,hide:E,type:y,style:P,className:N,controlledProgress:ne,progress:F||0})))},ec=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},oA=Jl(ec("bounce",!0));Jl(ec("slide",!0));Jl(ec("zoom"));Jl(ec("flip"));const sA={position:"top-right",transition:oA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function aA(e){let t={...sA,...e};const r=e.stacked,[s,l]=Z.useState(!0),u=Z.useRef(null),{getToastToRender:h,isToastActive:w,count:m}=$C(t),{className:g,style:y,rtl:E,containerId:I}=t;function O(D){const L=Vr("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":E});return En(g)?g({position:D,rtl:E,defaultClassName:L}):Vr(L,Pa(g))}function R(){r&&(l(!0),qe.play())}return rA(()=>{if(r){var D;const L=u.current.querySelectorAll('[data-in="true"]'),_=12,T=(D=t.position)==null?void 0:D.includes("top");let N=0,P=0;Array.from(L).reverse().forEach((Q,K)=>{const F=Q;F.classList.add("Toastify__toast--stacked"),K>0&&(F.dataset.collapsed=`${s}`),F.dataset.pos||(F.dataset.pos=T?"top":"bot");const W=N*(s?.2:1)+(s?0:_*K);F.style.setProperty("--y",`${T?W:-1*W}px`),F.style.setProperty("--g",`${_}`),F.style.setProperty("--s",""+(1-(s?P:0))),N+=F.offsetHeight,P+=.025})}},[s,m,r]),Ce.createElement("div",{ref:u,className:"Toastify",id:I,onMouseEnter:()=>{r&&(l(!1),qe.pause())},onMouseLeave:R},h((D,L)=>{const _=L.length?{...y}:{...y,pointerEvents:"none"};return Ce.createElement("div",{className:O(D),style:_,key:`container-${D}`},L.map(T=>{let{content:N,props:P}=T;return Ce.createElement(iA,{...P,stacked:r,collapseAll:R,isIn:w(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},N)}))}))}const lA=()=>{const e=oi(),{profileImg:t}=e.state||{},r=si();return Z.useEffect(()=>{const s=new ZC("reader",{fps:10,qrbox:{width:300,height:300},disableFlip:!0},!1);return s.render(async l=>{console.log("Decoded Text:",l);try{let h=await fetch("https://www.evently.wiki/checkQR",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({msg:l})});const w=await h.json();h.ok?r("/qr-success",{state:{profileImg:t}}):(console.error("Error response from server:",w.error),qe.error(w.error,{position:"bottom-center",autoClose:1e3}))}catch(u){console.error("Error handling QR code:",u)}},()=>{}),()=>{s.clear().catch(l=>{console.error("Failed to clear scanner:",l)})}},[]),U.jsxs(U.Fragment,{children:[U.jsx(ai,{profileImgUrl:t,admin:!1}),U.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100vh",width:"100%",padding:"10px",backgroundColor:"#f8f8f8",boxSizing:"border-box"},children:[U.jsx("h1",{style:{margin:"10px 0",fontSize:"30px",textAlign:"center",color:"#000"},children:"QR Code Scanner"}),U.jsx("div",{id:"reader",style:{width:"100%",maxWidth:"500px",height:"500px",backgroundColor:"#e0e0e0",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"}}),U.jsx(aA,{})]})]})},cA=()=>{const e=oi(),{profileImg:t}=e.state||{};return U.jsxs(U.Fragment,{children:[U.jsx(ai,{profileImgUrl:t,admin:!1}),U.jsx("div",{children:U.jsx("h1",{className:"font-bold text-black",children:"Success your logged in! "})})]})};function uA(){return U.jsx(U.Fragment,{children:U.jsx(py,{clientId:{}.VITE_GOOGLE_CLIENT_ID,children:U.jsxs(ry,{children:[U.jsx(ln,{path:"/",element:U.jsx(rd,{})}),U.jsx(ln,{path:"/UserLogin",element:U.jsx(rd,{})}),U.jsx(ln,{path:"/RegisterUser",element:U.jsx(Ny,{})}),U.jsx(ln,{path:"/Dashboard",element:U.jsx(vy,{})}),U.jsx(ln,{path:"/UploadImg",element:U.jsx(l3,{})}),U.jsx(ln,{path:"/event/:id",element:U.jsx(Iy,{})}),U.jsx(ln,{path:"/rsvp",element:U.jsx(c3,{})}),U.jsx(ln,{path:"/AdminLogin",element:U.jsx(u3,{})}),U.jsx(ln,{path:"/AdminDashboard",element:U.jsx(f3,{})}),U.jsx(ln,{path:"/admin-event/:id",element:U.jsx(d3,{})}),U.jsx(ln,{path:"/qr-generator/:id",element:U.jsx(fC,{})}),U.jsx(ln,{path:"/qr-reader/:id",element:U.jsx(lA,{})}),U.jsx(ln,{path:"/qr-success",element:U.jsx(cA,{})})]})})})}ep(document.getElementById("root")).render(U.jsx(Z.StrictMode,{children:U.jsx(uy,{children:U.jsx(uA,{})})}));
