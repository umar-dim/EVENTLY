function yd(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();var Ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ed={exports:{}},al={},Cd={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),p2=Symbol.for("react.portal"),m2=Symbol.for("react.fragment"),x2=Symbol.for("react.strict_mode"),w2=Symbol.for("react.profiler"),y2=Symbol.for("react.provider"),E2=Symbol.for("react.context"),C2=Symbol.for("react.forward_ref"),A2=Symbol.for("react.suspense"),S2=Symbol.for("react.memo"),v2=Symbol.for("react.lazy"),E1=Symbol.iterator;function I2(e){return e===null||typeof e!="object"?null:(e=E1&&e[E1]||e["@@iterator"],typeof e=="function"?e:null)}var Ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sd=Object.assign,vd={};function po(e,t,r){this.props=e,this.context=t,this.refs=vd,this.updater=r||Ad}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Id(){}Id.prototype=po.prototype;function Xu(e,t,r){this.props=e,this.context=t,this.refs=vd,this.updater=r||Ad}var Qu=Xu.prototype=new Id;Qu.constructor=Xu;Sd(Qu,po.prototype);Qu.isPureReactComponent=!0;var C1=Array.isArray,Td=Object.prototype.hasOwnProperty,Zu={current:null},Nd={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var s,l={},u=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(u=""+t.key),t)Td.call(t,s)&&!Nd.hasOwnProperty(s)&&(l[s]=t[s]);var w=arguments.length-2;if(w===1)l.children=r;else if(1<w){for(var m=Array(w),p=0;p<w;p++)m[p]=arguments[p+2];l.children=m}if(e&&e.defaultProps)for(s in w=e.defaultProps,w)l[s]===void 0&&(l[s]=w[s]);return{$$typeof:Ts,type:e,key:u,ref:h,props:l,_owner:Zu.current}}function T2(e,t){return{$$typeof:Ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ku(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ts}function N2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var A1=/\/+/g;function ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N2(""+e.key):t.toString(36)}function ca(e,t,r,s,l){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(u){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Ts:case p2:h=!0}}if(h)return h=e,l=l(h),e=s===""?"."+ic(h,0):s,C1(l)?(r="",e!=null&&(r=e.replace(A1,"$&/")+"/"),ca(l,t,r,"",function(p){return p})):l!=null&&(Ku(l)&&(l=T2(l,r+(!l.key||h&&h.key===l.key?"":(""+l.key).replace(A1,"$&/")+"/")+e)),t.push(l)),1;if(h=0,s=s===""?".":s+":",C1(e))for(var w=0;w<e.length;w++){u=e[w];var m=s+ic(u,w);h+=ca(u,t,r,m,l)}else if(m=I2(e),typeof m=="function")for(e=m.call(e),w=0;!(u=e.next()).done;)u=u.value,m=s+ic(u,w++),h+=ca(u,t,r,m,l);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Ys(e,t,r){if(e==null)return e;var s=[],l=0;return ca(e,s,"","",function(u){return t.call(r,u,l++)}),s}function _2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},ua={transition:null},O2={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:Zu};function Od(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ys,forEach:function(e,t,r){Ys(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ys(e,function(){t++}),t},toArray:function(e){return Ys(e,function(t){return t})||[]},only:function(e){if(!Ku(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=po;Te.Fragment=m2;Te.Profiler=w2;Te.PureComponent=Xu;Te.StrictMode=x2;Te.Suspense=A2;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;Te.act=Od;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Sd({},e.props),l=e.key,u=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,h=Zu.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var w=e.type.defaultProps;for(m in t)Td.call(t,m)&&!Nd.hasOwnProperty(m)&&(s[m]=t[m]===void 0&&w!==void 0?w[m]:t[m])}var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){w=Array(m);for(var p=0;p<m;p++)w[p]=arguments[p+2];s.children=w}return{$$typeof:Ts,type:e.type,key:l,ref:u,props:s,_owner:h}};Te.createContext=function(e){return e={$$typeof:E2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:y2,_context:e},e.Consumer=e};Te.createElement=_d;Te.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:C2,render:e}};Te.isValidElement=Ku;Te.lazy=function(e){return{$$typeof:v2,_payload:{_status:-1,_result:e},_init:_2}};Te.memo=function(e,t){return{$$typeof:S2,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};Te.unstable_act=Od;Te.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Te.useContext=function(e){return Xt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Te.useId=function(){return Xt.current.useId()};Te.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};Te.useRef=function(e){return Xt.current.useRef(e)};Te.useState=function(e){return Xt.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Xt.current.useTransition()};Te.version="18.3.1";Cd.exports=Te;var q=Cd.exports;const ft=Yu(q),b2=yd({__proto__:null,default:ft},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=q,M2=Symbol.for("react.element"),D2=Symbol.for("react.fragment"),L2=Object.prototype.hasOwnProperty,k2=R2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P2={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,r){var s,l={},u=null,h=null;r!==void 0&&(u=""+r),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)L2.call(t,s)&&!P2.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:M2,type:e,key:u,ref:h,props:l,_owner:k2.current}}al.Fragment=D2;al.jsx=bd;al.jsxs=bd;Ed.exports=al;var B=Ed.exports,Rd={exports:{}},yn={},Md={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,he){var me=re.length;re.push(he);e:for(;0<me;){var Ge=me-1>>>1,Ne=re[Ge];if(0<l(Ne,he))re[Ge]=he,re[me]=Ne,me=Ge;else break e}}function r(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var he=re[0],me=re.pop();if(me!==he){re[0]=me;e:for(var Ge=0,Ne=re.length,Zt=Ne>>>1;Ge<Zt;){var Ze=2*(Ge+1)-1,ei=re[Ze],ce=Ze+1,yr=re[ce];if(0>l(ei,me))ce<Ne&&0>l(yr,ei)?(re[Ge]=yr,re[ce]=me,Ge=ce):(re[Ge]=ei,re[Ze]=me,Ge=Ze);else if(ce<Ne&&0>l(yr,me))re[Ge]=yr,re[ce]=me,Ge=ce;else break e}}return he}function l(re,he){var me=re.sortIndex-he.sortIndex;return me!==0?me:re.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var h=Date,w=h.now();e.unstable_now=function(){return h.now()-w}}var m=[],p=[],y=1,C=null,I=3,R=!1,M=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(re){for(var he=r(p);he!==null;){if(he.callback===null)s(p);else if(he.startTime<=re)s(p),he.sortIndex=he.expirationTime,t(m,he);else break;he=r(p)}}function F(re){if(D=!1,N(re),!M)if(r(m)!==null)M=!0,be(X);else{var he=r(p);he!==null&&ue(F,he.startTime-re)}}function X(re,he){M=!1,D&&(D=!1,O(Q),Q=-1),R=!0;var me=I;try{for(N(he),C=r(m);C!==null&&(!(C.expirationTime>he)||re&&!we());){var Ge=C.callback;if(typeof Ge=="function"){C.callback=null,I=C.priorityLevel;var Ne=Ge(C.expirationTime<=he);he=e.unstable_now(),typeof Ne=="function"?C.callback=Ne:C===r(m)&&s(m),N(he)}else s(m);C=r(m)}if(C!==null)var Zt=!0;else{var Ze=r(p);Ze!==null&&ue(F,Ze.startTime-he),Zt=!1}return Zt}finally{C=null,I=me,R=!1}}var Z=!1,U=null,Q=-1,Y=5,de=-1;function we(){return!(e.unstable_now()-de<Y)}function ae(){if(U!==null){var re=e.unstable_now();de=re;var he=!0;try{he=U(!0,re)}finally{he?ye():(Z=!1,U=null)}}else Z=!1}var ye;if(typeof T=="function")ye=function(){T(ae)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,H=Ee.port2;Ee.port1.onmessage=ae,ye=function(){H.postMessage(null)}}else ye=function(){k(ae,0)};function be(re){U=re,Z||(Z=!0,ye())}function ue(re,he){Q=k(function(){re(e.unstable_now())},he)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){M||R||(M=!0,be(X))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return r(m)},e.unstable_next=function(re){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var me=I;I=he;try{return re()}finally{I=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=I;I=re;try{return he()}finally{I=me}},e.unstable_scheduleCallback=function(re,he,me){var Ge=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,re){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=me+Ne,re={id:y++,callback:he,priorityLevel:re,startTime:me,expirationTime:Ne,sortIndex:-1},me>Ge?(re.sortIndex=me,t(p,re),r(m)===null&&re===r(p)&&(D?(O(Q),Q=-1):D=!0,ue(F,me-Ge))):(re.sortIndex=Ne,t(m,re),M||R||(M=!0,be(X))),re},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(re){var he=I;return function(){var me=I;I=he;try{return re.apply(this,arguments)}finally{I=me}}}})(Dd);Md.exports=Dd;var B2=Md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2=q,wn=B2;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ld=new Set,os={};function Si(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(os[e]=t,e=0;e<t.length;e++)Ld.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=Object.prototype.hasOwnProperty,U2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S1={},v1={};function j2(e){return Fc.call(v1,e)?!0:Fc.call(S1,e)?!1:U2.test(e)?v1[e]=!0:(S1[e]=!0,!1)}function z2(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H2(e,t,r,s){if(t===null||typeof t>"u"||z2(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,r,s,l,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qu=/[\-:]([a-z])/g;function Ju(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qu,Ju);kt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qu,Ju);kt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qu,Ju);kt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function $u(e,t,r,s){var l=kt.hasOwnProperty(t)?kt[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H2(t,r,l,s)&&(r=null),s||l===null?j2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,s=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var wr=F2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),zi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),Uc=Symbol.for("react.profiler"),kd=Symbol.for("react.provider"),Pd=Symbol.for("react.context"),tf=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),nf=Symbol.for("react.memo"),br=Symbol.for("react.lazy"),Bd=Symbol.for("react.offscreen"),I1=Symbol.iterator;function ko(e){return e===null||typeof e!="object"?null:(e=I1&&e[I1]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,oc;function Wo(e){if(oc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oc=t&&t[1]||""}return`
`+oc+e}var sc=!1;function ac(e,t){if(!e||sc)return"";sc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),u=s.stack.split(`
`),h=l.length-1,w=u.length-1;1<=h&&0<=w&&l[h]!==u[w];)w--;for(;1<=h&&0<=w;h--,w--)if(l[h]!==u[w]){if(h!==1||w!==1)do if(h--,w--,0>w||l[h]!==u[w]){var m=`
`+l[h].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=h&&0<=w);break}}}finally{sc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Wo(e):""}function V2(e){switch(e.tag){case 5:return Wo(e.type);case 16:return Wo("Lazy");case 13:return Wo("Suspense");case 19:return Wo("SuspenseList");case 0:case 2:case 15:return e=ac(e.type,!1),e;case 11:return e=ac(e.type.render,!1),e;case 1:return e=ac(e.type,!0),e;default:return""}}function Hc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case zi:return"Portal";case Uc:return"Profiler";case ef:return"StrictMode";case jc:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pd:return(e.displayName||"Context")+".Consumer";case kd:return(e._context.displayName||"Context")+".Provider";case tf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nf:return t=e.displayName||null,t!==null?t:Hc(e.type)||"Memo";case br:t=e._payload,e=e._init;try{return Hc(e(t))}catch{}}return null}function W2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hc(t);case 8:return t===ef?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function G2(e){var t=Fd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,u=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qs(e){e._valueTracker||(e._valueTracker=G2(e))}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Fd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function va(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vc(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function T1(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Qr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jd(e,t){t=t.checked,t!=null&&$u(e,"checked",t,!1)}function Wc(e,t){jd(e,t);var r=Qr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Gc(e,t.type,Qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N1(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Gc(e,t,r){(t!=="number"||va(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Go=Array.isArray;function to(e,t,r,s){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Qr(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Yc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _1(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($(92));if(Go(r)){if(1<r.length)throw Error($(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qr(r)}}function zd(e,t){var r=Qr(t.value),s=Qr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function O1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zs,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y2=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(e){Y2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ko[t]=Ko[e]})});function Wd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ko.hasOwnProperty(e)&&Ko[e]?(""+t).trim():t+"px"}function Gd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,l=Wd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,l):e[r]=l}}var X2=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qc(e,t){if(t){if(X2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function Zc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function rf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qc=null,no=null,ro=null;function b1(e){if(e=Os(e)){if(typeof qc!="function")throw Error($(280));var t=e.stateNode;t&&(t=dl(t),qc(e.stateNode,e.type,t))}}function Yd(e){no?ro?ro.push(e):ro=[e]:no=e}function Xd(){if(no){var e=no,t=ro;if(ro=no=null,b1(e),t)for(e=0;e<t.length;e++)b1(t[e])}}function Qd(e,t){return e(t)}function Zd(){}var lc=!1;function Kd(e,t,r){if(lc)return e(t,r);lc=!0;try{return Qd(e,t,r)}finally{lc=!1,(no!==null||ro!==null)&&(Zd(),Xd())}}function as(e,t){var r=e.stateNode;if(r===null)return null;var s=dl(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($(231,t,typeof r));return r}var Jc=!1;if(gr)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Jc=!1}function Q2(e,t,r,s,l,u,h,w,m){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(y){this.onError(y)}}var qo=!1,Ia=null,Ta=!1,$c=null,Z2={onError:function(e){qo=!0,Ia=e}};function K2(e,t,r,s,l,u,h,w,m){qo=!1,Ia=null,Q2.apply(Z2,arguments)}function q2(e,t,r,s,l,u,h,w,m){if(K2.apply(this,arguments),qo){if(qo){var p=Ia;qo=!1,Ia=null}else throw Error($(198));Ta||(Ta=!0,$c=p)}}function vi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R1(e){if(vi(e)!==e)throw Error($(188))}function J2(e){var t=e.alternate;if(!t){if(t=vi(e),t===null)throw Error($(188));return t!==e?null:e}for(var r=e,s=t;;){var l=r.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){r=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===r)return R1(l),e;if(u===s)return R1(l),t;u=u.sibling}throw Error($(188))}if(r.return!==s.return)r=l,s=u;else{for(var h=!1,w=l.child;w;){if(w===r){h=!0,r=l,s=u;break}if(w===s){h=!0,s=l,r=u;break}w=w.sibling}if(!h){for(w=u.child;w;){if(w===r){h=!0,r=u,s=l;break}if(w===s){h=!0,s=u,r=l;break}w=w.sibling}if(!h)throw Error($(189))}}if(r.alternate!==s)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?e:t}function Jd(e){return e=J2(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var eh=wn.unstable_scheduleCallback,M1=wn.unstable_cancelCallback,$2=wn.unstable_shouldYield,em=wn.unstable_requestPaint,gt=wn.unstable_now,tm=wn.unstable_getCurrentPriorityLevel,of=wn.unstable_ImmediatePriority,th=wn.unstable_UserBlockingPriority,Na=wn.unstable_NormalPriority,nm=wn.unstable_LowPriority,nh=wn.unstable_IdlePriority,ll=null,ir=null;function rm(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(ll,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:sm,im=Math.log,om=Math.LN2;function sm(e){return e>>>=0,e===0?32:31-(im(e)/om|0)|0}var Ks=64,qs=4194304;function Yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _a(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,l=e.suspendedLanes,u=e.pingedLanes,h=r&268435455;if(h!==0){var w=h&~l;w!==0?s=Yo(w):(u&=h,u!==0&&(s=Yo(u)))}else h=r&~l,h!==0?s=Yo(h):u!==0&&(s=Yo(u));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Un(t),l=1<<r,s|=e[r],t&=~l;return s}function am(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lm(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-Un(u),w=1<<h,m=l[h];m===-1?(!(w&r)||w&s)&&(l[h]=am(w,t)):m<=t&&(e.expiredLanes|=w),u&=~w}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),e}function cc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=r}function cm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-Un(r),u=1<<l;t[l]=0,s[l]=-1,e[l]=-1,r&=~u}}function sf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Un(r),l=1<<s;l&t|e[s]&t&&(e[s]|=t),r&=~l}}var je=0;function ih(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var oh,af,sh,ah,lh,tu=!1,Js=[],Ur=null,jr=null,zr=null,ls=new Map,cs=new Map,Lr=[],um="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D1(e,t){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function Bo(e,t,r,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Os(t),t!==null&&af(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fm(e,t,r,s,l){switch(t){case"focusin":return Ur=Bo(Ur,e,t,r,s,l),!0;case"dragenter":return jr=Bo(jr,e,t,r,s,l),!0;case"mouseover":return zr=Bo(zr,e,t,r,s,l),!0;case"pointerover":var u=l.pointerId;return ls.set(u,Bo(ls.get(u)||null,e,t,r,s,l)),!0;case"gotpointercapture":return u=l.pointerId,cs.set(u,Bo(cs.get(u)||null,e,t,r,s,l)),!0}return!1}function ch(e){var t=ci(e.target);if(t!==null){var r=vi(t);if(r!==null){if(t=r.tag,t===13){if(t=qd(r),t!==null){e.blockedOn=t,lh(e.priority,function(){sh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Kc=s,r.target.dispatchEvent(s),Kc=null}else return t=Os(r),t!==null&&af(t),e.blockedOn=r,!1;t.shift()}return!0}function L1(e,t,r){fa(e)&&r.delete(t)}function dm(){tu=!1,Ur!==null&&fa(Ur)&&(Ur=null),jr!==null&&fa(jr)&&(jr=null),zr!==null&&fa(zr)&&(zr=null),ls.forEach(L1),cs.forEach(L1)}function Fo(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,dm)))}function us(e){function t(l){return Fo(l,e)}if(0<Js.length){Fo(Js[0],e);for(var r=1;r<Js.length;r++){var s=Js[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ur!==null&&Fo(Ur,e),jr!==null&&Fo(jr,e),zr!==null&&Fo(zr,e),ls.forEach(t),cs.forEach(t),r=0;r<Lr.length;r++)s=Lr[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Lr.length&&(r=Lr[0],r.blockedOn===null);)ch(r),r.blockedOn===null&&Lr.shift()}var io=wr.ReactCurrentBatchConfig,Oa=!0;function hm(e,t,r,s){var l=je,u=io.transition;io.transition=null;try{je=1,lf(e,t,r,s)}finally{je=l,io.transition=u}}function gm(e,t,r,s){var l=je,u=io.transition;io.transition=null;try{je=4,lf(e,t,r,s)}finally{je=l,io.transition=u}}function lf(e,t,r,s){if(Oa){var l=nu(e,t,r,s);if(l===null)yc(e,t,s,ba,r),D1(e,s);else if(fm(l,e,t,r,s))s.stopPropagation();else if(D1(e,s),t&4&&-1<um.indexOf(e)){for(;l!==null;){var u=Os(l);if(u!==null&&oh(u),u=nu(e,t,r,s),u===null&&yc(e,t,s,ba,r),u===l)break;l=u}l!==null&&s.stopPropagation()}else yc(e,t,s,null,r)}}var ba=null;function nu(e,t,r,s){if(ba=null,e=rf(s),e=ci(e),e!==null)if(t=vi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ba=e,null}function uh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tm()){case of:return 1;case th:return 4;case Na:case nm:return 16;case nh:return 536870912;default:return 16}default:return 16}}var Pr=null,cf=null,da=null;function fh(){if(da)return da;var e,t=cf,r=t.length,s,l="value"in Pr?Pr.value:Pr.textContent,u=l.length;for(e=0;e<r&&t[e]===l[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===l[u-s];s++);return da=l.slice(e,1<s?1-s:void 0)}function ha(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function k1(){return!1}function En(e){function t(r,s,l,u,h){this._reactName=r,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?$s:k1,this.isPropagationStopped=k1,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=En(mo),_s=ot({},mo,{view:0,detail:0}),pm=En(_s),uc,fc,Uo,cl=ot({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ff,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(uc=e.screenX-Uo.screenX,fc=e.screenY-Uo.screenY):fc=uc=0,Uo=e),uc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),P1=En(cl),mm=ot({},cl,{dataTransfer:0}),xm=En(mm),wm=ot({},_s,{relatedTarget:0}),dc=En(wm),ym=ot({},mo,{animationName:0,elapsedTime:0,pseudoElement:0}),Em=En(ym),Cm=ot({},mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Am=En(Cm),Sm=ot({},mo,{data:0}),B1=En(Sm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tm[e])?!!t[e]:!1}function ff(){return Nm}var _m=ot({},_s,{key:function(e){if(e.key){var t=vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ha(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ff,charCode:function(e){return e.type==="keypress"?ha(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ha(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Om=En(_m),bm=ot({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F1=En(bm),Rm=ot({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ff}),Mm=En(Rm),Dm=ot({},mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lm=En(Dm),km=ot({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pm=En(km),Bm=[9,13,27,32],df=gr&&"CompositionEvent"in window,Jo=null;gr&&"documentMode"in document&&(Jo=document.documentMode);var Fm=gr&&"TextEvent"in window&&!Jo,dh=gr&&(!df||Jo&&8<Jo&&11>=Jo),U1=String.fromCharCode(32),j1=!1;function hh(e,t){switch(e){case"keyup":return Bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vi=!1;function Um(e,t){switch(e){case"compositionend":return gh(t);case"keypress":return t.which!==32?null:(j1=!0,U1);case"textInput":return e=t.data,e===U1&&j1?null:e;default:return null}}function jm(e,t){if(Vi)return e==="compositionend"||!df&&hh(e,t)?(e=fh(),da=cf=Pr=null,Vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zm[e.type]:t==="textarea"}function ph(e,t,r,s){Yd(s),t=Ra(t,"onChange"),0<t.length&&(r=new uf("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var $o=null,fs=null;function Hm(e){Th(e,0)}function ul(e){var t=Yi(e);if(Ud(t))return e}function Vm(e,t){if(e==="change")return t}var mh=!1;if(gr){var hc;if(gr){var gc="oninput"in document;if(!gc){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),gc=typeof H1.oninput=="function"}hc=gc}else hc=!1;mh=hc&&(!document.documentMode||9<document.documentMode)}function V1(){$o&&($o.detachEvent("onpropertychange",xh),fs=$o=null)}function xh(e){if(e.propertyName==="value"&&ul(fs)){var t=[];ph(t,fs,e,rf(e)),Kd(Hm,t)}}function Wm(e,t,r){e==="focusin"?(V1(),$o=t,fs=r,$o.attachEvent("onpropertychange",xh)):e==="focusout"&&V1()}function Gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ul(fs)}function Ym(e,t){if(e==="click")return ul(t)}function Xm(e,t){if(e==="input"||e==="change")return ul(t)}function Qm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hn=typeof Object.is=="function"?Object.is:Qm;function ds(e,t){if(Hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var l=r[s];if(!Fc.call(t,l)||!Hn(e[l],t[l]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G1(e,t){var r=W1(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=W1(r)}}function wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yh(){for(var e=window,t=va();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=va(e.document)}return t}function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=yh(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&wh(r.ownerDocument.documentElement,r)){if(s!==null&&hf(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,u=Math.min(s.start,l);s=s.end===void 0?u:Math.min(s.end,l),!e.extend&&u>s&&(l=s,s=u,u=l),l=G1(r,u);var h=G1(r,s);l&&h&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=gr&&"documentMode"in document&&11>=document.documentMode,Wi=null,ru=null,es=null,iu=!1;function Y1(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;iu||Wi==null||Wi!==va(s)||(s=Wi,"selectionStart"in s&&hf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),es&&ds(es,s)||(es=s,s=Ra(ru,"onSelect"),0<s.length&&(t=new uf("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Wi)))}function ea(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gi={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},pc={},Eh={};gr&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function fl(e){if(pc[e])return pc[e];if(!Gi[e])return e;var t=Gi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Eh)return pc[e]=t[r];return e}var Ch=fl("animationend"),Ah=fl("animationiteration"),Sh=fl("animationstart"),vh=fl("transitionend"),Ih=new Map,X1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){Ih.set(e,t),Si(t,[e])}for(var mc=0;mc<X1.length;mc++){var xc=X1[mc],qm=xc.toLowerCase(),Jm=xc[0].toUpperCase()+xc.slice(1);qr(qm,"on"+Jm)}qr(Ch,"onAnimationEnd");qr(Ah,"onAnimationIteration");qr(Sh,"onAnimationStart");qr("dblclick","onDoubleClick");qr("focusin","onFocus");qr("focusout","onBlur");qr(vh,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Si("onBeforeInput",["compositionend","keypress","textInput","paste"]);Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function Q1(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,q2(s,t,void 0,e),e.currentTarget=null}function Th(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var w=s[h],m=w.instance,p=w.currentTarget;if(w=w.listener,m!==u&&l.isPropagationStopped())break e;Q1(l,w,p),u=m}else for(h=0;h<s.length;h++){if(w=s[h],m=w.instance,p=w.currentTarget,w=w.listener,m!==u&&l.isPropagationStopped())break e;Q1(l,w,p),u=m}}}if(Ta)throw e=$c,Ta=!1,$c=null,e}function qe(e,t){var r=t[cu];r===void 0&&(r=t[cu]=new Set);var s=e+"__bubble";r.has(s)||(Nh(t,e,2,!1),r.add(s))}function wc(e,t,r){var s=0;t&&(s|=4),Nh(r,e,s,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[ta]){e[ta]=!0,Ld.forEach(function(r){r!=="selectionchange"&&($m.has(r)||wc(r,!1,e),wc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,wc("selectionchange",!1,t))}}function Nh(e,t,r,s){switch(uh(t)){case 1:var l=hm;break;case 4:l=gm;break;default:l=lf}r=l.bind(null,t,r,e),l=void 0,!Jc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function yc(e,t,r,s,l){var u=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var w=s.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(h===4)for(h=s.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===l||m.nodeType===8&&m.parentNode===l))return;h=h.return}for(;w!==null;){if(h=ci(w),h===null)return;if(m=h.tag,m===5||m===6){s=u=h;continue e}w=w.parentNode}}s=s.return}Kd(function(){var p=u,y=rf(r),C=[];e:{var I=Ih.get(e);if(I!==void 0){var R=uf,M=e;switch(e){case"keypress":if(ha(r)===0)break e;case"keydown":case"keyup":R=Om;break;case"focusin":M="focus",R=dc;break;case"focusout":M="blur",R=dc;break;case"beforeblur":case"afterblur":R=dc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Mm;break;case Ch:case Ah:case Sh:R=Em;break;case vh:R=Lm;break;case"scroll":R=pm;break;case"wheel":R=Pm;break;case"copy":case"cut":case"paste":R=Am;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=F1}var D=(t&4)!==0,k=!D&&e==="scroll",O=D?I!==null?I+"Capture":null:I;D=[];for(var T=p,N;T!==null;){N=T;var F=N.stateNode;if(N.tag===5&&F!==null&&(N=F,O!==null&&(F=as(T,O),F!=null&&D.push(gs(T,F,N)))),k)break;T=T.return}0<D.length&&(I=new R(I,M,null,r,y),C.push({event:I,listeners:D}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",I&&r!==Kc&&(M=r.relatedTarget||r.fromElement)&&(ci(M)||M[pr]))break e;if((R||I)&&(I=y.window===y?y:(I=y.ownerDocument)?I.defaultView||I.parentWindow:window,R?(M=r.relatedTarget||r.toElement,R=p,M=M?ci(M):null,M!==null&&(k=vi(M),M!==k||M.tag!==5&&M.tag!==6)&&(M=null)):(R=null,M=p),R!==M)){if(D=P1,F="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(D=F1,F="onPointerLeave",O="onPointerEnter",T="pointer"),k=R==null?I:Yi(R),N=M==null?I:Yi(M),I=new D(F,T+"leave",R,r,y),I.target=k,I.relatedTarget=N,F=null,ci(y)===p&&(D=new D(O,T+"enter",M,r,y),D.target=N,D.relatedTarget=k,F=D),k=F,R&&M)t:{for(D=R,O=M,T=0,N=D;N;N=ji(N))T++;for(N=0,F=O;F;F=ji(F))N++;for(;0<T-N;)D=ji(D),T--;for(;0<N-T;)O=ji(O),N--;for(;T--;){if(D===O||O!==null&&D===O.alternate)break t;D=ji(D),O=ji(O)}D=null}else D=null;R!==null&&Z1(C,I,R,D,!1),M!==null&&k!==null&&Z1(C,k,M,D,!0)}}e:{if(I=p?Yi(p):window,R=I.nodeName&&I.nodeName.toLowerCase(),R==="select"||R==="input"&&I.type==="file")var X=Vm;else if(z1(I))if(mh)X=Xm;else{X=Gm;var Z=Wm}else(R=I.nodeName)&&R.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(X=Ym);if(X&&(X=X(e,p))){ph(C,X,r,y);break e}Z&&Z(e,I,p),e==="focusout"&&(Z=I._wrapperState)&&Z.controlled&&I.type==="number"&&Gc(I,"number",I.value)}switch(Z=p?Yi(p):window,e){case"focusin":(z1(Z)||Z.contentEditable==="true")&&(Wi=Z,ru=p,es=null);break;case"focusout":es=ru=Wi=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,Y1(C,r,y);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":Y1(C,r,y)}var U;if(df)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else Vi?hh(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(dh&&r.locale!=="ko"&&(Vi||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Vi&&(U=fh()):(Pr=y,cf="value"in Pr?Pr.value:Pr.textContent,Vi=!0)),Z=Ra(p,Q),0<Z.length&&(Q=new B1(Q,e,null,r,y),C.push({event:Q,listeners:Z}),U?Q.data=U:(U=gh(r),U!==null&&(Q.data=U)))),(U=Fm?Um(e,r):jm(e,r))&&(p=Ra(p,"onBeforeInput"),0<p.length&&(y=new B1("onBeforeInput","beforeinput",null,r,y),C.push({event:y,listeners:p}),y.data=U))}Th(C,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ra(e,t){for(var r=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=as(e,r),u!=null&&s.unshift(gs(e,u,l)),u=as(e,t),u!=null&&s.push(gs(e,u,l))),e=e.return}return s}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z1(e,t,r,s,l){for(var u=t._reactName,h=[];r!==null&&r!==s;){var w=r,m=w.alternate,p=w.stateNode;if(m!==null&&m===s)break;w.tag===5&&p!==null&&(w=p,l?(m=as(r,u),m!=null&&h.unshift(gs(r,m,w))):l||(m=as(r,u),m!=null&&h.push(gs(r,m,w)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function K1(e){return(typeof e=="string"?e:""+e).replace(ex,`
`).replace(tx,"")}function na(e,t,r){if(t=K1(t),K1(e)!==t&&r)throw Error($(425))}function Ma(){}var ou=null,su=null;function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,nx=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,rx=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(e){return q1.resolve(null).then(e).catch(ix)}:lu;function ix(e){setTimeout(function(){throw e})}function Ec(e,t){var r=t,s=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(s===0){e.removeChild(l),us(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=l}while(r);us(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xo=Math.random().toString(36).slice(2),nr="__reactFiber$"+xo,ps="__reactProps$"+xo,pr="__reactContainer$"+xo,cu="__reactEvents$"+xo,ox="__reactListeners$"+xo,sx="__reactHandles$"+xo;function ci(e){var t=e[nr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[nr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=J1(e);e!==null;){if(r=e[nr])return r;e=J1(e)}return t}e=r,r=e.parentNode}return null}function Os(e){return e=e[nr]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function dl(e){return e[ps]||null}var uu=[],Xi=-1;function Jr(e){return{current:e}}function $e(e){0>Xi||(e.current=uu[Xi],uu[Xi]=null,Xi--)}function Qe(e,t){Xi++,uu[Xi]=e.current,e.current=t}var Zr={},Ht=Jr(Zr),on=Jr(!1),mi=Zr;function lo(e,t){var r=e.type.contextTypes;if(!r)return Zr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in r)l[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function sn(e){return e=e.childContextTypes,e!=null}function Da(){$e(on),$e(Ht)}function $1(e,t,r){if(Ht.current!==Zr)throw Error($(168));Qe(Ht,t),Qe(on,r)}function _h(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error($(108,W2(e)||"Unknown",l));return ot({},r,s)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,mi=Ht.current,Qe(Ht,e),Qe(on,on.current),!0}function e0(e,t,r){var s=e.stateNode;if(!s)throw Error($(169));r?(e=_h(e,t,mi),s.__reactInternalMemoizedMergedChildContext=e,$e(on),$e(Ht),Qe(Ht,e)):$e(on),Qe(on,r)}var cr=null,hl=!1,Cc=!1;function Oh(e){cr===null?cr=[e]:cr.push(e)}function ax(e){hl=!0,Oh(e)}function $r(){if(!Cc&&cr!==null){Cc=!0;var e=0,t=je;try{var r=cr;for(je=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}cr=null,hl=!1}catch(l){throw cr!==null&&(cr=cr.slice(e+1)),eh(of,$r),l}finally{je=t,Cc=!1}}return null}var Qi=[],Zi=0,ka=null,Pa=0,In=[],Tn=0,xi=null,ur=1,fr="";function ai(e,t){Qi[Zi++]=Pa,Qi[Zi++]=ka,ka=e,Pa=t}function bh(e,t,r){In[Tn++]=ur,In[Tn++]=fr,In[Tn++]=xi,xi=e;var s=ur;e=fr;var l=32-Un(s)-1;s&=~(1<<l),r+=1;var u=32-Un(t)+l;if(30<u){var h=l-l%5;u=(s&(1<<h)-1).toString(32),s>>=h,l-=h,ur=1<<32-Un(t)+l|r<<l|s,fr=u+e}else ur=1<<u|r<<l|s,fr=e}function gf(e){e.return!==null&&(ai(e,1),bh(e,1,0))}function pf(e){for(;e===ka;)ka=Qi[--Zi],Qi[Zi]=null,Pa=Qi[--Zi],Qi[Zi]=null;for(;e===xi;)xi=In[--Tn],In[Tn]=null,fr=In[--Tn],In[Tn]=null,ur=In[--Tn],In[Tn]=null}var mn=null,pn=null,tt=!1,Fn=null;function Rh(e,t){var r=Nn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function t0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,pn=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:ur,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mn=e,pn=null,!0):!1;default:return!1}}function fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(tt){var t=pn;if(t){var r=t;if(!t0(e,t)){if(fu(e))throw Error($(418));t=Hr(r.nextSibling);var s=mn;t&&t0(e,t)?Rh(s,r):(e.flags=e.flags&-4097|2,tt=!1,mn=e)}}else{if(fu(e))throw Error($(418));e.flags=e.flags&-4097|2,tt=!1,mn=e}}}function n0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function ra(e){if(e!==mn)return!1;if(!tt)return n0(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!au(e.type,e.memoizedProps)),t&&(t=pn)){if(fu(e))throw Mh(),Error($(418));for(;t;)Rh(e,t),t=Hr(t.nextSibling)}if(n0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){pn=Hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=mn?Hr(e.stateNode.nextSibling):null;return!0}function Mh(){for(var e=pn;e;)e=Hr(e.nextSibling)}function co(){pn=mn=null,tt=!1}function mf(e){Fn===null?Fn=[e]:Fn.push(e)}var lx=wr.ReactCurrentBatchConfig;function jo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var s=r.stateNode}if(!s)throw Error($(147,e));var l=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var w=l.refs;h===null?delete w[u]:w[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error($(284));if(!r._owner)throw Error($(290,e))}return e}function ia(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function r0(e){var t=e._init;return t(e._payload)}function Dh(e){function t(O,T){if(e){var N=O.deletions;N===null?(O.deletions=[T],O.flags|=16):N.push(T)}}function r(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function s(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function l(O,T){return O=Yr(O,T),O.index=0,O.sibling=null,O}function u(O,T,N){return O.index=N,e?(N=O.alternate,N!==null?(N=N.index,N<T?(O.flags|=2,T):N):(O.flags|=2,T)):(O.flags|=1048576,T)}function h(O){return e&&O.alternate===null&&(O.flags|=2),O}function w(O,T,N,F){return T===null||T.tag!==6?(T=_c(N,O.mode,F),T.return=O,T):(T=l(T,N),T.return=O,T)}function m(O,T,N,F){var X=N.type;return X===Hi?y(O,T,N.props.children,F,N.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===br&&r0(X)===T.type)?(F=l(T,N.props),F.ref=jo(O,T,N),F.return=O,F):(F=Ea(N.type,N.key,N.props,null,O.mode,F),F.ref=jo(O,T,N),F.return=O,F)}function p(O,T,N,F){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Oc(N,O.mode,F),T.return=O,T):(T=l(T,N.children||[]),T.return=O,T)}function y(O,T,N,F,X){return T===null||T.tag!==7?(T=gi(N,O.mode,F,X),T.return=O,T):(T=l(T,N),T.return=O,T)}function C(O,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=_c(""+T,O.mode,N),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xs:return N=Ea(T.type,T.key,T.props,null,O.mode,N),N.ref=jo(O,null,T),N.return=O,N;case zi:return T=Oc(T,O.mode,N),T.return=O,T;case br:var F=T._init;return C(O,F(T._payload),N)}if(Go(T)||ko(T))return T=gi(T,O.mode,N,null),T.return=O,T;ia(O,T)}return null}function I(O,T,N,F){var X=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return X!==null?null:w(O,T,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Xs:return N.key===X?m(O,T,N,F):null;case zi:return N.key===X?p(O,T,N,F):null;case br:return X=N._init,I(O,T,X(N._payload),F)}if(Go(N)||ko(N))return X!==null?null:y(O,T,N,F,null);ia(O,N)}return null}function R(O,T,N,F,X){if(typeof F=="string"&&F!==""||typeof F=="number")return O=O.get(N)||null,w(T,O,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Xs:return O=O.get(F.key===null?N:F.key)||null,m(T,O,F,X);case zi:return O=O.get(F.key===null?N:F.key)||null,p(T,O,F,X);case br:var Z=F._init;return R(O,T,N,Z(F._payload),X)}if(Go(F)||ko(F))return O=O.get(N)||null,y(T,O,F,X,null);ia(T,F)}return null}function M(O,T,N,F){for(var X=null,Z=null,U=T,Q=T=0,Y=null;U!==null&&Q<N.length;Q++){U.index>Q?(Y=U,U=null):Y=U.sibling;var de=I(O,U,N[Q],F);if(de===null){U===null&&(U=Y);break}e&&U&&de.alternate===null&&t(O,U),T=u(de,T,Q),Z===null?X=de:Z.sibling=de,Z=de,U=Y}if(Q===N.length)return r(O,U),tt&&ai(O,Q),X;if(U===null){for(;Q<N.length;Q++)U=C(O,N[Q],F),U!==null&&(T=u(U,T,Q),Z===null?X=U:Z.sibling=U,Z=U);return tt&&ai(O,Q),X}for(U=s(O,U);Q<N.length;Q++)Y=R(U,O,Q,N[Q],F),Y!==null&&(e&&Y.alternate!==null&&U.delete(Y.key===null?Q:Y.key),T=u(Y,T,Q),Z===null?X=Y:Z.sibling=Y,Z=Y);return e&&U.forEach(function(we){return t(O,we)}),tt&&ai(O,Q),X}function D(O,T,N,F){var X=ko(N);if(typeof X!="function")throw Error($(150));if(N=X.call(N),N==null)throw Error($(151));for(var Z=X=null,U=T,Q=T=0,Y=null,de=N.next();U!==null&&!de.done;Q++,de=N.next()){U.index>Q?(Y=U,U=null):Y=U.sibling;var we=I(O,U,de.value,F);if(we===null){U===null&&(U=Y);break}e&&U&&we.alternate===null&&t(O,U),T=u(we,T,Q),Z===null?X=we:Z.sibling=we,Z=we,U=Y}if(de.done)return r(O,U),tt&&ai(O,Q),X;if(U===null){for(;!de.done;Q++,de=N.next())de=C(O,de.value,F),de!==null&&(T=u(de,T,Q),Z===null?X=de:Z.sibling=de,Z=de);return tt&&ai(O,Q),X}for(U=s(O,U);!de.done;Q++,de=N.next())de=R(U,O,Q,de.value,F),de!==null&&(e&&de.alternate!==null&&U.delete(de.key===null?Q:de.key),T=u(de,T,Q),Z===null?X=de:Z.sibling=de,Z=de);return e&&U.forEach(function(ae){return t(O,ae)}),tt&&ai(O,Q),X}function k(O,T,N,F){if(typeof N=="object"&&N!==null&&N.type===Hi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Xs:e:{for(var X=N.key,Z=T;Z!==null;){if(Z.key===X){if(X=N.type,X===Hi){if(Z.tag===7){r(O,Z.sibling),T=l(Z,N.props.children),T.return=O,O=T;break e}}else if(Z.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===br&&r0(X)===Z.type){r(O,Z.sibling),T=l(Z,N.props),T.ref=jo(O,Z,N),T.return=O,O=T;break e}r(O,Z);break}else t(O,Z);Z=Z.sibling}N.type===Hi?(T=gi(N.props.children,O.mode,F,N.key),T.return=O,O=T):(F=Ea(N.type,N.key,N.props,null,O.mode,F),F.ref=jo(O,T,N),F.return=O,O=F)}return h(O);case zi:e:{for(Z=N.key;T!==null;){if(T.key===Z)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){r(O,T.sibling),T=l(T,N.children||[]),T.return=O,O=T;break e}else{r(O,T);break}else t(O,T);T=T.sibling}T=Oc(N,O.mode,F),T.return=O,O=T}return h(O);case br:return Z=N._init,k(O,T,Z(N._payload),F)}if(Go(N))return M(O,T,N,F);if(ko(N))return D(O,T,N,F);ia(O,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(r(O,T.sibling),T=l(T,N),T.return=O,O=T):(r(O,T),T=_c(N,O.mode,F),T.return=O,O=T),h(O)):r(O,T)}return k}var uo=Dh(!0),Lh=Dh(!1),Ba=Jr(null),Fa=null,Ki=null,xf=null;function wf(){xf=Ki=Fa=null}function yf(e){var t=Ba.current;$e(Ba),e._currentValue=t}function hu(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function oo(e,t){Fa=e,xf=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(xf!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(Fa===null)throw Error($(308));Ki=e,Fa.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var ui=null;function Ef(e){ui===null?ui=[e]:ui.push(e)}function kh(e,t,r,s){var l=t.interleaved;return l===null?(r.next=r,Ef(t)):(r.next=l.next,l.next=r),t.interleaved=r,mr(e,s)}function mr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rr=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,De&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,mr(e,r)}return l=s.interleaved,l===null?(t.next=t,Ef(s)):(t.next=l.next,l.next=t),s.interleaved=t,mr(e,r)}function ga(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,sf(e,r)}}function i0(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var l=null,u=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};u===null?l=u=h:u=u.next=h,r=r.next}while(r!==null);u===null?l=u=t:u=u.next=t}else l=u=t;r={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ua(e,t,r,s){var l=e.updateQueue;Rr=!1;var u=l.firstBaseUpdate,h=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var m=w,p=m.next;m.next=null,h===null?u=p:h.next=p,h=m;var y=e.alternate;y!==null&&(y=y.updateQueue,w=y.lastBaseUpdate,w!==h&&(w===null?y.firstBaseUpdate=p:w.next=p,y.lastBaseUpdate=m))}if(u!==null){var C=l.baseState;h=0,y=p=m=null,w=u;do{var I=w.lane,R=w.eventTime;if((s&I)===I){y!==null&&(y=y.next={eventTime:R,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var M=e,D=w;switch(I=t,R=r,D.tag){case 1:if(M=D.payload,typeof M=="function"){C=M.call(R,C,I);break e}C=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=D.payload,I=typeof M=="function"?M.call(R,C,I):M,I==null)break e;C=ot({},C,I);break e;case 2:Rr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[w]:I.push(w))}else R={eventTime:R,lane:I,tag:w.tag,payload:w.payload,callback:w.callback,next:null},y===null?(p=y=R,m=C):y=y.next=R,h|=I;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;I=w,w=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(1);if(y===null&&(m=C),l.baseState=m,l.firstBaseUpdate=p,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do h|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);yi|=h,e.lanes=h,e.memoizedState=C}}function o0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=r,typeof l!="function")throw Error($(191,l));l.call(s)}}}var bs={},or=Jr(bs),ms=Jr(bs),xs=Jr(bs);function fi(e){if(e===bs)throw Error($(174));return e}function Af(e,t){switch(Qe(xs,t),Qe(ms,e),Qe(or,bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xc(t,e)}$e(or),Qe(or,t)}function fo(){$e(or),$e(ms),$e(xs)}function Bh(e){fi(xs.current);var t=fi(or.current),r=Xc(t,e.type);t!==r&&(Qe(ms,e),Qe(or,r))}function Sf(e){ms.current===e&&($e(or),$e(ms))}var rt=Jr(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ac=[];function vf(){for(var e=0;e<Ac.length;e++)Ac[e]._workInProgressVersionPrimary=null;Ac.length=0}var pa=wr.ReactCurrentDispatcher,Sc=wr.ReactCurrentBatchConfig,wi=0,it=null,At=null,Nt=null,za=!1,ts=!1,ws=0,cx=0;function Ft(){throw Error($(321))}function If(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hn(e[r],t[r]))return!1;return!0}function Tf(e,t,r,s,l,u){if(wi=u,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=e===null||e.memoizedState===null?hx:gx,e=r(s,l),ts){u=0;do{if(ts=!1,ws=0,25<=u)throw Error($(301));u+=1,Nt=At=null,t.updateQueue=null,pa.current=px,e=r(s,l)}while(ts)}if(pa.current=Ha,t=At!==null&&At.next!==null,wi=0,Nt=At=it=null,za=!1,t)throw Error($(300));return e}function Nf(){var e=ws!==0;return ws=0,e}function er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?it.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function bn(){if(At===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var t=Nt===null?it.memoizedState:Nt.next;if(t!==null)Nt=t,At=e;else{if(e===null)throw Error($(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Nt===null?it.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function ys(e,t){return typeof t=="function"?t(e):t}function vc(e){var t=bn(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=At,l=s.baseQueue,u=r.pending;if(u!==null){if(l!==null){var h=l.next;l.next=u.next,u.next=h}s.baseQueue=l=u,r.pending=null}if(l!==null){u=l.next,s=s.baseState;var w=h=null,m=null,p=u;do{var y=p.lane;if((wi&y)===y)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var C={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(w=m=C,h=s):m=m.next=C,it.lanes|=y,yi|=y}p=p.next}while(p!==null&&p!==u);m===null?h=s:m.next=w,Hn(s,t.memoizedState)||(rn=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=m,r.lastRenderedState=s}if(e=r.interleaved,e!==null){l=e;do u=l.lane,it.lanes|=u,yi|=u,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ic(e){var t=bn(),r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=e;var s=r.dispatch,l=r.pending,u=t.memoizedState;if(l!==null){r.pending=null;var h=l=l.next;do u=e(u,h.action),h=h.next;while(h!==l);Hn(u,t.memoizedState)||(rn=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),r.lastRenderedState=u}return[u,s]}function Fh(){}function Uh(e,t){var r=it,s=bn(),l=t(),u=!Hn(s.memoizedState,l);if(u&&(s.memoizedState=l,rn=!0),s=s.queue,_f(Hh.bind(null,r,s,e),[e]),s.getSnapshot!==t||u||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Es(9,zh.bind(null,r,s,l,t),void 0,null),_t===null)throw Error($(349));wi&30||jh(r,t,l)}return l}function jh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function zh(e,t,r,s){t.value=r,t.getSnapshot=s,Vh(t)&&Wh(e)}function Hh(e,t,r){return r(function(){Vh(t)&&Wh(e)})}function Vh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hn(e,r)}catch{return!0}}function Wh(e){var t=mr(e,1);t!==null&&jn(t,e,1,-1)}function s0(e){var t=er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=dx.bind(null,it,e),[t.memoizedState,e]}function Es(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Gh(){return bn().memoizedState}function ma(e,t,r,s){var l=er();it.flags|=e,l.memoizedState=Es(1|t,r,void 0,s===void 0?null:s)}function gl(e,t,r,s){var l=bn();s=s===void 0?null:s;var u=void 0;if(At!==null){var h=At.memoizedState;if(u=h.destroy,s!==null&&If(s,h.deps)){l.memoizedState=Es(t,r,u,s);return}}it.flags|=e,l.memoizedState=Es(1|t,r,u,s)}function a0(e,t){return ma(8390656,8,e,t)}function _f(e,t){return gl(2048,8,e,t)}function Yh(e,t){return gl(4,2,e,t)}function Xh(e,t){return gl(4,4,e,t)}function Qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zh(e,t,r){return r=r!=null?r.concat([e]):null,gl(4,4,Qh.bind(null,t,e),r)}function Of(){}function Kh(e,t){var r=bn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&If(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function qh(e,t){var r=bn();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&If(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Jh(e,t,r){return wi&21?(Hn(r,t)||(r=rh(),it.lanes|=r,yi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=r)}function ux(e,t){var r=je;je=r!==0&&4>r?r:4,e(!0);var s=Sc.transition;Sc.transition={};try{e(!1),t()}finally{je=r,Sc.transition=s}}function $h(){return bn().memoizedState}function fx(e,t,r){var s=Gr(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},eg(e))tg(t,r);else if(r=kh(e,t,r,s),r!==null){var l=Yt();jn(r,e,s,l),ng(r,t,s)}}function dx(e,t,r){var s=Gr(e),l={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(eg(e))tg(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,w=u(h,r);if(l.hasEagerState=!0,l.eagerState=w,Hn(w,h)){var m=t.interleaved;m===null?(l.next=l,Ef(t)):(l.next=m.next,m.next=l),t.interleaved=l;return}}catch{}finally{}r=kh(e,t,l,s),r!==null&&(l=Yt(),jn(r,e,s,l),ng(r,t,s))}}function eg(e){var t=e.alternate;return e===it||t!==null&&t===it}function tg(e,t){ts=za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ng(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,sf(e,r)}}var Ha={readContext:On,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},hx={readContext:On,useCallback:function(e,t){return er().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:a0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ma(4194308,4,Qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return ma(4,2,e,t)},useMemo:function(e,t){var r=er();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=er();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=fx.bind(null,it,e),[s.memoizedState,e]},useRef:function(e){var t=er();return e={current:e},t.memoizedState=e},useState:s0,useDebugValue:Of,useDeferredValue:function(e){return er().memoizedState=e},useTransition:function(){var e=s0(!1),t=e[0];return e=ux.bind(null,e[1]),er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=it,l=er();if(tt){if(r===void 0)throw Error($(407));r=r()}else{if(r=t(),_t===null)throw Error($(349));wi&30||jh(s,t,r)}l.memoizedState=r;var u={value:r,getSnapshot:t};return l.queue=u,a0(Hh.bind(null,s,u,e),[e]),s.flags|=2048,Es(9,zh.bind(null,s,u,r,t),void 0,null),r},useId:function(){var e=er(),t=_t.identifierPrefix;if(tt){var r=fr,s=ur;r=(s&~(1<<32-Un(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=ws++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gx={readContext:On,useCallback:Kh,useContext:On,useEffect:_f,useImperativeHandle:Zh,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:qh,useReducer:vc,useRef:Gh,useState:function(){return vc(ys)},useDebugValue:Of,useDeferredValue:function(e){var t=bn();return Jh(t,At.memoizedState,e)},useTransition:function(){var e=vc(ys)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:$h,unstable_isNewReconciler:!1},px={readContext:On,useCallback:Kh,useContext:On,useEffect:_f,useImperativeHandle:Zh,useInsertionEffect:Yh,useLayoutEffect:Xh,useMemo:qh,useReducer:Ic,useRef:Gh,useState:function(){return Ic(ys)},useDebugValue:Of,useDeferredValue:function(e){var t=bn();return At===null?t.memoizedState=e:Jh(t,At.memoizedState,e)},useTransition:function(){var e=Ic(ys)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Fh,useSyncExternalStore:Uh,useId:$h,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gu(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pl={isMounted:function(e){return(e=e._reactInternals)?vi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Yt(),l=Gr(e),u=hr(s,l);u.payload=t,r!=null&&(u.callback=r),t=Vr(e,u,l),t!==null&&(jn(t,e,l,s),ga(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Yt(),l=Gr(e),u=hr(s,l);u.tag=1,u.payload=t,r!=null&&(u.callback=r),t=Vr(e,u,l),t!==null&&(jn(t,e,l,s),ga(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yt(),s=Gr(e),l=hr(r,s);l.tag=2,t!=null&&(l.callback=t),t=Vr(e,l,s),t!==null&&(jn(t,e,s,r),ga(t,e,s))}};function l0(e,t,r,s,l,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!ds(r,s)||!ds(l,u):!0}function rg(e,t,r){var s=!1,l=Zr,u=t.contextType;return typeof u=="object"&&u!==null?u=On(u):(l=sn(t)?mi:Ht.current,s=t.contextTypes,u=(s=s!=null)?lo(e,l):Zr),t=new t(r,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function c0(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function pu(e,t,r,s){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Cf(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=On(u):(u=sn(t)?mi:Ht.current,l.context=lo(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(gu(e,t,u,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&pl.enqueueReplaceState(l,l.state,null),Ua(e,r,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var r="",s=t;do r+=V2(s),s=s.return;while(s);var l=r}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Tc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mx=typeof WeakMap=="function"?WeakMap:Map;function ig(e,t,r){r=hr(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Wa||(Wa=!0,Tu=s),mu(e,t)},r}function og(e,t,r){r=hr(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;r.payload=function(){return s(l)},r.callback=function(){mu(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(r.callback=function(){mu(e,t),typeof s!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function u0(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new mx;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(r)||(l.add(r),e=bx.bind(null,e,t,r),t.then(e,e))}function f0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d0(e,t,r,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hr(-1,1),t.tag=2,Vr(r,t,1))),r.lanes|=1),e)}var xx=wr.ReactCurrentOwner,rn=!1;function Gt(e,t,r,s){t.child=e===null?Lh(t,null,r,s):uo(t,e.child,r,s)}function h0(e,t,r,s,l){r=r.render;var u=t.ref;return oo(t,l),s=Tf(e,t,r,s,u,l),r=Nf(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xr(e,t,l)):(tt&&r&&gf(t),t.flags|=1,Gt(e,t,s,l),t.child)}function g0(e,t,r,s,l){if(e===null){var u=r.type;return typeof u=="function"&&!Bf(u)&&u.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=u,sg(e,t,u,s,l)):(e=Ea(r.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!(e.lanes&l)){var h=u.memoizedProps;if(r=r.compare,r=r!==null?r:ds,r(h,s)&&e.ref===t.ref)return xr(e,t,l)}return t.flags|=1,e=Yr(u,s),e.ref=t.ref,e.return=t,t.child=e}function sg(e,t,r,s,l){if(e!==null){var u=e.memoizedProps;if(ds(u,s)&&e.ref===t.ref)if(rn=!1,t.pendingProps=s=u,(e.lanes&l)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,xr(e,t,l)}return xu(e,t,r,s,l)}function ag(e,t,r){var s=t.pendingProps,l=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Ji,hn),hn|=r;else{if(!(r&1073741824))return e=u!==null?u.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(Ji,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:r,Qe(Ji,hn),hn|=s}else u!==null?(s=u.baseLanes|r,t.memoizedState=null):s=r,Qe(Ji,hn),hn|=s;return Gt(e,t,l,r),t.child}function lg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xu(e,t,r,s,l){var u=sn(r)?mi:Ht.current;return u=lo(t,u),oo(t,l),r=Tf(e,t,r,s,u,l),s=Nf(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xr(e,t,l)):(tt&&s&&gf(t),t.flags|=1,Gt(e,t,r,l),t.child)}function p0(e,t,r,s,l){if(sn(r)){var u=!0;La(t)}else u=!1;if(oo(t,l),t.stateNode===null)xa(e,t),rg(t,r,s),pu(t,r,s,l),s=!0;else if(e===null){var h=t.stateNode,w=t.memoizedProps;h.props=w;var m=h.context,p=r.contextType;typeof p=="object"&&p!==null?p=On(p):(p=sn(r)?mi:Ht.current,p=lo(t,p));var y=r.getDerivedStateFromProps,C=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function";C||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==s||m!==p)&&c0(t,h,s,p),Rr=!1;var I=t.memoizedState;h.state=I,Ua(t,s,h,l),m=t.memoizedState,w!==s||I!==m||on.current||Rr?(typeof y=="function"&&(gu(t,r,y,s),m=t.memoizedState),(w=Rr||l0(t,r,w,s,I,m,p))?(C||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=m),h.props=s,h.state=m,h.context=p,s=w):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Ph(e,t),w=t.memoizedProps,p=t.type===t.elementType?w:kn(t.type,w),h.props=p,C=t.pendingProps,I=h.context,m=r.contextType,typeof m=="object"&&m!==null?m=On(m):(m=sn(r)?mi:Ht.current,m=lo(t,m));var R=r.getDerivedStateFromProps;(y=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==C||I!==m)&&c0(t,h,s,m),Rr=!1,I=t.memoizedState,h.state=I,Ua(t,s,h,l);var M=t.memoizedState;w!==C||I!==M||on.current||Rr?(typeof R=="function"&&(gu(t,r,R,s),M=t.memoizedState),(p=Rr||l0(t,r,p,s,I,M,m)||!1)?(y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,M,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,M,m)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),h.props=s,h.state=M,h.context=m,s=p):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),s=!1)}return wu(e,t,r,s,u,l)}function wu(e,t,r,s,l,u){lg(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return l&&e0(t,r,!1),xr(e,t,u);s=t.stateNode,xx.current=t;var w=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=uo(t,e.child,null,u),t.child=uo(t,null,w,u)):Gt(e,t,w,u),t.memoizedState=s.state,l&&e0(t,r,!0),t.child}function cg(e){var t=e.stateNode;t.pendingContext?$1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$1(e,t.context,!1),Af(e,t.containerInfo)}function m0(e,t,r,s,l){return co(),mf(l),t.flags|=256,Gt(e,t,r,s),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function Eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ug(e,t,r){var s=t.pendingProps,l=rt.current,u=!1,h=(t.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Qe(rt,l&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},!(s&1)&&u!==null?(u.childLanes=0,u.pendingProps=h):u=wl(h,s,0,null),e=gi(e,s,r,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Eu(r),t.memoizedState=yu,e):bf(t,h));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return wx(e,t,h,s,w,l,r);if(u){u=s.fallback,h=t.mode,l=e.child,w=l.sibling;var m={mode:"hidden",children:s.children};return!(h&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=m,t.deletions=null):(s=Yr(l,m),s.subtreeFlags=l.subtreeFlags&14680064),w!==null?u=Yr(w,u):(u=gi(u,h,r,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?Eu(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~r,t.memoizedState=yu,s}return u=e.child,e=u.sibling,s=Yr(u,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function bf(e,t){return t=wl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oa(e,t,r,s){return s!==null&&mf(s),uo(t,e.child,null,r),e=bf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wx(e,t,r,s,l,u,h){if(r)return t.flags&256?(t.flags&=-257,s=Tc(Error($(422))),oa(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,l=t.mode,s=wl({mode:"visible",children:s.children},l,0,null),u=gi(u,l,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,t.mode&1&&uo(t,e.child,null,h),t.child.memoizedState=Eu(h),t.memoizedState=yu,u);if(!(t.mode&1))return oa(e,t,h,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var w=s.dgst;return s=w,u=Error($(419)),s=Tc(u,s,void 0),oa(e,t,h,s)}if(w=(h&e.childLanes)!==0,rn||w){if(s=_t,s!==null){switch(h&-h){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|h)?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,mr(e,l),jn(s,e,l,-1))}return Pf(),s=Tc(Error($(421))),oa(e,t,h,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Rx.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,pn=Hr(l.nextSibling),mn=t,tt=!0,Fn=null,e!==null&&(In[Tn++]=ur,In[Tn++]=fr,In[Tn++]=xi,ur=e.id,fr=e.overflow,xi=t),t=bf(t,s.children),t.flags|=4096,t)}function x0(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),hu(e.return,t,r)}function Nc(e,t,r,s,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=r,u.tailMode=l)}function fg(e,t,r){var s=t.pendingProps,l=s.revealOrder,u=s.tail;if(Gt(e,t,s.children,r),s=rt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x0(e,r,t);else if(e.tag===19)x0(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Qe(rt,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&ja(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Nc(t,!1,l,r,u);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ja(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Nc(t,!0,r,null,u);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),yi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yx(e,t,r){switch(t.tag){case 3:cg(t),co();break;case 5:Bh(t);break;case 1:sn(t.type)&&La(t);break;case 4:Af(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Qe(Ba,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Qe(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?ug(e,t,r):(Qe(rt,rt.current&1),e=xr(e,t,r),e!==null?e.sibling:null);Qe(rt,rt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return fg(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Qe(rt,rt.current),s)break;return null;case 22:case 23:return t.lanes=0,ag(e,t,r)}return xr(e,t,r)}var dg,Cu,hg,gg;dg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cu=function(){};hg=function(e,t,r,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,fi(or.current);var u=null;switch(r){case"input":l=Vc(e,l),s=Vc(e,s),u=[];break;case"select":l=ot({},l,{value:void 0}),s=ot({},s,{value:void 0}),u=[];break;case"textarea":l=Yc(e,l),s=Yc(e,s),u=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ma)}Qc(r,s);var h;r=null;for(p in l)if(!s.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var w=l[p];for(h in w)w.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(os.hasOwnProperty(p)?u||(u=[]):(u=u||[]).push(p,null));for(p in s){var m=s[p];if(w=l!=null?l[p]:void 0,s.hasOwnProperty(p)&&m!==w&&(m!=null||w!=null))if(p==="style")if(w){for(h in w)!w.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in m)m.hasOwnProperty(h)&&w[h]!==m[h]&&(r||(r={}),r[h]=m[h])}else r||(u||(u=[]),u.push(p,r)),r=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,w=w?w.__html:void 0,m!=null&&w!==m&&(u=u||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(u=u||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(os.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&qe("scroll",e),u||w===m||(u=[])):(u=u||[]).push(p,m))}r&&(u=u||[]).push("style",r);var p=u;(t.updateQueue=p)&&(t.flags|=4)}};gg=function(e,t,r,s){r!==s&&(t.flags|=4)};function zo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Ex(e,t,r){var s=t.pendingProps;switch(pf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(t),null;case 1:return sn(t.type)&&Da(),Ut(t),null;case 3:return s=t.stateNode,fo(),$e(on),$e(Ht),vf(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Fn!==null&&(Ou(Fn),Fn=null))),Cu(e,t),Ut(t),null;case 5:Sf(t);var l=fi(xs.current);if(r=t.type,e!==null&&t.stateNode!=null)hg(e,t,r,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error($(166));return Ut(t),null}if(e=fi(or.current),ra(t)){s=t.stateNode,r=t.type;var u=t.memoizedProps;switch(s[nr]=t,s[ps]=u,e=(t.mode&1)!==0,r){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(l=0;l<Xo.length;l++)qe(Xo[l],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":T1(s,u),qe("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},qe("invalid",s);break;case"textarea":_1(s,u),qe("invalid",s)}Qc(r,u),l=null;for(var h in u)if(u.hasOwnProperty(h)){var w=u[h];h==="children"?typeof w=="string"?s.textContent!==w&&(u.suppressHydrationWarning!==!0&&na(s.textContent,w,e),l=["children",w]):typeof w=="number"&&s.textContent!==""+w&&(u.suppressHydrationWarning!==!0&&na(s.textContent,w,e),l=["children",""+w]):os.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&qe("scroll",s)}switch(r){case"input":Qs(s),N1(s,u,!0);break;case"textarea":Qs(s),O1(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Ma)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[nr]=t,e[ps]=s,dg(e,t,!1,!1),t.stateNode=e;e:{switch(h=Zc(r,s),r){case"dialog":qe("cancel",e),qe("close",e),l=s;break;case"iframe":case"object":case"embed":qe("load",e),l=s;break;case"video":case"audio":for(l=0;l<Xo.length;l++)qe(Xo[l],e);l=s;break;case"source":qe("error",e),l=s;break;case"img":case"image":case"link":qe("error",e),qe("load",e),l=s;break;case"details":qe("toggle",e),l=s;break;case"input":T1(e,s),l=Vc(e,s),qe("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=ot({},s,{value:void 0}),qe("invalid",e);break;case"textarea":_1(e,s),l=Yc(e,s),qe("invalid",e);break;default:l=s}Qc(r,l),w=l;for(u in w)if(w.hasOwnProperty(u)){var m=w[u];u==="style"?Gd(e,m):u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&Vd(e,m)):u==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&ss(e,m):typeof m=="number"&&ss(e,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(os.hasOwnProperty(u)?m!=null&&u==="onScroll"&&qe("scroll",e):m!=null&&$u(e,u,m,h))}switch(r){case"input":Qs(e),N1(e,s,!1);break;case"textarea":Qs(e),O1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Qr(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?to(e,!!s.multiple,u,!1):s.defaultValue!=null&&to(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ma)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ut(t),null;case 6:if(e&&t.stateNode!=null)gg(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error($(166));if(r=fi(xs.current),fi(or.current),ra(t)){if(s=t.stateNode,r=t.memoizedProps,s[nr]=t,(u=s.nodeValue!==r)&&(e=mn,e!==null))switch(e.tag){case 3:na(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(s.nodeValue,r,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[nr]=t,t.stateNode=s}return Ut(t),null;case 13:if($e(rt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&pn!==null&&t.mode&1&&!(t.flags&128))Mh(),co(),t.flags|=98560,u=!1;else if(u=ra(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error($(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error($(317));u[nr]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ut(t),u=!1}else Fn!==null&&(Ou(Fn),Fn=null),u=!0;if(!u)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?St===0&&(St=3):Pf())),t.updateQueue!==null&&(t.flags|=4),Ut(t),null);case 4:return fo(),Cu(e,t),e===null&&hs(t.stateNode.containerInfo),Ut(t),null;case 10:return yf(t.type._context),Ut(t),null;case 17:return sn(t.type)&&Da(),Ut(t),null;case 19:if($e(rt),u=t.memoizedState,u===null)return Ut(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)zo(u,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=ja(e),h!==null){for(t.flags|=128,zo(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)u=r,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(rt,rt.current&1|2),t.child}e=e.sibling}u.tail!==null&&gt()>go&&(t.flags|=128,s=!0,zo(u,!1),t.lanes=4194304)}else{if(!s)if(e=ja(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),zo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!tt)return Ut(t),null}else 2*gt()-u.renderingStartTime>go&&r!==1073741824&&(t.flags|=128,s=!0,zo(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(r=u.last,r!==null?r.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=gt(),t.sibling=null,r=rt.current,Qe(rt,s?r&1|2:r&1),t):(Ut(t),null);case 22:case 23:return kf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?hn&1073741824&&(Ut(t),t.subtreeFlags&6&&(t.flags|=8192)):Ut(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Cx(e,t){switch(pf(t),t.tag){case 1:return sn(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),$e(on),$e(Ht),vf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sf(t),null;case 13:if($e(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(rt),null;case 4:return fo(),null;case 10:return yf(t.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var sa=!1,zt=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,se=null;function qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){dt(e,t,s)}else r.current=null}function Au(e,t,r){try{r()}catch(s){dt(e,t,s)}}var w0=!1;function Sx(e,t){if(ou=Oa,e=yh(),hf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{r.nodeType,u.nodeType}catch{r=null;break e}var h=0,w=-1,m=-1,p=0,y=0,C=e,I=null;t:for(;;){for(var R;C!==r||l!==0&&C.nodeType!==3||(w=h+l),C!==u||s!==0&&C.nodeType!==3||(m=h+s),C.nodeType===3&&(h+=C.nodeValue.length),(R=C.firstChild)!==null;)I=C,C=R;for(;;){if(C===e)break t;if(I===r&&++p===l&&(w=h),I===u&&++y===s&&(m=h),(R=C.nextSibling)!==null)break;C=I,I=C.parentNode}C=R}r=w===-1||m===-1?null:{start:w,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(su={focusedElem:e,selectionRange:r},Oa=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var M=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var D=M.memoizedProps,k=M.memoizedState,O=t.stateNode,T=O.getSnapshotBeforeUpdate(t.elementType===t.type?D:kn(t.type,D),k);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(F){dt(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return M=w0,w0=!1,M}function ns(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Au(t,r,u)}l=l.next}while(l!==s)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Su(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pg(e){var t=e.alternate;t!==null&&(e.alternate=null,pg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nr],delete t[ps],delete t[cu],delete t[ox],delete t[sx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mg(e){return e.tag===5||e.tag===3||e.tag===4}function y0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ma));else if(s!==4&&(e=e.child,e!==null))for(vu(e,t,r),e=e.sibling;e!==null;)vu(e,t,r),e=e.sibling}function Iu(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Iu(e,t,r),e=e.sibling;e!==null;)Iu(e,t,r),e=e.sibling}var Dt=null,Pn=!1;function Nr(e,t,r){for(r=r.child;r!==null;)xg(e,t,r),r=r.sibling}function xg(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(ll,r)}catch{}switch(r.tag){case 5:zt||qi(r,t);case 6:var s=Dt,l=Pn;Dt=null,Nr(e,t,r),Dt=s,Pn=l,Dt!==null&&(Pn?(e=Dt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dt.removeChild(r.stateNode));break;case 18:Dt!==null&&(Pn?(e=Dt,r=r.stateNode,e.nodeType===8?Ec(e.parentNode,r):e.nodeType===1&&Ec(e,r),us(e)):Ec(Dt,r.stateNode));break;case 4:s=Dt,l=Pn,Dt=r.stateNode.containerInfo,Pn=!0,Nr(e,t,r),Dt=s,Pn=l;break;case 0:case 11:case 14:case 15:if(!zt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var u=l,h=u.destroy;u=u.tag,h!==void 0&&(u&2||u&4)&&Au(r,t,h),l=l.next}while(l!==s)}Nr(e,t,r);break;case 1:if(!zt&&(qi(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(w){dt(r,t,w)}Nr(e,t,r);break;case 21:Nr(e,t,r);break;case 22:r.mode&1?(zt=(s=zt)||r.memoizedState!==null,Nr(e,t,r),zt=s):Nr(e,t,r);break;default:Nr(e,t,r)}}function E0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ax),t.forEach(function(s){var l=Mx.bind(null,e,s);r.has(s)||(r.add(s),s.then(l,l))})}}function Ln(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];try{var u=e,h=t,w=h;e:for(;w!==null;){switch(w.tag){case 5:Dt=w.stateNode,Pn=!1;break e;case 3:Dt=w.stateNode.containerInfo,Pn=!0;break e;case 4:Dt=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(Dt===null)throw Error($(160));xg(u,h,l),Dt=null,Pn=!1;var m=l.alternate;m!==null&&(m.return=null),l.return=null}catch(p){dt(l,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wg(t,e),t=t.sibling}function wg(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),Jn(e),s&4){try{ns(3,e,e.return),ml(3,e)}catch(D){dt(e,e.return,D)}try{ns(5,e,e.return)}catch(D){dt(e,e.return,D)}}break;case 1:Ln(t,e),Jn(e),s&512&&r!==null&&qi(r,r.return);break;case 5:if(Ln(t,e),Jn(e),s&512&&r!==null&&qi(r,r.return),e.flags&32){var l=e.stateNode;try{ss(l,"")}catch(D){dt(e,e.return,D)}}if(s&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,h=r!==null?r.memoizedProps:u,w=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{w==="input"&&u.type==="radio"&&u.name!=null&&jd(l,u),Zc(w,h);var p=Zc(w,u);for(h=0;h<m.length;h+=2){var y=m[h],C=m[h+1];y==="style"?Gd(l,C):y==="dangerouslySetInnerHTML"?Vd(l,C):y==="children"?ss(l,C):$u(l,y,C,p)}switch(w){case"input":Wc(l,u);break;case"textarea":zd(l,u);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var R=u.value;R!=null?to(l,!!u.multiple,R,!1):I!==!!u.multiple&&(u.defaultValue!=null?to(l,!!u.multiple,u.defaultValue,!0):to(l,!!u.multiple,u.multiple?[]:"",!1))}l[ps]=u}catch(D){dt(e,e.return,D)}}break;case 6:if(Ln(t,e),Jn(e),s&4){if(e.stateNode===null)throw Error($(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(D){dt(e,e.return,D)}}break;case 3:if(Ln(t,e),Jn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(D){dt(e,e.return,D)}break;case 4:Ln(t,e),Jn(e);break;case 13:Ln(t,e),Jn(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(Df=gt())),s&4&&E0(e);break;case 22:if(y=r!==null&&r.memoizedState!==null,e.mode&1?(zt=(p=zt)||y,Ln(t,e),zt=p):Ln(t,e),Jn(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(se=e,y=e.child;y!==null;){for(C=se=y;se!==null;){switch(I=se,R=I.child,I.tag){case 0:case 11:case 14:case 15:ns(4,I,I.return);break;case 1:qi(I,I.return);var M=I.stateNode;if(typeof M.componentWillUnmount=="function"){s=I,r=I.return;try{t=s,M.props=t.memoizedProps,M.state=t.memoizedState,M.componentWillUnmount()}catch(D){dt(s,r,D)}}break;case 5:qi(I,I.return);break;case 22:if(I.memoizedState!==null){A0(C);continue}}R!==null?(R.return=I,se=R):A0(C)}y=y.sibling}e:for(y=null,C=e;;){if(C.tag===5){if(y===null){y=C;try{l=C.stateNode,p?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(w=C.stateNode,m=C.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,w.style.display=Wd("display",h))}catch(D){dt(e,e.return,D)}}}else if(C.tag===6){if(y===null)try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(D){dt(e,e.return,D)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;y===C&&(y=null),C=C.return}y===C&&(y=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:Ln(t,e),Jn(e),s&4&&E0(e);break;case 21:break;default:Ln(t,e),Jn(e)}}function Jn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mg(r)){var s=r;break e}r=r.return}throw Error($(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(ss(l,""),s.flags&=-33);var u=y0(e);Iu(e,u,l);break;case 3:case 4:var h=s.stateNode.containerInfo,w=y0(e);vu(e,w,h);break;default:throw Error($(161))}}catch(m){dt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vx(e,t,r){se=e,yg(e)}function yg(e,t,r){for(var s=(e.mode&1)!==0;se!==null;){var l=se,u=l.child;if(l.tag===22&&s){var h=l.memoizedState!==null||sa;if(!h){var w=l.alternate,m=w!==null&&w.memoizedState!==null||zt;w=sa;var p=zt;if(sa=h,(zt=m)&&!p)for(se=l;se!==null;)h=se,m=h.child,h.tag===22&&h.memoizedState!==null?S0(l):m!==null?(m.return=h,se=m):S0(l);for(;u!==null;)se=u,yg(u),u=u.sibling;se=l,sa=w,zt=p}C0(e)}else l.subtreeFlags&8772&&u!==null?(u.return=l,se=u):C0(e)}}function C0(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||ml(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!zt)if(r===null)s.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:kn(t.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&o0(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}o0(t,h,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var C=y.dehydrated;C!==null&&us(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}zt||t.flags&512&&Su(t)}catch(I){dt(t,t.return,I)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function A0(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function S0(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ml(4,t)}catch(m){dt(t,r,m)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(m){dt(t,l,m)}}var u=t.return;try{Su(t)}catch(m){dt(t,u,m)}break;case 5:var h=t.return;try{Su(t)}catch(m){dt(t,h,m)}}}catch(m){dt(t,t.return,m)}if(t===e){se=null;break}var w=t.sibling;if(w!==null){w.return=t.return,se=w;break}se=t.return}}var Ix=Math.ceil,Va=wr.ReactCurrentDispatcher,Rf=wr.ReactCurrentOwner,_n=wr.ReactCurrentBatchConfig,De=0,_t=null,mt=null,Lt=0,hn=0,Ji=Jr(0),St=0,Cs=null,yi=0,xl=0,Mf=0,rs=null,nn=null,Df=0,go=1/0,lr=null,Wa=!1,Tu=null,Wr=null,aa=!1,Br=null,Ga=0,is=0,Nu=null,wa=-1,ya=0;function Yt(){return De&6?gt():wa!==-1?wa:wa=gt()}function Gr(e){return e.mode&1?De&2&&Lt!==0?Lt&-Lt:lx.transition!==null?(ya===0&&(ya=rh()),ya):(e=je,e!==0||(e=window.event,e=e===void 0?16:uh(e.type)),e):1}function jn(e,t,r,s){if(50<is)throw is=0,Nu=null,Error($(185));Ns(e,r,s),(!(De&2)||e!==_t)&&(e===_t&&(!(De&2)&&(xl|=r),St===4&&kr(e,Lt)),an(e,s),r===1&&De===0&&!(t.mode&1)&&(go=gt()+500,hl&&$r()))}function an(e,t){var r=e.callbackNode;lm(e,t);var s=_a(e,e===_t?Lt:0);if(s===0)r!==null&&M1(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&M1(r),t===1)e.tag===0?ax(v0.bind(null,e)):Oh(v0.bind(null,e)),rx(function(){!(De&6)&&$r()}),r=null;else{switch(ih(s)){case 1:r=of;break;case 4:r=th;break;case 16:r=Na;break;case 536870912:r=nh;break;default:r=Na}r=Ng(r,Eg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Eg(e,t){if(wa=-1,ya=0,De&6)throw Error($(327));var r=e.callbackNode;if(so()&&e.callbackNode!==r)return null;var s=_a(e,e===_t?Lt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ya(e,s);else{t=s;var l=De;De|=2;var u=Ag();(_t!==e||Lt!==t)&&(lr=null,go=gt()+500,hi(e,t));do try{_x();break}catch(w){Cg(e,w)}while(1);wf(),Va.current=u,De=l,mt!==null?t=0:(_t=null,Lt=0,t=St)}if(t!==0){if(t===2&&(l=eu(e),l!==0&&(s=l,t=_u(e,l))),t===1)throw r=Cs,hi(e,0),kr(e,s),an(e,gt()),r;if(t===6)kr(e,s);else{if(l=e.current.alternate,!(s&30)&&!Tx(l)&&(t=Ya(e,s),t===2&&(u=eu(e),u!==0&&(s=u,t=_u(e,u))),t===1))throw r=Cs,hi(e,0),kr(e,s),an(e,gt()),r;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error($(345));case 2:li(e,nn,lr);break;case 3:if(kr(e,s),(s&130023424)===s&&(t=Df+500-gt(),10<t)){if(_a(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Yt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=lu(li.bind(null,e,nn,lr),t);break}li(e,nn,lr);break;case 4:if(kr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var h=31-Un(s);u=1<<h,h=t[h],h>l&&(l=h),s&=~u}if(s=l,s=gt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Ix(s/1960))-s,10<s){e.timeoutHandle=lu(li.bind(null,e,nn,lr),s);break}li(e,nn,lr);break;case 5:li(e,nn,lr);break;default:throw Error($(329))}}}return an(e,gt()),e.callbackNode===r?Eg.bind(null,e):null}function _u(e,t){var r=rs;return e.current.memoizedState.isDehydrated&&(hi(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=nn,nn=r,t!==null&&Ou(t)),e}function Ou(e){nn===null?nn=e:nn.push.apply(nn,e)}function Tx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var l=r[s],u=l.getSnapshot;l=l.value;try{if(!Hn(u(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t){for(t&=~Mf,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Un(t),s=1<<r;e[r]=-1,t&=~s}}function v0(e){if(De&6)throw Error($(327));so();var t=_a(e,0);if(!(t&1))return an(e,gt()),null;var r=Ya(e,t);if(e.tag!==0&&r===2){var s=eu(e);s!==0&&(t=s,r=_u(e,s))}if(r===1)throw r=Cs,hi(e,0),kr(e,t),an(e,gt()),r;if(r===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,li(e,nn,lr),an(e,gt()),null}function Lf(e,t){var r=De;De|=1;try{return e(t)}finally{De=r,De===0&&(go=gt()+500,hl&&$r())}}function Ei(e){Br!==null&&Br.tag===0&&!(De&6)&&so();var t=De;De|=1;var r=_n.transition,s=je;try{if(_n.transition=null,je=1,e)return e()}finally{je=s,_n.transition=r,De=t,!(De&6)&&$r()}}function kf(){hn=Ji.current,$e(Ji)}function hi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nx(r)),mt!==null)for(r=mt.return;r!==null;){var s=r;switch(pf(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Da();break;case 3:fo(),$e(on),$e(Ht),vf();break;case 5:Sf(s);break;case 4:fo();break;case 13:$e(rt);break;case 19:$e(rt);break;case 10:yf(s.type._context);break;case 22:case 23:kf()}r=r.return}if(_t=e,mt=e=Yr(e.current,null),Lt=hn=t,St=0,Cs=null,Mf=xl=yi=0,nn=rs=null,ui!==null){for(t=0;t<ui.length;t++)if(r=ui[t],s=r.interleaved,s!==null){r.interleaved=null;var l=s.next,u=r.pending;if(u!==null){var h=u.next;u.next=l,s.next=h}r.pending=s}ui=null}return e}function Cg(e,t){do{var r=mt;try{if(wf(),pa.current=Ha,za){for(var s=it.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}za=!1}if(wi=0,Nt=At=it=null,ts=!1,ws=0,Rf.current=null,r===null||r.return===null){St=1,Cs=t,mt=null;break}e:{var u=e,h=r.return,w=r,m=t;if(t=Lt,w.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,y=w,C=y.tag;if(!(y.mode&1)&&(C===0||C===11||C===15)){var I=y.alternate;I?(y.updateQueue=I.updateQueue,y.memoizedState=I.memoizedState,y.lanes=I.lanes):(y.updateQueue=null,y.memoizedState=null)}var R=f0(h);if(R!==null){R.flags&=-257,d0(R,h,w,u,t),R.mode&1&&u0(u,p,t),t=R,m=p;var M=t.updateQueue;if(M===null){var D=new Set;D.add(m),t.updateQueue=D}else M.add(m);break e}else{if(!(t&1)){u0(u,p,t),Pf();break e}m=Error($(426))}}else if(tt&&w.mode&1){var k=f0(h);if(k!==null){!(k.flags&65536)&&(k.flags|=256),d0(k,h,w,u,t),mf(ho(m,w));break e}}u=m=ho(m,w),St!==4&&(St=2),rs===null?rs=[u]:rs.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var O=ig(u,m,t);i0(u,O);break e;case 1:w=m;var T=u.type,N=u.stateNode;if(!(u.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Wr===null||!Wr.has(N)))){u.flags|=65536,t&=-t,u.lanes|=t;var F=og(u,w,t);i0(u,F);break e}}u=u.return}while(u!==null)}vg(r)}catch(X){t=X,mt===r&&r!==null&&(mt=r=r.return);continue}break}while(1)}function Ag(){var e=Va.current;return Va.current=Ha,e===null?Ha:e}function Pf(){(St===0||St===3||St===2)&&(St=4),_t===null||!(yi&268435455)&&!(xl&268435455)||kr(_t,Lt)}function Ya(e,t){var r=De;De|=2;var s=Ag();(_t!==e||Lt!==t)&&(lr=null,hi(e,t));do try{Nx();break}catch(l){Cg(e,l)}while(1);if(wf(),De=r,Va.current=s,mt!==null)throw Error($(261));return _t=null,Lt=0,St}function Nx(){for(;mt!==null;)Sg(mt)}function _x(){for(;mt!==null&&!$2();)Sg(mt)}function Sg(e){var t=Tg(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?vg(e):mt=t,Rf.current=null}function vg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Cx(r,t),r!==null){r.flags&=32767,mt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,mt=null;return}}else if(r=Ex(r,t,hn),r!==null){mt=r;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);St===0&&(St=5)}function li(e,t,r){var s=je,l=_n.transition;try{_n.transition=null,je=1,Ox(e,t,r,s)}finally{_n.transition=l,je=s}return null}function Ox(e,t,r,s){do so();while(Br!==null);if(De&6)throw Error($(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var u=r.lanes|r.childLanes;if(cm(e,u),e===_t&&(mt=_t=null,Lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||aa||(aa=!0,Ng(Na,function(){return so(),null})),u=(r.flags&15990)!==0,r.subtreeFlags&15990||u){u=_n.transition,_n.transition=null;var h=je;je=1;var w=De;De|=4,Rf.current=null,Sx(e,r),wg(r,e),Zm(su),Oa=!!ou,su=ou=null,e.current=r,vx(r),em(),De=w,je=h,_n.transition=u}else e.current=r;if(aa&&(aa=!1,Br=e,Ga=l),u=e.pendingLanes,u===0&&(Wr=null),rm(r.stateNode),an(e,gt()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],s(l.value,{componentStack:l.stack,digest:l.digest});if(Wa)throw Wa=!1,e=Tu,Tu=null,e;return Ga&1&&e.tag!==0&&so(),u=e.pendingLanes,u&1?e===Nu?is++:(is=0,Nu=e):is=0,$r(),null}function so(){if(Br!==null){var e=ih(Ga),t=_n.transition,r=je;try{if(_n.transition=null,je=16>e?16:e,Br===null)var s=!1;else{if(e=Br,Br=null,Ga=0,De&6)throw Error($(331));var l=De;for(De|=4,se=e.current;se!==null;){var u=se,h=u.child;if(se.flags&16){var w=u.deletions;if(w!==null){for(var m=0;m<w.length;m++){var p=w[m];for(se=p;se!==null;){var y=se;switch(y.tag){case 0:case 11:case 15:ns(8,y,u)}var C=y.child;if(C!==null)C.return=y,se=C;else for(;se!==null;){y=se;var I=y.sibling,R=y.return;if(pg(y),y===p){se=null;break}if(I!==null){I.return=R,se=I;break}se=R}}}var M=u.alternate;if(M!==null){var D=M.child;if(D!==null){M.child=null;do{var k=D.sibling;D.sibling=null,D=k}while(D!==null)}}se=u}}if(u.subtreeFlags&2064&&h!==null)h.return=u,se=h;else e:for(;se!==null;){if(u=se,u.flags&2048)switch(u.tag){case 0:case 11:case 15:ns(9,u,u.return)}var O=u.sibling;if(O!==null){O.return=u.return,se=O;break e}se=u.return}}var T=e.current;for(se=T;se!==null;){h=se;var N=h.child;if(h.subtreeFlags&2064&&N!==null)N.return=h,se=N;else e:for(h=T;se!==null;){if(w=se,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:ml(9,w)}}catch(X){dt(w,w.return,X)}if(w===h){se=null;break e}var F=w.sibling;if(F!==null){F.return=w.return,se=F;break e}se=w.return}}if(De=l,$r(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(ll,e)}catch{}s=!0}return s}finally{je=r,_n.transition=t}}return!1}function I0(e,t,r){t=ho(r,t),t=ig(e,t,1),e=Vr(e,t,1),t=Yt(),e!==null&&(Ns(e,1,t),an(e,t))}function dt(e,t,r){if(e.tag===3)I0(e,e,r);else for(;t!==null;){if(t.tag===3){I0(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Wr===null||!Wr.has(s))){e=ho(r,e),e=og(t,e,1),t=Vr(t,e,1),e=Yt(),t!==null&&(Ns(t,1,e),an(t,e));break}}t=t.return}}function bx(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(Lt&r)===r&&(St===4||St===3&&(Lt&130023424)===Lt&&500>gt()-Df?hi(e,0):Mf|=r),an(e,t)}function Ig(e,t){t===0&&(e.mode&1?(t=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):t=1);var r=Yt();e=mr(e,t),e!==null&&(Ns(e,t,r),an(e,r))}function Rx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ig(e,r)}function Mx(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error($(314))}s!==null&&s.delete(t),Ig(e,r)}var Tg;Tg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||on.current)rn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return rn=!1,yx(e,t,r);rn=!!(e.flags&131072)}else rn=!1,tt&&t.flags&1048576&&bh(t,Pa,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;xa(e,t),e=t.pendingProps;var l=lo(t,Ht.current);oo(t,r),l=Tf(null,t,s,e,l,r);var u=Nf();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(s)?(u=!0,La(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Cf(t),l.updater=pl,t.stateNode=l,l._reactInternals=t,pu(t,s,e,r),t=wu(null,t,s,!0,u,r)):(t.tag=0,tt&&u&&gf(t),Gt(null,t,l,r),t=t.child),t;case 16:s=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Lx(s),e=kn(s,e),l){case 0:t=xu(null,t,s,e,r);break e;case 1:t=p0(null,t,s,e,r);break e;case 11:t=h0(null,t,s,e,r);break e;case 14:t=g0(null,t,s,kn(s.type,e),r);break e}throw Error($(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kn(s,l),xu(e,t,s,l,r);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kn(s,l),p0(e,t,s,l,r);case 3:e:{if(cg(t),e===null)throw Error($(387));s=t.pendingProps,u=t.memoizedState,l=u.element,Ph(e,t),Ua(t,s,null,r);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=ho(Error($(423)),t),t=m0(e,t,s,r,l);break e}else if(s!==l){l=ho(Error($(424)),t),t=m0(e,t,s,r,l);break e}else for(pn=Hr(t.stateNode.containerInfo.firstChild),mn=t,tt=!0,Fn=null,r=Lh(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(co(),s===l){t=xr(e,t,r);break e}Gt(e,t,s,r)}t=t.child}return t;case 5:return Bh(t),e===null&&du(t),s=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,h=l.children,au(s,l)?h=null:u!==null&&au(s,u)&&(t.flags|=32),lg(e,t),Gt(e,t,h,r),t.child;case 6:return e===null&&du(t),null;case 13:return ug(e,t,r);case 4:return Af(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=uo(t,null,s,r):Gt(e,t,s,r),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kn(s,l),h0(e,t,s,l,r);case 7:return Gt(e,t,t.pendingProps,r),t.child;case 8:return Gt(e,t,t.pendingProps.children,r),t.child;case 12:return Gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,u=t.memoizedProps,h=l.value,Qe(Ba,s._currentValue),s._currentValue=h,u!==null)if(Hn(u.value,h)){if(u.children===l.children&&!on.current){t=xr(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var w=u.dependencies;if(w!==null){h=u.child;for(var m=w.firstContext;m!==null;){if(m.context===s){if(u.tag===1){m=hr(-1,r&-r),m.tag=2;var p=u.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?m.next=m:(m.next=y.next,y.next=m),p.pending=m}}u.lanes|=r,m=u.alternate,m!==null&&(m.lanes|=r),hu(u.return,r,t),w.lanes|=r;break}m=m.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error($(341));h.lanes|=r,w=h.alternate,w!==null&&(w.lanes|=r),hu(h,r,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Gt(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,oo(t,r),l=On(l),s=s(l),t.flags|=1,Gt(e,t,s,r),t.child;case 14:return s=t.type,l=kn(s,t.pendingProps),l=kn(s.type,l),g0(e,t,s,l,r);case 15:return sg(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:kn(s,l),xa(e,t),t.tag=1,sn(s)?(e=!0,La(t)):e=!1,oo(t,r),rg(t,s,l),pu(t,s,l,r),wu(null,t,s,!0,e,r);case 19:return fg(e,t,r);case 22:return ag(e,t,r)}throw Error($(156,t.tag))};function Ng(e,t){return eh(e,t)}function Dx(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,r,s){return new Dx(e,t,r,s)}function Bf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lx(e){if(typeof e=="function")return Bf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tf)return 11;if(e===nf)return 14}return 2}function Yr(e,t){var r=e.alternate;return r===null?(r=Nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ea(e,t,r,s,l,u){var h=2;if(s=e,typeof e=="function")Bf(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Hi:return gi(r.children,l,u,t);case ef:h=8,l|=8;break;case Uc:return e=Nn(12,r,t,l|2),e.elementType=Uc,e.lanes=u,e;case jc:return e=Nn(13,r,t,l),e.elementType=jc,e.lanes=u,e;case zc:return e=Nn(19,r,t,l),e.elementType=zc,e.lanes=u,e;case Bd:return wl(r,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kd:h=10;break e;case Pd:h=9;break e;case tf:h=11;break e;case nf:h=14;break e;case br:h=16,s=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Nn(h,r,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function gi(e,t,r,s){return e=Nn(7,e,s,t),e.lanes=r,e}function wl(e,t,r,s){return e=Nn(22,e,s,t),e.elementType=Bd,e.lanes=r,e.stateNode={isHidden:!1},e}function _c(e,t,r){return e=Nn(6,e,null,t),e.lanes=r,e}function Oc(e,t,r){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kx(e,t,r,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cc(0),this.expirationTimes=cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cc(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ff(e,t,r,s,l,u,h,w,m){return e=new kx(e,t,r,w,m),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Nn(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(u),e}function Px(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function _g(e){if(!e)return Zr;e=e._reactInternals;e:{if(vi(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var r=e.type;if(sn(r))return _h(e,r,t)}return t}function Og(e,t,r,s,l,u,h,w,m){return e=Ff(r,s,!0,e,l,u,h,w,m),e.context=_g(null),r=e.current,s=Yt(),l=Gr(r),u=hr(s,l),u.callback=t??null,Vr(r,u,l),e.current.lanes=l,Ns(e,l,s),an(e,s),e}function yl(e,t,r,s){var l=t.current,u=Yt(),h=Gr(l);return r=_g(r),t.context===null?t.context=r:t.pendingContext=r,t=hr(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Vr(l,t,h),e!==null&&(jn(e,l,h,u),ga(e,l,h)),h}function Xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Uf(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function Bx(){return null}var bg=typeof reportError=="function"?reportError:function(e){console.error(e)};function jf(e){this._internalRoot=e}El.prototype.render=jf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));yl(e,t,null,null)};El.prototype.unmount=jf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ei(function(){yl(null,e,null,null)}),t[pr]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=ah();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lr.length&&t!==0&&t<Lr[r].priority;r++);Lr.splice(r,0,e),r===0&&ch(e)}};function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function N0(){}function Fx(e,t,r,s,l){if(l){if(typeof s=="function"){var u=s;s=function(){var p=Xa(h);u.call(p)}}var h=Og(t,s,e,0,null,!1,!1,"",N0);return e._reactRootContainer=h,e[pr]=h.current,hs(e.nodeType===8?e.parentNode:e),Ei(),h}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var w=s;s=function(){var p=Xa(m);w.call(p)}}var m=Ff(e,0,!1,null,null,!1,!1,"",N0);return e._reactRootContainer=m,e[pr]=m.current,hs(e.nodeType===8?e.parentNode:e),Ei(function(){yl(t,m,r,s)}),m}function Al(e,t,r,s,l){var u=r._reactRootContainer;if(u){var h=u;if(typeof l=="function"){var w=l;l=function(){var m=Xa(h);w.call(m)}}yl(t,h,e,l)}else h=Fx(r,t,e,l,s);return Xa(h)}oh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yo(t.pendingLanes);r!==0&&(sf(t,r|1),an(t,gt()),!(De&6)&&(go=gt()+500,$r()))}break;case 13:Ei(function(){var s=mr(e,1);if(s!==null){var l=Yt();jn(s,e,1,l)}}),Uf(e,1)}};af=function(e){if(e.tag===13){var t=mr(e,134217728);if(t!==null){var r=Yt();jn(t,e,134217728,r)}Uf(e,134217728)}};sh=function(e){if(e.tag===13){var t=Gr(e),r=mr(e,t);if(r!==null){var s=Yt();jn(r,e,t,s)}Uf(e,t)}};ah=function(){return je};lh=function(e,t){var r=je;try{return je=e,t()}finally{je=r}};qc=function(e,t,r){switch(t){case"input":if(Wc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var l=dl(s);if(!l)throw Error($(90));Ud(s),Wc(s,l)}}}break;case"textarea":zd(e,r);break;case"select":t=r.value,t!=null&&to(e,!!r.multiple,t,!1)}};Qd=Lf;Zd=Ei;var Ux={usingClientEntryPoint:!1,Events:[Os,Yi,dl,Yd,Xd,Lf]},Ho={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jd(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||Bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{ll=la.inject(jx),ir=la}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ux;yn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(t))throw Error($(200));return Px(e,t,null,r)};yn.createRoot=function(e,t){if(!zf(e))throw Error($(299));var r=!1,s="",l=bg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ff(e,1,!1,null,null,r,!1,s,l),e[pr]=t.current,hs(e.nodeType===8?e.parentNode:e),new jf(t)};yn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Jd(t),e=e===null?null:e.stateNode,e};yn.flushSync=function(e){return Ei(e)};yn.hydrate=function(e,t,r){if(!Cl(t))throw Error($(200));return Al(null,e,t,!0,r)};yn.hydrateRoot=function(e,t,r){if(!zf(e))throw Error($(405));var s=r!=null&&r.hydratedSources||null,l=!1,u="",h=bg;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=Og(t,null,e,1,r??null,l,!1,u,h),e[pr]=t.current,hs(e),s)for(e=0;e<s.length;e++)r=s[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new El(t)};yn.render=function(e,t,r){if(!Cl(t))throw Error($(200));return Al(null,e,t,!1,r)};yn.unmountComponentAtNode=function(e){if(!Cl(e))throw Error($(40));return e._reactRootContainer?(Ei(function(){Al(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};yn.unstable_batchedUpdates=Lf;yn.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Cl(r))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Al(e,t,r,!1,s)};yn.version="18.3.1-next-f1338f8080-20240426";function Rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rg)}catch(e){console.error(e)}}Rg(),Rd.exports=yn;var Mg=Rd.exports,Dg,_0=Mg;Dg=_0.createRoot,_0.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},As.apply(this,arguments)}var Fr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fr||(Fr={}));const O0="popstate";function zx(e){e===void 0&&(e={});function t(s,l){let{pathname:u,search:h,hash:w}=s.location;return bu("",{pathname:u,search:h,hash:w},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){return typeof l=="string"?l:Qa(l)}return Vx(t,r,null,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Hx(){return Math.random().toString(36).substr(2,8)}function b0(e,t){return{usr:e.state,key:e.key,idx:t}}function bu(e,t,r,s){return r===void 0&&(r=null),As({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wo(t):t,{state:r,key:t&&t.key||s||Hx()})}function Qa(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function wo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Vx(e,t,r,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:u=!1}=s,h=l.history,w=Fr.Pop,m=null,p=y();p==null&&(p=0,h.replaceState(As({},h.state,{idx:p}),""));function y(){return(h.state||{idx:null}).idx}function C(){w=Fr.Pop;let k=y(),O=k==null?null:k-p;p=k,m&&m({action:w,location:D.location,delta:O})}function I(k,O){w=Fr.Push;let T=bu(D.location,k,O);r&&r(T,k),p=y()+1;let N=b0(T,p),F=D.createHref(T);try{h.pushState(N,"",F)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;l.location.assign(F)}u&&m&&m({action:w,location:D.location,delta:1})}function R(k,O){w=Fr.Replace;let T=bu(D.location,k,O);r&&r(T,k),p=y();let N=b0(T,p),F=D.createHref(T);h.replaceState(N,"",F),u&&m&&m({action:w,location:D.location,delta:0})}function M(k){let O=l.location.origin!=="null"?l.location.origin:l.location.href,T=typeof k=="string"?k:Qa(k);return T=T.replace(/ $/,"%20"),xt(O,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,O)}let D={get action(){return w},get location(){return e(l,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(O0,C),m=k,()=>{l.removeEventListener(O0,C),m=null}},createHref(k){return t(l,k)},createURL:M,encodeLocation(k){let O=M(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:I,replace:R,go(k){return h.go(k)}};return D}var R0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(R0||(R0={}));function Wx(e,t,r){return r===void 0&&(r="/"),Gx(e,t,r,!1)}function Gx(e,t,r,s){let l=typeof t=="string"?wo(t):t,u=Hf(l.pathname||"/",r);if(u==null)return null;let h=kg(e);Yx(h);let w=null;for(let m=0;w==null&&m<h.length;++m){let p=rw(u);w=tw(h[m],p,s)}return w}function kg(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let l=(u,h,w)=>{let m={relativePath:w===void 0?u.path||"":w,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(xt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=Xr([s,m.relativePath]),y=r.concat(m);u.children&&u.children.length>0&&(xt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),kg(u.children,t,y,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:$x(p,u.index),routesMeta:y})};return e.forEach((u,h)=>{var w;if(u.path===""||!((w=u.path)!=null&&w.includes("?")))l(u,h);else for(let m of Pg(u.path))l(u,h,m)}),t}function Pg(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let h=Pg(s.join("/")),w=[];return w.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&w.push(...h),w.map(m=>e.startsWith("/")&&m===""?"/":m)}function Yx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ew(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Xx=/^:[\w-]+$/,Qx=3,Zx=2,Kx=1,qx=10,Jx=-2,M0=e=>e==="*";function $x(e,t){let r=e.split("/"),s=r.length;return r.some(M0)&&(s+=Jx),t&&(s+=Zx),r.filter(l=>!M0(l)).reduce((l,u)=>l+(Xx.test(u)?Qx:u===""?Kx:qx),s)}function ew(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function tw(e,t,r){r===void 0&&(r=!1);let{routesMeta:s}=e,l={},u="/",h=[];for(let w=0;w<s.length;++w){let m=s[w],p=w===s.length-1,y=u==="/"?t:t.slice(u.length)||"/",C=D0({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),I=m.route;if(!C&&p&&r&&!s[s.length-1].route.index&&(C=D0({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!C)return null;Object.assign(l,C.params),h.push({params:l,pathname:Xr([u,C.pathname]),pathnameBase:aw(Xr([u,C.pathnameBase])),route:I}),C.pathnameBase!=="/"&&(u=Xr([u,C.pathnameBase]))}return h}function D0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=nw(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),w=l.slice(1);return{params:s.reduce((p,y,C)=>{let{paramName:I,isOptional:R}=y;if(I==="*"){let D=w[C]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const M=w[C];return R&&!M?p[I]=void 0:p[I]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:e}}function nw(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Lg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,w,m)=>(s.push({paramName:w,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function rw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Hf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function iw(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:l=""}=typeof e=="string"?wo(e):e;return{pathname:r?r.startsWith("/")?r:ow(r,t):t,search:lw(s),hash:cw(l)}}function ow(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function bc(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sw(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Bg(e,t){let r=sw(e);return t?r.map((s,l)=>l===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Fg(e,t,r,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=wo(e):(l=As({},e),xt(!l.pathname||!l.pathname.includes("?"),bc("?","pathname","search",l)),xt(!l.pathname||!l.pathname.includes("#"),bc("#","pathname","hash",l)),xt(!l.search||!l.search.includes("#"),bc("#","search","hash",l)));let u=e===""||l.pathname==="",h=u?"/":l.pathname,w;if(h==null)w=r;else{let C=t.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),C-=1;l.pathname=I.join("/")}w=C>=0?t[C]:"/"}let m=iw(l,w),p=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),aw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function uw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ug=["post","put","patch","delete"];new Set(Ug);const fw=["get",...Ug];new Set(fw);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ss.apply(this,arguments)}const Vf=q.createContext(null),dw=q.createContext(null),Ii=q.createContext(null),Sl=q.createContext(null),Ti=q.createContext({outlet:null,matches:[],isDataRoute:!1}),jg=q.createContext(null);function hw(e,t){let{relative:r}=t===void 0?{}:t;Rs()||xt(!1);let{basename:s,navigator:l}=q.useContext(Ii),{hash:u,pathname:h,search:w}=Hg(e,{relative:r}),m=h;return s!=="/"&&(m=h==="/"?s:Xr([s,h])),l.createHref({pathname:m,search:w,hash:u})}function Rs(){return q.useContext(Sl)!=null}function Ni(){return Rs()||xt(!1),q.useContext(Sl).location}function zg(e){q.useContext(Ii).static||q.useLayoutEffect(e)}function _i(){let{isDataRoute:e}=q.useContext(Ti);return e?Tw():gw()}function gw(){Rs()||xt(!1);let e=q.useContext(Vf),{basename:t,future:r,navigator:s}=q.useContext(Ii),{matches:l}=q.useContext(Ti),{pathname:u}=Ni(),h=JSON.stringify(Bg(l,r.v7_relativeSplatPath)),w=q.useRef(!1);return zg(()=>{w.current=!0}),q.useCallback(function(p,y){if(y===void 0&&(y={}),!w.current)return;if(typeof p=="number"){s.go(p);return}let C=Fg(p,JSON.parse(h),u,y.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Xr([t,C.pathname])),(y.replace?s.replace:s.push)(C,y.state,y)},[t,s,h,u,e])}function Hg(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=q.useContext(Ii),{matches:l}=q.useContext(Ti),{pathname:u}=Ni(),h=JSON.stringify(Bg(l,s.v7_relativeSplatPath));return q.useMemo(()=>Fg(e,JSON.parse(h),u,r==="path"),[e,h,u,r])}function pw(e,t){return mw(e,t)}function mw(e,t,r,s){Rs()||xt(!1);let{navigator:l}=q.useContext(Ii),{matches:u}=q.useContext(Ti),h=u[u.length-1],w=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let p=Ni(),y;if(t){var C;let k=typeof t=="string"?wo(t):t;m==="/"||(C=k.pathname)!=null&&C.startsWith(m)||xt(!1),y=k}else y=p;let I=y.pathname||"/",R=I;if(m!=="/"){let k=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(k.length).join("/")}let M=Wx(e,{pathname:R}),D=Cw(M&&M.map(k=>Object.assign({},k,{params:Object.assign({},w,k.params),pathname:Xr([m,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Xr([m,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),u,r,s);return t&&D?q.createElement(Sl.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Fr.Pop}},D):D}function xw(){let e=Iw(),t=uw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},u=null;return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),r?q.createElement("pre",{style:l},r):null,u)}const ww=q.createElement(xw,null);class yw extends q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?q.createElement(Ti.Provider,{value:this.props.routeContext},q.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ew(e){let{routeContext:t,match:r,children:s}=e,l=q.useContext(Vf);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),q.createElement(Ti.Provider,{value:t},s)}function Cw(e,t,r,s){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var u;if(!r)return null;if(r.errors)e=r.matches;else if((u=s)!=null&&u.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,w=(l=r)==null?void 0:l.errors;if(w!=null){let y=h.findIndex(C=>C.route.id&&(w==null?void 0:w[C.route.id])!==void 0);y>=0||xt(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let y=0;y<h.length;y++){let C=h[y];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(p=y),C.route.id){let{loaderData:I,errors:R}=r,M=C.route.loader&&I[C.route.id]===void 0&&(!R||R[C.route.id]===void 0);if(C.route.lazy||M){m=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((y,C,I)=>{let R,M=!1,D=null,k=null;r&&(R=w&&C.route.id?w[C.route.id]:void 0,D=C.route.errorElement||ww,m&&(p<0&&I===0?(Nw("route-fallback",!1),M=!0,k=null):p===I&&(M=!0,k=C.route.hydrateFallbackElement||null)));let O=t.concat(h.slice(0,I+1)),T=()=>{let N;return R?N=D:M?N=k:C.route.Component?N=q.createElement(C.route.Component,null):C.route.element?N=C.route.element:N=y,q.createElement(Ew,{match:C,routeContext:{outlet:y,matches:O,isDataRoute:r!=null},children:N})};return r&&(C.route.ErrorBoundary||C.route.errorElement||I===0)?q.createElement(yw,{location:r.location,revalidation:r.revalidation,component:D,error:R,children:T(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):T()},null)}var Vg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vg||{}),Za=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Za||{});function Aw(e){let t=q.useContext(Vf);return t||xt(!1),t}function Sw(e){let t=q.useContext(dw);return t||xt(!1),t}function vw(e){let t=q.useContext(Ti);return t||xt(!1),t}function Wg(e){let t=vw(),r=t.matches[t.matches.length-1];return r.route.id||xt(!1),r.route.id}function Iw(){var e;let t=q.useContext(jg),r=Sw(Za.UseRouteError),s=Wg(Za.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Tw(){let{router:e}=Aw(Vg.UseNavigateStable),t=Wg(Za.UseNavigateStable),r=q.useRef(!1);return zg(()=>{r.current=!0}),q.useCallback(function(l,u){u===void 0&&(u={}),r.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ss({fromRouteId:t},u)))},[e,t])}const L0={};function Nw(e,t,r){!t&&!L0[e]&&(L0[e]=!0)}function un(e){xt(!1)}function _w(e){let{basename:t="/",children:r=null,location:s,navigationType:l=Fr.Pop,navigator:u,static:h=!1,future:w}=e;Rs()&&xt(!1);let m=t.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:u,static:h,future:Ss({v7_relativeSplatPath:!1},w)}),[m,w,u,h]);typeof s=="string"&&(s=wo(s));let{pathname:y="/",search:C="",hash:I="",state:R=null,key:M="default"}=s,D=q.useMemo(()=>{let k=Hf(y,m);return k==null?null:{location:{pathname:k,search:C,hash:I,state:R,key:M},navigationType:l}},[m,y,C,I,R,M,l]);return D==null?null:q.createElement(Ii.Provider,{value:p},q.createElement(Sl.Provider,{children:r,value:D}))}function Ow(e){let{children:t,location:r}=e;return pw(Ru(t),r)}new Promise(()=>{});function Ru(e,t){t===void 0&&(t=[]);let r=[];return q.Children.forEach(e,(s,l)=>{if(!q.isValidElement(s))return;let u=[...t,l];if(s.type===q.Fragment){r.push.apply(r,Ru(s.props.children,u));return}s.type!==un&&xt(!1),!s.props.index||!s.props.children||xt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ru(s.props.children,u)),r.push(h)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mu.apply(this,arguments)}function bw(e,t){if(e==null)return{};var r={},s=Object.keys(e),l,u;for(u=0;u<s.length;u++)l=s[u],!(t.indexOf(l)>=0)&&(r[l]=e[l]);return r}function Rw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mw(e,t){return e.button===0&&(!t||t==="_self")&&!Rw(e)}const Dw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Lw="6";try{window.__reactRouterVersion=Lw}catch{}const kw="startTransition",k0=b2[kw];function Pw(e){let{basename:t,children:r,future:s,window:l}=e,u=q.useRef();u.current==null&&(u.current=zx({window:l,v5Compat:!0}));let h=u.current,[w,m]=q.useState({action:h.action,location:h.location}),{v7_startTransition:p}=s||{},y=q.useCallback(C=>{p&&k0?k0(()=>m(C)):m(C)},[m,p]);return q.useLayoutEffect(()=>h.listen(y),[h,y]),q.createElement(_w,{basename:t,children:r,location:w.location,navigationType:w.action,navigator:h,future:s})}const Bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Du=q.forwardRef(function(t,r){let{onClick:s,relative:l,reloadDocument:u,replace:h,state:w,target:m,to:p,preventScrollReset:y,unstable_viewTransition:C}=t,I=bw(t,Dw),{basename:R}=q.useContext(Ii),M,D=!1;if(typeof p=="string"&&Fw.test(p)&&(M=p,Bw))try{let N=new URL(window.location.href),F=p.startsWith("//")?new URL(N.protocol+p):new URL(p),X=Hf(F.pathname,R);F.origin===N.origin&&X!=null?p=X+F.search+F.hash:D=!0}catch{}let k=hw(p,{relative:l}),O=Uw(p,{replace:h,state:w,target:m,preventScrollReset:y,relative:l,unstable_viewTransition:C});function T(N){s&&s(N),N.defaultPrevented||O(N)}return q.createElement("a",Mu({},I,{href:M||k,onClick:D||u?s:T,ref:r,target:m}))});var P0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(P0||(P0={}));var B0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(B0||(B0={}));function Uw(e,t){let{target:r,replace:s,state:l,preventScrollReset:u,relative:h,unstable_viewTransition:w}=t===void 0?{}:t,m=_i(),p=Ni(),y=Hg(e,{relative:h});return q.useCallback(C=>{if(Mw(C,r)){C.preventDefault();let I=s!==void 0?s:Qa(p)===Qa(y);m(e,{replace:I,state:l,preventScrollReset:u,relative:h,unstable_viewTransition:w})}},[p,m,y,s,l,r,e,u,h,w])}function jw(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}=e,[l,u]=q.useState(!1),h=q.useRef(r);h.current=r;const w=q.useRef(s);return w.current=s,q.useEffect(()=>{const m=document.createElement("script");return m.src="https://accounts.google.com/gsi/client",m.async=!0,m.defer=!0,m.nonce=t,m.onload=()=>{var p;u(!0),(p=h.current)===null||p===void 0||p.call(h)},m.onerror=()=>{var p;u(!1),(p=w.current)===null||p===void 0||p.call(w)},document.body.appendChild(m),()=>{document.body.removeChild(m)}},[t]),l}const Gg=q.createContext(null);function zw({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s,children:l}){const u=jw({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:s}),h=q.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:u}),[e,u]);return ft.createElement(Gg.Provider,{value:h},l)}function Hw(){const e=q.useContext(Gg);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Vw(e){var t;return(t=e==null?void 0:e.clientId)!==null&&t!==void 0?t:e==null?void 0:e.client_id}const Ww={large:40,medium:32,small:20};function Gw({onSuccess:e,onError:t,useOneTap:r,promptMomentNotification:s,type:l="standard",theme:u="outline",size:h="large",text:w,shape:m,logo_alignment:p,width:y,locale:C,click_listener:I,containerProps:R,...M}){const D=q.useRef(null),{clientId:k,scriptLoadedSuccessfully:O}=Hw(),T=q.useRef(e);T.current=e;const N=q.useRef(t);N.current=t;const F=q.useRef(s);return F.current=s,q.useEffect(()=>{var X,Z,U,Q,Y,de,we,ae,ye;if(O)return(U=(Z=(X=window==null?void 0:window.google)===null||X===void 0?void 0:X.accounts)===null||Z===void 0?void 0:Z.id)===null||U===void 0||U.initialize({client_id:k,callback:Ee=>{var H;if(!(Ee!=null&&Ee.credential))return(H=N.current)===null||H===void 0?void 0:H.call(N);const{credential:be,select_by:ue}=Ee;T.current({credential:be,clientId:Vw(Ee),select_by:ue})},...M}),(de=(Y=(Q=window==null?void 0:window.google)===null||Q===void 0?void 0:Q.accounts)===null||Y===void 0?void 0:Y.id)===null||de===void 0||de.renderButton(D.current,{type:l,theme:u,size:h,text:w,shape:m,logo_alignment:p,width:y,locale:C,click_listener:I}),r&&((ye=(ae=(we=window==null?void 0:window.google)===null||we===void 0?void 0:we.accounts)===null||ae===void 0?void 0:ae.id)===null||ye===void 0||ye.prompt(F.current)),()=>{var Ee,H,be;r&&((be=(H=(Ee=window==null?void 0:window.google)===null||Ee===void 0?void 0:Ee.accounts)===null||H===void 0?void 0:H.id)===null||be===void 0||be.cancel())}},[k,O,r,l,u,h,w,m,p,y,C]),ft.createElement("div",{...R,ref:D,style:{height:Ww[h],...R==null?void 0:R.style}})}class Qo extends Error{}Qo.prototype.name="InvalidTokenError";function Yw(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let s=r.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function Xw(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Yw(t)}catch{return atob(t)}}function Qw(e,t){if(typeof e!="string")throw new Qo("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,s=e.split(".")[r];if(typeof s!="string")throw new Qo(`Invalid token specified: missing part #${r+1}`);let l;try{l=Xw(s)}catch(u){throw new Qo(`Invalid token specified: invalid base64 for part #${r+1} (${u.message})`)}try{return JSON.parse(l)}catch(u){throw new Qo(`Invalid token specified: invalid json for part #${r+1} (${u.message})`)}}const Zw=()=>{const[e,t]=q.useState({email:"",password:""});function r(l){const{name:u,value:h}=l.target;t(w=>({...w,[u]:h}))}console.log(e);async function s(l){if(l.preventDefault(),e.email===""||e.password==="")alert("field is empty");else{let u=await fetch("https://cs-484-final-project.onrender.com/login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(u.ok)window.location.href="/Dashboard",console.log("moving");else{const h=await u.json(),w=h.error?h.error:"";console.log(w),alert(`${w}`)}}}return B.jsx(B.Fragment,{children:B.jsxs("div",{style:{backgroundColor:"#ffff"},className:" rounded-xl  w-[450px] h-[540px] shadow-md space-x-5",children:[B.jsx("div",{className:"flex items-center justify-center pt-28 rounded-sm   h-11",children:B.jsx(Gw,{onSuccess:async l=>{if(l.credential){const u=Qw(l.credential),h=u.email,w=u.picture,m=u.given_name;let p=await fetch("https://demo.evently.wiki/google-login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:m,email:h,profileImgUrl:w})});if(p.ok)window.location.href="https://demo.evently.wiki/Dashboard";else{const y=await p.json(),C=y.error?y.error:"";console.log(C),alert(`${C}`)}}},onError:()=>{alert("Login Failed")}})}),B.jsxs("div",{className:"flex items-center justify-center mt-10 mb-2",children:[B.jsx("span",{className:"border-t border-gray-300 w-1/4"}),B.jsx("span",{className:"mx-4 text-gray-500",children:"OR"}),B.jsx("span",{className:"border-t border-gray-300 w-1/4"})]}),B.jsxs("form",{onSubmit:s,children:[B.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"email",id:"email",name:"email",placeholder:"Email",onChange:r,value:e.email}),B.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"password",name:"password",placeholder:"Password",onChange:r,value:e.password}),B.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Continue"})]})]})})},F0=()=>B.jsxs(B.Fragment,{children:[B.jsx("h1",{className:"fixed top-56 left-1/2 transform -translate-x-1/2 text-black text-xl font-bold",children:"Welcome back, User!"}),B.jsx(Zw,{}),B.jsxs("span",{className:"block -m-16  text-gray-500",children:["Don't have an account?",B.jsx(Du,{to:"/RegisterUser",id:"RouterNavLink",children:B.jsx("span",{className:"ml-2 text-blue-500 cursor-pointer hover:text-blue-700",children:"Sign Up"})})]}),B.jsx(Du,{to:"/AdminLogin",children:B.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded hover:bg-blue-700 transition duration-300",children:"Admin Login"})})]}),Oi=({profileImgUrl:e,admin:t})=>{const r=_i();async function s(){const u=await(await fetch("https://demo.evently.wiki/logout",{method:"GET",credentials:"include"})).json(),h=u.error?u.error:"";console.log(h),h.length>0?(alert("server error"),r("/UserLogin")):(console.log(u),r("/UserLogin"))}return t?B.jsx(B.Fragment,{children:B.jsxs("div",{style:{backgroundColor:"#FFC107"},className:"fixed top-0 left-0  flex flex-row items-center text-white font-bold  w-full py-2",children:[B.jsx("h1",{onClick:()=>r("/AdminDashboard"),className:"ml-8 text-xl cursor-pointer",children:"Evently"}),B.jsx("span",{onClick:s,className:"ml-5 cursor-pointer",children:"Logout"}),B.jsx("img",{src:e,className:"h-16 w-16 rounded-full ml-auto mr-3"})]})}):B.jsx(B.Fragment,{children:B.jsxs("div",{style:{backgroundColor:"#4070F4"},className:"fixed top-0 left-0  flex flex-row items-center text-white font-bold  w-full py-2",children:[B.jsx("h1",{onClick:()=>r("/Dashboard"),className:"ml-8 text-xl cursor-pointer",children:"Evently"}),B.jsx("span",{onClick:()=>r("/rsvp"),className:"ml-5 cursor-pointer",children:"Rsvp Events"}),B.jsx("span",{onClick:s,className:"ml-5 cursor-pointer",children:"Logout"}),B.jsx("img",{src:e,className:"h-16 w-16 rounded-full ml-auto mr-3"})]})})},Wf=({_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w,admin:m})=>{const p=_i(),y=()=>{m?p(`/admin-event/${e}`,{state:{_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w}}):p(`/event/${e}`,{state:{_id:e,title:t,date:r,time:s,location:l,link:u,username:h,profileImg:w}})};return B.jsx(B.Fragment,{children:B.jsx("div",{className:"flex flex-col   mt-10 w- px-5  ",onClick:y,style:{cursor:"pointer"},children:B.jsxs("div",{className:"flex flex-col w-full mr-10 rounded-md border-2 text-left ",children:[B.jsx("h1",{className:"text-xl ml-3 mt-3 ",children:t}),B.jsxs("span",{className:"text-gray-300 font-bold ml-3 ",children:["Date: ",r]}),B.jsxs("span",{className:"text-left ml-3",children:["Time: ",s,B.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:" text-blue-500 cursor-pointer hover:text-blue-700",children:[" ","Official Link"]})]}),B.jsxs("span",{className:"text-left ml-3 mt-5 mb-5 inline-flex",children:[B.jsx("img",{className:"h-5 w-5",src:"https://www.svgrepo.com/show/376955/map-marker.svg"})," ","Location: ",l," "]})]})})})},Kw=()=>{const[e,t]=q.useState(),[r,s]=q.useState(),[l,u]=q.useState(null);return q.useEffect(()=>{async function h(){const m=await(await fetch("https://cs-484-final-project.onrender.com/api/dashboard",{method:"GET",credentials:"include"})).json(),p=m.error?m.error:"";console.log(p),t(m.data),s(m.username),u(m.events)}h()},[]),B.jsx(B.Fragment,{children:B.jsxs("div",{className:"font-bold text-black",children:[B.jsx(Oi,{profileImgUrl:e||"empty",admin:!1}),B.jsx("h1",{className:"fixed top-28 left-0 ml-5 text-4xl",children:`Welcome back, ${r}!, Here are your events:`}),B.jsx("div",{className:"mt-40 ml-5",children:l&&l.map(h=>B.jsx(Wf,{_id:h._id,title:h.title,date:h.date,time:h.time,location:h.location,link:h.link,username:r||"",profileImg:e||"empty",admin:!1},h._id))})]})})},qw=()=>{const e=Ni(),t=_i(),r=e.state||{_id:"",title:"Unknown Event",date:"Unknown Date",time:"Unknown Time",location:"Unknown Location",link:"",username:"",profileImg:""},s=async()=>{const h=await(await fetch("http://localhost:3000/events/rsvp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:r._id,username:r.username})})).json();console.log(h),h.success?alert(h.success):alert(h.error)},l=()=>{t(`/qr-reader/${r._id}`,{state:{profileImg:r.profileImg}})};return B.jsxs(B.Fragment,{children:[B.jsx(Oi,{profileImgUrl:r.profileImg,admin:!1}),B.jsxs("div",{className:"flex flex-col items-center mt-10",children:[B.jsx("h1",{className:"text-4xl font-bold text-black mb-5",children:r.title}),B.jsxs("div",{className:"w-3/4 p-5 border-2 rounded-lg shadow-md",children:[B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Date:"})," ",r.date]}),B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Time:"})," ",r.time]}),B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Location:"})," ",r.location]}),B.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"Official Link"}),B.jsxs("div",{className:"flex justify-center mt-5 space-x-4",children:[B.jsx("button",{onClick:s,className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"RSVP"}),B.jsx("button",{onClick:l,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Open Camera"})]})]}),B.jsx("button",{onClick:()=>t(-1),className:"mt-5 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Go Back"})]})]})},Jw=()=>{const e=_i(),[t,r]=q.useState({username:"",email:"",password:"",confirmPassword:""});function s(u){const{name:h,value:w}=u.target;r(m=>({...m,[h]:w}))}async function l(u){if(u.preventDefault(),t.username===""&&t.email===""&&t.password===""&&t.confirmPassword==="")alert("field is empty");else{const w=await(await fetch("https://demo.evently.wiki/registerUser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:t.username,email:t.email,password:t.password,confirmPassword:t.confirmPassword})})).json(),m=w.error?w.error:"";if(console.log(m),m.length>0)alert(`${m}`);else{let p=w.id;localStorage.setItem("userId",p),e("/UploadImg")}}}return console.log(t),B.jsxs(B.Fragment,{children:[B.jsx("h1",{className:"fixed top-40 left-1/2 transform -translate-x-1/2 text-black text-xl font-bold",children:"Register"}),B.jsxs("div",{style:{backgroundColor:"#ffff"},className:"rounded-xl w-[450px] h-[600px] shadow-md space-x-5 mt-12 mx-auto",children:[B.jsxs("form",{className:"mt-10",onSubmit:l,children:[B.jsx("input",{className:"mt-20  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"text",id:"username",name:"username",placeholder:"Username",onChange:s,value:t.username}),B.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"email",id:"email",name:"email",placeholder:"Email",onChange:s,value:t.email}),B.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"password",name:"password",placeholder:"Password",onChange:s,value:t.password}),B.jsx("input",{className:"mt-8  w-72 h-10 pl-2 py-2 bg-white text-black border-gray-300 border",type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",onChange:s,value:t.confirmPassword}),B.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Continue"})]}),B.jsxs("span",{className:"block mt-8 text-gray-500",children:["Already have an account?",B.jsx(Du,{to:"/UserLogin",id:"RouterNavLink",children:B.jsx("span",{className:"ml-2 text-blue-500 cursor-pointer hover:text-blue-700",children:"Log in"})})]})]})]})},$w=()=>B.jsx(B.Fragment,{children:B.jsx("div",{children:B.jsx(Jw,{})})});function Yg(e,t){return function(){return e.apply(t,arguments)}}const{toString:ey}=Object.prototype,{getPrototypeOf:Gf}=Object,vl=(e=>t=>{const r=ey.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Vn=e=>(e=e.toLowerCase(),t=>vl(t)===e),Il=e=>t=>typeof t===e,{isArray:yo}=Array,vs=Il("undefined");function ty(e){return e!==null&&!vs(e)&&e.constructor!==null&&!vs(e.constructor)&&xn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xg=Vn("ArrayBuffer");function ny(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xg(e.buffer),t}const ry=Il("string"),xn=Il("function"),Qg=Il("number"),Tl=e=>e!==null&&typeof e=="object",iy=e=>e===!0||e===!1,Ca=e=>{if(vl(e)!=="object")return!1;const t=Gf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oy=Vn("Date"),sy=Vn("File"),ay=Vn("Blob"),ly=Vn("FileList"),cy=e=>Tl(e)&&xn(e.pipe),uy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xn(e.append)&&((t=vl(e))==="formdata"||t==="object"&&xn(e.toString)&&e.toString()==="[object FormData]"))},fy=Vn("URLSearchParams"),[dy,hy,gy,py]=["ReadableStream","Request","Response","Headers"].map(Vn),my=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ms(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),yo(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{const u=r?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let w;for(s=0;s<h;s++)w=u[s],t.call(null,e[w],w,e)}}function Zg(e,t){t=t.toLowerCase();const r=Object.keys(e);let s=r.length,l;for(;s-- >0;)if(l=r[s],t===l.toLowerCase())return l;return null}const di=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kg=e=>!vs(e)&&e!==di;function Lu(){const{caseless:e}=Kg(this)&&this||{},t={},r=(s,l)=>{const u=e&&Zg(t,l)||l;Ca(t[u])&&Ca(s)?t[u]=Lu(t[u],s):Ca(s)?t[u]=Lu({},s):yo(s)?t[u]=s.slice():t[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Ms(arguments[s],r);return t}const xy=(e,t,r,{allOwnKeys:s}={})=>(Ms(t,(l,u)=>{r&&xn(l)?e[u]=Yg(l,r):e[u]=l},{allOwnKeys:s}),e),wy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yy=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Ey=(e,t,r,s)=>{let l,u,h;const w={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)h=l[u],(!s||s(h,e,t))&&!w[h]&&(t[h]=e[h],w[h]=!0);e=r!==!1&&Gf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Cy=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Ay=e=>{if(!e)return null;if(yo(e))return e;let t=e.length;if(!Qg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Sy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gf(Uint8Array)),vy=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=s.next())&&!l.done;){const u=l.value;t.call(e,u[0],u[1])}},Iy=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Ty=Vn("HTMLFormElement"),Ny=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,l){return s.toUpperCase()+l}),U0=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_y=Vn("RegExp"),qg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Ms(r,(l,u)=>{let h;(h=t(l,u,e))!==!1&&(s[u]=h||l)}),Object.defineProperties(e,s)},Oy=e=>{qg(e,(t,r)=>{if(xn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(xn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},by=(e,t)=>{const r={},s=l=>{l.forEach(u=>{r[u]=!0})};return yo(e)?s(e):s(String(e).split(t)),r},Ry=()=>{},My=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Rc="abcdefghijklmnopqrstuvwxyz",j0="0123456789",Jg={DIGIT:j0,ALPHA:Rc,ALPHA_DIGIT:Rc+Rc.toUpperCase()+j0},Dy=(e=16,t=Jg.ALPHA_DIGIT)=>{let r="";const{length:s}=t;for(;e--;)r+=t[Math.random()*s|0];return r};function Ly(e){return!!(e&&xn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ky=e=>{const t=new Array(10),r=(s,l)=>{if(Tl(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[l]=s;const u=yo(s)?[]:{};return Ms(s,(h,w)=>{const m=r(h,l+1);!vs(m)&&(u[w]=m)}),t[l]=void 0,u}}return s};return r(e,0)},Py=Vn("AsyncFunction"),By=e=>e&&(Tl(e)||xn(e))&&xn(e.then)&&xn(e.catch),$g=((e,t)=>e?setImmediate:t?((r,s)=>(di.addEventListener("message",({source:l,data:u})=>{l===di&&u===r&&s.length&&s.shift()()},!1),l=>{s.push(l),di.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",xn(di.postMessage)),Fy=typeof queueMicrotask<"u"?queueMicrotask.bind(di):typeof process<"u"&&process.nextTick||$g,G={isArray:yo,isArrayBuffer:Xg,isBuffer:ty,isFormData:uy,isArrayBufferView:ny,isString:ry,isNumber:Qg,isBoolean:iy,isObject:Tl,isPlainObject:Ca,isReadableStream:dy,isRequest:hy,isResponse:gy,isHeaders:py,isUndefined:vs,isDate:oy,isFile:sy,isBlob:ay,isRegExp:_y,isFunction:xn,isStream:cy,isURLSearchParams:fy,isTypedArray:Sy,isFileList:ly,forEach:Ms,merge:Lu,extend:xy,trim:my,stripBOM:wy,inherits:yy,toFlatObject:Ey,kindOf:vl,kindOfTest:Vn,endsWith:Cy,toArray:Ay,forEachEntry:vy,matchAll:Iy,isHTMLForm:Ty,hasOwnProperty:U0,hasOwnProp:U0,reduceDescriptors:qg,freezeMethods:Oy,toObjectSet:by,toCamelCase:Ny,noop:Ry,toFiniteNumber:My,findKey:Zg,global:di,isContextDefined:Kg,ALPHABET:Jg,generateString:Dy,isSpecCompliantForm:Ly,toJSONObject:ky,isAsyncFn:Py,isThenable:By,setImmediate:$g,asap:Fy};function Ae(e,t,r,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}G.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const ep=Ae.prototype,tp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tp[e]={value:e}});Object.defineProperties(Ae,tp);Object.defineProperty(ep,"isAxiosError",{value:!0});Ae.from=(e,t,r,s,l,u)=>{const h=Object.create(ep);return G.toFlatObject(e,h,function(m){return m!==Error.prototype},w=>w!=="isAxiosError"),Ae.call(h,e.message,t,r,s,l),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const Uy=null;function ku(e){return G.isPlainObject(e)||G.isArray(e)}function np(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function z0(e,t,r){return e?e.concat(t).map(function(l,u){return l=np(l),!r&&u?"["+l+"]":l}).join(r?".":""):t}function jy(e){return G.isArray(e)&&!e.some(ku)}const zy=G.toFlatObject(G,{},null,function(t){return/^is[A-Z]/.test(t)});function Nl(e,t,r){if(!G.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,k){return!G.isUndefined(k[D])});const s=r.metaTokens,l=r.visitor||y,u=r.dots,h=r.indexes,m=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(t);if(!G.isFunction(l))throw new TypeError("visitor must be a function");function p(M){if(M===null)return"";if(G.isDate(M))return M.toISOString();if(!m&&G.isBlob(M))throw new Ae("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(M)||G.isTypedArray(M)?m&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function y(M,D,k){let O=M;if(M&&!k&&typeof M=="object"){if(G.endsWith(D,"{}"))D=s?D:D.slice(0,-2),M=JSON.stringify(M);else if(G.isArray(M)&&jy(M)||(G.isFileList(M)||G.endsWith(D,"[]"))&&(O=G.toArray(M)))return D=np(D),O.forEach(function(N,F){!(G.isUndefined(N)||N===null)&&t.append(h===!0?z0([D],F,u):h===null?D:D+"[]",p(N))}),!1}return ku(M)?!0:(t.append(z0(k,D,u),p(M)),!1)}const C=[],I=Object.assign(zy,{defaultVisitor:y,convertValue:p,isVisitable:ku});function R(M,D){if(!G.isUndefined(M)){if(C.indexOf(M)!==-1)throw Error("Circular reference detected in "+D.join("."));C.push(M),G.forEach(M,function(O,T){(!(G.isUndefined(O)||O===null)&&l.call(t,O,G.isString(T)?T.trim():T,D,I))===!0&&R(O,D?D.concat(T):[T])}),C.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return R(e),t}function H0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Yf(e,t){this._pairs=[],e&&Nl(e,this,t)}const rp=Yf.prototype;rp.append=function(t,r){this._pairs.push([t,r])};rp.toString=function(t){const r=t?function(s){return t.call(this,s,H0)}:H0;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function Hy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ip(e,t,r){if(!t)return e;const s=r&&r.encode||Hy,l=r&&r.serialize;let u;if(l?u=l(t,r):u=G.isURLSearchParams(t)?t.toString():new Yf(t,r).toString(s),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class Vy{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){G.forEach(this.handlers,function(s){s!==null&&t(s)})}}const V0=Vy,op={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wy=typeof URLSearchParams<"u"?URLSearchParams:Yf,Gy=typeof FormData<"u"?FormData:null,Yy=typeof Blob<"u"?Blob:null,Xy={isBrowser:!0,classes:{URLSearchParams:Wy,FormData:Gy,Blob:Yy},protocols:["http","https","file","blob","url","data"]},Xf=typeof window<"u"&&typeof document<"u",Pu=typeof navigator=="object"&&navigator||void 0,Qy=Xf&&(!Pu||["ReactNative","NativeScript","NS"].indexOf(Pu.product)<0),Zy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ky=Xf&&window.location.href||"http://localhost",qy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xf,hasStandardBrowserEnv:Qy,hasStandardBrowserWebWorkerEnv:Zy,navigator:Pu,origin:Ky},Symbol.toStringTag,{value:"Module"})),ln={...qy,...Xy};function Jy(e,t){return Nl(e,new ln.classes.URLSearchParams,Object.assign({visitor:function(r,s,l,u){return ln.isNode&&G.isBuffer(r)?(this.append(s,r.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function $y(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function eE(e){const t={},r=Object.keys(e);let s;const l=r.length;let u;for(s=0;s<l;s++)u=r[s],t[u]=e[u];return t}function sp(e){function t(r,s,l,u){let h=r[u++];if(h==="__proto__")return!0;const w=Number.isFinite(+h),m=u>=r.length;return h=!h&&G.isArray(l)?l.length:h,m?(G.hasOwnProp(l,h)?l[h]=[l[h],s]:l[h]=s,!w):((!l[h]||!G.isObject(l[h]))&&(l[h]=[]),t(r,s,l[h],u)&&G.isArray(l[h])&&(l[h]=eE(l[h])),!w)}if(G.isFormData(e)&&G.isFunction(e.entries)){const r={};return G.forEachEntry(e,(s,l)=>{t($y(s),l,r,0)}),r}return null}function tE(e,t,r){if(G.isString(e))try{return(t||JSON.parse)(e),G.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Qf={transitional:op,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",l=s.indexOf("application/json")>-1,u=G.isObject(t);if(u&&G.isHTMLForm(t)&&(t=new FormData(t)),G.isFormData(t))return l?JSON.stringify(sp(t)):t;if(G.isArrayBuffer(t)||G.isBuffer(t)||G.isStream(t)||G.isFile(t)||G.isBlob(t)||G.isReadableStream(t))return t;if(G.isArrayBufferView(t))return t.buffer;if(G.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let w;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Jy(t,this.formSerializer).toString();if((w=G.isFileList(t))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Nl(w?{"files[]":t}:t,m&&new m,this.formSerializer)}}return u||l?(r.setContentType("application/json",!1),tE(t)):t}],transformResponse:[function(t){const r=this.transitional||Qf.transitional,s=r&&r.forcedJSONParsing,l=this.responseType==="json";if(G.isResponse(t)||G.isReadableStream(t))return t;if(t&&G.isString(t)&&(s&&!this.responseType||l)){const h=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(w){if(h)throw w.name==="SyntaxError"?Ae.from(w,Ae.ERR_BAD_RESPONSE,this,null,this.response):w}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{Qf.headers[e]={}});const Zf=Qf,nE=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rE=e=>{const t={};let r,s,l;return e&&e.split(`
`).forEach(function(h){l=h.indexOf(":"),r=h.substring(0,l).trim().toLowerCase(),s=h.substring(l+1).trim(),!(!r||t[r]&&nE[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},W0=Symbol("internals");function Vo(e){return e&&String(e).trim().toLowerCase()}function Aa(e){return e===!1||e==null?e:G.isArray(e)?e.map(Aa):String(e)}function iE(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const oE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Mc(e,t,r,s,l){if(G.isFunction(s))return s.call(this,t,r);if(l&&(t=r),!!G.isString(t)){if(G.isString(s))return t.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(t)}}function sE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function aE(e,t){const r=G.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(l,u,h){return this[s].call(this,t,l,u,h)},configurable:!0})})}class _l{constructor(t){t&&this.set(t)}set(t,r,s){const l=this;function u(w,m,p){const y=Vo(m);if(!y)throw new Error("header name must be a non-empty string");const C=G.findKey(l,y);(!C||l[C]===void 0||p===!0||p===void 0&&l[C]!==!1)&&(l[C||m]=Aa(w))}const h=(w,m)=>G.forEach(w,(p,y)=>u(p,y,m));if(G.isPlainObject(t)||t instanceof this.constructor)h(t,r);else if(G.isString(t)&&(t=t.trim())&&!oE(t))h(rE(t),r);else if(G.isHeaders(t))for(const[w,m]of t.entries())u(m,w,s);else t!=null&&u(r,t,s);return this}get(t,r){if(t=Vo(t),t){const s=G.findKey(this,t);if(s){const l=this[s];if(!r)return l;if(r===!0)return iE(l);if(G.isFunction(r))return r.call(this,l,s);if(G.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Vo(t),t){const s=G.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Mc(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let l=!1;function u(h){if(h=Vo(h),h){const w=G.findKey(s,h);w&&(!r||Mc(s,s[w],w,r))&&(delete s[w],l=!0)}}return G.isArray(t)?t.forEach(u):u(t),l}clear(t){const r=Object.keys(this);let s=r.length,l=!1;for(;s--;){const u=r[s];(!t||Mc(this,this[u],u,t,!0))&&(delete this[u],l=!0)}return l}normalize(t){const r=this,s={};return G.forEach(this,(l,u)=>{const h=G.findKey(s,u);if(h){r[h]=Aa(l),delete r[u];return}const w=t?sE(u):String(u).trim();w!==u&&delete r[u],r[w]=Aa(l),s[w]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return G.forEach(this,(s,l)=>{s!=null&&s!==!1&&(r[l]=t&&G.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[W0]=this[W0]={accessors:{}}).accessors,l=this.prototype;function u(h){const w=Vo(h);s[w]||(aE(l,h),s[w]=!0)}return G.isArray(t)?t.forEach(u):u(t),this}}_l.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(_l.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});G.freezeMethods(_l);const zn=_l;function Dc(e,t){const r=this||Zf,s=t||r,l=zn.from(s.headers);let u=s.data;return G.forEach(e,function(w){u=w.call(r,u,l.normalize(),t?t.status:void 0)}),l.normalize(),u}function ap(e){return!!(e&&e.__CANCEL__)}function Eo(e,t,r){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,r),this.name="CanceledError"}G.inherits(Eo,Ae,{__CANCEL__:!0});function lp(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Ae("Request failed with status code "+r.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function lE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cE(e,t){e=e||10;const r=new Array(e),s=new Array(e);let l=0,u=0,h;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),y=s[u];h||(h=p),r[l]=m,s[l]=p;let C=u,I=0;for(;C!==l;)I+=r[C++],C=C%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),p-h<t)return;const R=y&&p-y;return R?Math.round(I*1e3/R):void 0}}function uE(e,t){let r=0,s=1e3/t,l,u;const h=(p,y=Date.now())=>{r=y,l=null,u&&(clearTimeout(u),u=null),e.apply(null,p)};return[(...p)=>{const y=Date.now(),C=y-r;C>=s?h(p,y):(l=p,u||(u=setTimeout(()=>{u=null,h(l)},s-C)))},()=>l&&h(l)]}const Ka=(e,t,r=3)=>{let s=0;const l=cE(50,250);return uE(u=>{const h=u.loaded,w=u.lengthComputable?u.total:void 0,m=h-s,p=l(m),y=h<=w;s=h;const C={loaded:h,total:w,progress:w?h/w:void 0,bytes:m,rate:p||void 0,estimated:p&&w&&y?(w-h)/p:void 0,event:u,lengthComputable:w!=null,[t?"download":"upload"]:!0};e(C)},r)},G0=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Y0=e=>(...t)=>G.asap(()=>e(...t)),fE=ln.hasStandardBrowserEnv?function(){const t=ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent),r=document.createElement("a");let s;function l(u){let h=u;return t&&(r.setAttribute("href",h),h=r.href),r.setAttribute("href",h),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return s=l(window.location.href),function(h){const w=G.isString(h)?l(h):h;return w.protocol===s.protocol&&w.host===s.host}}():function(){return function(){return!0}}(),dE=ln.hasStandardBrowserEnv?{write(e,t,r,s,l,u){const h=[e+"="+encodeURIComponent(t)];G.isNumber(r)&&h.push("expires="+new Date(r).toGMTString()),G.isString(s)&&h.push("path="+s),G.isString(l)&&h.push("domain="+l),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cp(e,t){return e&&!hE(t)?gE(e,t):t}const X0=e=>e instanceof zn?{...e}:e;function Ci(e,t){t=t||{};const r={};function s(p,y,C){return G.isPlainObject(p)&&G.isPlainObject(y)?G.merge.call({caseless:C},p,y):G.isPlainObject(y)?G.merge({},y):G.isArray(y)?y.slice():y}function l(p,y,C){if(G.isUndefined(y)){if(!G.isUndefined(p))return s(void 0,p,C)}else return s(p,y,C)}function u(p,y){if(!G.isUndefined(y))return s(void 0,y)}function h(p,y){if(G.isUndefined(y)){if(!G.isUndefined(p))return s(void 0,p)}else return s(void 0,y)}function w(p,y,C){if(C in t)return s(p,y);if(C in e)return s(void 0,p)}const m={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:w,headers:(p,y)=>l(X0(p),X0(y),!0)};return G.forEach(Object.keys(Object.assign({},e,t)),function(y){const C=m[y]||l,I=C(e[y],t[y],y);G.isUndefined(I)&&C!==w||(r[y]=I)}),r}const up=e=>{const t=Ci({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:u,headers:h,auth:w}=t;t.headers=h=zn.from(h),t.url=ip(cp(t.baseURL,t.url),e.params,e.paramsSerializer),w&&h.set("Authorization","Basic "+btoa((w.username||"")+":"+(w.password?unescape(encodeURIComponent(w.password)):"")));let m;if(G.isFormData(r)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((m=h.getContentType())!==!1){const[p,...y]=m?m.split(";").map(C=>C.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...y].join("; "))}}if(ln.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(t)),s||s!==!1&&fE(t.url))){const p=l&&u&&dE.read(u);p&&h.set(l,p)}return t},pE=typeof XMLHttpRequest<"u",mE=pE&&function(e){return new Promise(function(r,s){const l=up(e);let u=l.data;const h=zn.from(l.headers).normalize();let{responseType:w,onUploadProgress:m,onDownloadProgress:p}=l,y,C,I,R,M;function D(){R&&R(),M&&M(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let k=new XMLHttpRequest;k.open(l.method.toUpperCase(),l.url,!0),k.timeout=l.timeout;function O(){if(!k)return;const N=zn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),X={data:!w||w==="text"||w==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:N,config:e,request:k};lp(function(U){r(U),D()},function(U){s(U),D()},X),k=null}"onloadend"in k?k.onloadend=O:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(O)},k.onabort=function(){k&&(s(new Ae("Request aborted",Ae.ECONNABORTED,e,k)),k=null)},k.onerror=function(){s(new Ae("Network Error",Ae.ERR_NETWORK,e,k)),k=null},k.ontimeout=function(){let F=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const X=l.transitional||op;l.timeoutErrorMessage&&(F=l.timeoutErrorMessage),s(new Ae(F,X.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,k)),k=null},u===void 0&&h.setContentType(null),"setRequestHeader"in k&&G.forEach(h.toJSON(),function(F,X){k.setRequestHeader(X,F)}),G.isUndefined(l.withCredentials)||(k.withCredentials=!!l.withCredentials),w&&w!=="json"&&(k.responseType=l.responseType),p&&([I,M]=Ka(p,!0),k.addEventListener("progress",I)),m&&k.upload&&([C,R]=Ka(m),k.upload.addEventListener("progress",C),k.upload.addEventListener("loadend",R)),(l.cancelToken||l.signal)&&(y=N=>{k&&(s(!N||N.type?new Eo(null,e,k):N),k.abort(),k=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const T=lE(l.url);if(T&&ln.protocols.indexOf(T)===-1){s(new Ae("Unsupported protocol "+T+":",Ae.ERR_BAD_REQUEST,e));return}k.send(u||null)})},xE=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,l;const u=function(p){if(!l){l=!0,w();const y=p instanceof Error?p:this.reason;s.abort(y instanceof Ae?y:new Eo(y instanceof Error?y.message:y))}};let h=t&&setTimeout(()=>{h=null,u(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const w=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),e=null)};e.forEach(p=>p.addEventListener("abort",u));const{signal:m}=s;return m.unsubscribe=()=>G.asap(w),m}},wE=xE,yE=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let s=0,l;for(;s<r;)l=s+t,yield e.slice(s,l),s=l},EE=async function*(e,t){for await(const r of CE(e))yield*yE(r,t)},CE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Q0=(e,t,r,s)=>{const l=EE(e,t);let u=0,h,w=m=>{h||(h=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:p,value:y}=await l.next();if(p){w(),m.close();return}let C=y.byteLength;if(r){let I=u+=C;r(I)}m.enqueue(new Uint8Array(y))}catch(p){throw w(p),p}},cancel(m){return w(m),l.return()}},{highWaterMark:2})},Ol=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fp=Ol&&typeof ReadableStream=="function",AE=Ol&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),dp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},SE=fp&&dp(()=>{let e=!1;const t=new Request(ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Z0=64*1024,Bu=fp&&dp(()=>G.isReadableStream(new Response("").body)),qa={stream:Bu&&(e=>e.body)};Ol&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qa[t]&&(qa[t]=G.isFunction(e[t])?r=>r[t]():(r,s)=>{throw new Ae(`Response type '${t}' is not supported`,Ae.ERR_NOT_SUPPORT,s)})})})(new Response);const vE=async e=>{if(e==null)return 0;if(G.isBlob(e))return e.size;if(G.isSpecCompliantForm(e))return(await new Request(ln.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(G.isArrayBufferView(e)||G.isArrayBuffer(e))return e.byteLength;if(G.isURLSearchParams(e)&&(e=e+""),G.isString(e))return(await AE(e)).byteLength},IE=async(e,t)=>{const r=G.toFiniteNumber(e.getContentLength());return r??vE(t)},TE=Ol&&(async e=>{let{url:t,method:r,data:s,signal:l,cancelToken:u,timeout:h,onDownloadProgress:w,onUploadProgress:m,responseType:p,headers:y,withCredentials:C="same-origin",fetchOptions:I}=up(e);p=p?(p+"").toLowerCase():"text";let R=wE([l,u&&u.toAbortSignal()],h),M;const D=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let k;try{if(m&&SE&&r!=="get"&&r!=="head"&&(k=await IE(y,s))!==0){let X=new Request(t,{method:"POST",body:s,duplex:"half"}),Z;if(G.isFormData(s)&&(Z=X.headers.get("content-type"))&&y.setContentType(Z),X.body){const[U,Q]=G0(k,Ka(Y0(m)));s=Q0(X.body,Z0,U,Q)}}G.isString(C)||(C=C?"include":"omit");const O="credentials"in Request.prototype;M=new Request(t,{...I,signal:R,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:O?C:void 0});let T=await fetch(M);const N=Bu&&(p==="stream"||p==="response");if(Bu&&(w||N&&D)){const X={};["status","statusText","headers"].forEach(Y=>{X[Y]=T[Y]});const Z=G.toFiniteNumber(T.headers.get("content-length")),[U,Q]=w&&G0(Z,Ka(Y0(w),!0))||[];T=new Response(Q0(T.body,Z0,U,()=>{Q&&Q(),D&&D()}),X)}p=p||"text";let F=await qa[G.findKey(qa,p)||"text"](T,e);return!N&&D&&D(),await new Promise((X,Z)=>{lp(X,Z,{data:F,headers:zn.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:M})})}catch(O){throw D&&D(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,e,M),{cause:O.cause||O}):Ae.from(O,O&&O.code,e,M)}}),Fu={http:Uy,xhr:mE,fetch:TE};G.forEach(Fu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const K0=e=>`- ${e}`,NE=e=>G.isFunction(e)||e===null||e===!1,hp={getAdapter:e=>{e=G.isArray(e)?e:[e];const{length:t}=e;let r,s;const l={};for(let u=0;u<t;u++){r=e[u];let h;if(s=r,!NE(r)&&(s=Fu[(h=String(r)).toLowerCase()],s===void 0))throw new Ae(`Unknown adapter '${h}'`);if(s)break;l[h||"#"+u]=s}if(!s){const u=Object.entries(l).map(([w,m])=>`adapter ${w} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(K0).join(`
`):" "+K0(u[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Fu};function Lc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Eo(null,e)}function q0(e){return Lc(e),e.headers=zn.from(e.headers),e.data=Dc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hp.getAdapter(e.adapter||Zf.adapter)(e).then(function(s){return Lc(e),s.data=Dc.call(e,e.transformResponse,s),s.headers=zn.from(s.headers),s},function(s){return ap(s)||(Lc(e),s&&s.response&&(s.response.data=Dc.call(e,e.transformResponse,s.response),s.response.headers=zn.from(s.response.headers))),Promise.reject(s)})}const gp="1.7.7",Kf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kf[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const J0={};Kf.transitional=function(t,r,s){function l(u,h){return"[Axios v"+gp+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,w)=>{if(t===!1)throw new Ae(l(h," has been removed"+(r?" in "+r:"")),Ae.ERR_DEPRECATED);return r&&!J0[h]&&(J0[h]=!0,console.warn(l(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(u,h,w):!0}};function _E(e,t,r){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const u=s[l],h=t[u];if(h){const w=e[u],m=w===void 0||h(w,u,e);if(m!==!0)throw new Ae("option "+u+" must be "+m,Ae.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ae("Unknown option "+u,Ae.ERR_BAD_OPTION)}}const Uu={assertOptions:_E,validators:Kf},_r=Uu.validators;class Ja{constructor(t){this.defaults=t,this.interceptors={request:new V0,response:new V0}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;const u=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ci(this.defaults,r);const{transitional:s,paramsSerializer:l,headers:u}=r;s!==void 0&&Uu.assertOptions(s,{silentJSONParsing:_r.transitional(_r.boolean),forcedJSONParsing:_r.transitional(_r.boolean),clarifyTimeoutError:_r.transitional(_r.boolean)},!1),l!=null&&(G.isFunction(l)?r.paramsSerializer={serialize:l}:Uu.assertOptions(l,{encode:_r.function,serialize:_r.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=u&&G.merge(u.common,u[r.method]);u&&G.forEach(["delete","get","head","post","put","patch","common"],M=>{delete u[M]}),r.headers=zn.concat(h,u);const w=[];let m=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(r)===!1||(m=m&&D.synchronous,w.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let y,C=0,I;if(!m){const M=[q0.bind(this),void 0];for(M.unshift.apply(M,w),M.push.apply(M,p),I=M.length,y=Promise.resolve(r);C<I;)y=y.then(M[C++],M[C++]);return y}I=w.length;let R=r;for(C=0;C<I;){const M=w[C++],D=w[C++];try{R=M(R)}catch(k){D.call(this,k);break}}try{y=q0.call(this,R)}catch(M){return Promise.reject(M)}for(C=0,I=p.length;C<I;)y=y.then(p[C++],p[C++]);return y}getUri(t){t=Ci(this.defaults,t);const r=cp(t.baseURL,t.url);return ip(r,t.params,t.paramsSerializer)}}G.forEach(["delete","get","head","options"],function(t){Ja.prototype[t]=function(r,s){return this.request(Ci(s||{},{method:t,url:r,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(t){function r(s){return function(u,h,w){return this.request(Ci(w||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ja.prototype[t]=r(),Ja.prototype[t+"Form"]=r(!0)});const Sa=Ja;class qf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(u){r=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const h=new Promise(w=>{s.subscribe(w),u=w}).then(l);return h.cancel=function(){s.unsubscribe(u)},h},t(function(u,h,w){s.reason||(s.reason=new Eo(u,h,w),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new qf(function(l){t=l}),cancel:t}}}const OE=qf;function bE(e){return function(r){return e.apply(null,r)}}function RE(e){return G.isObject(e)&&e.isAxiosError===!0}const ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ju).forEach(([e,t])=>{ju[t]=e});const ME=ju;function pp(e){const t=new Sa(e),r=Yg(Sa.prototype.request,t);return G.extend(r,Sa.prototype,t,{allOwnKeys:!0}),G.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return pp(Ci(e,l))},r}const wt=pp(Zf);wt.Axios=Sa;wt.CanceledError=Eo;wt.CancelToken=OE;wt.isCancel=ap;wt.VERSION=gp;wt.toFormData=Nl;wt.AxiosError=Ae;wt.Cancel=wt.CanceledError;wt.all=function(t){return Promise.all(t)};wt.spread=bE;wt.isAxiosError=RE;wt.mergeConfig=Ci;wt.AxiosHeaders=zn;wt.formToJSON=e=>sp(G.isHTMLForm(e)?new FormData(e):e);wt.getAdapter=hp.getAdapter;wt.HttpStatusCode=ME;wt.default=wt;const DE=wt,LE=()=>{const[e,t]=q.useState(null),r=_i();function s(u){const h=u.target.files?u.target.files[0]:null;h!=null&&t(h)}async function l(u){if(u.preventDefault(),e==null)alert("field is empty");else{const h=new FormData,w=localStorage.getItem("userId");if(h.append("profileImg",e),!w)alert("not authenticated");else{h.append("userId",w);const p=await(await DE.post("https://demo.evently.wiki/uploadImg",h,{headers:{"Content-Type":"multipart/form-data"}})).data,y=p.error?p.error:"";console.log(y),y.length>0&&alert(y),r("/UserLogin")}}}return console.log(e),B.jsx(B.Fragment,{children:B.jsx("div",{style:{backgroundColor:"#ffff"},className:" rounded-xl  w-[450px] h-[540px] shadow-md space-x-5",children:B.jsxs("form",{onSubmit:l,children:[B.jsx("h1",{className:"mt-10 text-black text-xl font-bold py-5",children:"File Upload"}),B.jsxs("div",{className:"flex flex-col justify-start ml-5 mt-8",children:[B.jsx("label",{className:"mt text-black font-bold text-left",children:"Upload your Profile Picture"}),B.jsx("span",{className:"text-left text-gray-300 font-bold mt-5 text-sm",children:"Please upload the file you want to share"}),B.jsxs("div",{className:"flex justify-center items-center mt-3 border border-gray-300 w-96 h-36",children:[B.jsxs("label",{className:"text-blue-500 font-bold cursor-pointer",htmlFor:"file",children:["Choose File"," ",B.jsx("span",{className:"block text-black font-bold text-sm overflow-hidden",children:e?`Selected file is: ${e.name}`:""})]}),B.jsx("input",{id:"file",type:"file",onChange:s,accept:"image/*",className:"hidden"})]})]}),B.jsx("button",{className:"mt-8 w-72 h-10 bg-blue-500 rounded-sm font-bold text-white",children:"Add Image"})]})})})},kE=()=>{const[e,t]=q.useState(),[r,s]=q.useState(),[l,u]=q.useState(null);return q.useEffect(()=>{async function h(){const m=await(await fetch("http://localhost:3000/api/dashboard",{method:"GET",credentials:"include"})).json();t(m.data),s(m.username),u(m.rsvpEvents)}h()},[]),B.jsx(B.Fragment,{children:B.jsxs("div",{className:"font-bold text-black",children:[B.jsx(Oi,{profileImgUrl:e||"empty",admin:!1}),B.jsx("h2",{className:"fixed top-28 left-0 ml-5 text-4xl",children:"Rsvp Events!"}),B.jsx("div",{className:"mt-40 ml-5",children:l&&l.map(h=>B.jsx(Wf,{admin:!1,_id:h._id,title:h.title,date:h.date,time:h.time,location:h.location,link:h.link,username:r||"",profileImg:e||"empty"},h._id))})]})})},PE=()=>{const[e,t]=q.useState({email:"",password:""});function r(l){const{name:u,value:h}=l.target;t(w=>({...w,[u]:h}))}async function s(l){if(l.preventDefault(),e.email===""||e.password==="")alert("Please fill out all fields.");else try{const u=await fetch("http://localhost:3000/admin-login",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(u.ok)window.location.href="/AdminDashboard",console.log("Redirecting to Admin Dashboard...");else{const w=(await u.json()).error||"Login failed.";console.error(w),alert(w)}}catch(u){console.error("Error during login:",u),alert("Something went wrong. Please try again later.")}}return B.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:B.jsxs("div",{style:{backgroundColor:"#ffffff"},className:"rounded-xl w-[450px] h-[400px] shadow-md p-5 space-y-5",children:[B.jsx("h1",{className:"text-center text-2xl font-bold text-black",children:"Admin Login"}),B.jsxs("form",{onSubmit:s,className:"space-y-4",children:[B.jsx("input",{className:"w-full h-10 pl-2 py-2 bg-white text-black border-gray-300 border rounded",type:"email",id:"email",name:"email",placeholder:"Admin Email",onChange:r,value:e.email}),B.jsx("input",{className:"w-full h-10 pl-2 py-2 bg-white text-black border-gray-300 border rounded",type:"password",id:"password",name:"password",placeholder:"Password",onChange:r,value:e.password}),B.jsx("button",{type:"submit",className:"w-full h-10 bg-blue-500 rounded text-white font-bold hover:bg-blue-700 transition duration-300",children:"Login"})]})]})})},BE=()=>{const[e,t]=q.useState(),r="Admin",[s,l]=q.useState(null);return q.useEffect(()=>{async function u(){const w=await(await fetch("http://localhost:3000/admin-dashboard",{method:"GET",credentials:"include"})).json();t(w.data),l(w.events)}u()},[]),B.jsx(B.Fragment,{children:B.jsxs("div",{className:"font-bold text-black",children:[B.jsx(Oi,{profileImgUrl:"empty",admin:!0}),B.jsx("h1",{className:"fixed top-28 left-0 ml-5 text-4xl",children:`Welcome, ${r}!`}),B.jsx("div",{className:"mt-40 ml-5",children:s&&s.map(u=>B.jsx(Wf,{_id:u._id,title:u.title,date:u.date,time:u.time,location:u.location,link:u.link,username:r,profileImg:e||"empty",admin:!0},u._id))})]})})},FE=()=>{const e=Ni(),t=_i(),r=e.state||{_id:"",title:"Unknown Event",date:"Unknown Date",time:"Unknown Time",location:"Unknown Location",link:""},s=()=>{t(`/qr-generator/${r._id}`)};return B.jsxs(B.Fragment,{children:[B.jsx(Oi,{profileImgUrl:"empty",admin:!0}),B.jsxs("div",{className:"flex flex-col items-center mt-10",children:[B.jsx("h1",{className:"text-4xl font-bold mb-5 text-black",children:r.title}),B.jsxs("div",{className:"w-3/4 p-5 border-2 rounded-lg shadow-md",children:[B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Date:"})," ",r.date]}),B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Time:"})," ",r.time]}),B.jsxs("p",{className:"text-lg text-black",children:[B.jsx("strong",{children:"Location:"})," ",r.location]}),B.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:"View Event"}),B.jsx("div",{className:"flex mt-5 space-x-4",children:B.jsx("button",{onClick:s,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Show QR"})})]}),B.jsx("button",{onClick:()=>t(-1),className:"mt-5 bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Go Back"})]})]})};var UE=Object.defineProperty,$a=Object.getOwnPropertySymbols,mp=Object.prototype.hasOwnProperty,xp=Object.prototype.propertyIsEnumerable,$0=(e,t,r)=>t in e?UE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zu=(e,t)=>{for(var r in t||(t={}))mp.call(t,r)&&$0(e,r,t[r]);if($a)for(var r of $a(t))xp.call(t,r)&&$0(e,r,t[r]);return e},Hu=(e,t)=>{var r={};for(var s in e)mp.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&$a)for(var s of $a(e))t.indexOf(s)<0&&xp.call(e,s)&&(r[s]=e[s]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ai;(e=>{const t=class Ie{constructor(m,p,y,C){if(this.version=m,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],m<Ie.MIN_VERSION||m>Ie.MAX_VERSION)throw new RangeError("Version value out of range");if(C<-1||C>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let I=[];for(let M=0;M<this.size;M++)I.push(!1);for(let M=0;M<this.size;M++)this.modules.push(I.slice()),this.isFunction.push(I.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(y);if(this.drawCodewords(R),C==-1){let M=1e9;for(let D=0;D<8;D++){this.applyMask(D),this.drawFormatBits(D);const k=this.getPenaltyScore();k<M&&(C=D,M=k),this.applyMask(D)}}l(0<=C&&C<=7),this.mask=C,this.applyMask(C),this.drawFormatBits(C),this.isFunction=[]}static encodeText(m,p){const y=e.QrSegment.makeSegments(m);return Ie.encodeSegments(y,p)}static encodeBinary(m,p){const y=e.QrSegment.makeBytes(m);return Ie.encodeSegments([y],p)}static encodeSegments(m,p,y=1,C=40,I=-1,R=!0){if(!(Ie.MIN_VERSION<=y&&y<=C&&C<=Ie.MAX_VERSION)||I<-1||I>7)throw new RangeError("Invalid value");let M,D;for(M=y;;M++){const N=Ie.getNumDataCodewords(M,p)*8,F=h.getTotalBits(m,M);if(F<=N){D=F;break}if(M>=C)throw new RangeError("Data too long")}for(const N of[Ie.Ecc.MEDIUM,Ie.Ecc.QUARTILE,Ie.Ecc.HIGH])R&&D<=Ie.getNumDataCodewords(M,N)*8&&(p=N);let k=[];for(const N of m){r(N.mode.modeBits,4,k),r(N.numChars,N.mode.numCharCountBits(M),k);for(const F of N.getData())k.push(F)}l(k.length==D);const O=Ie.getNumDataCodewords(M,p)*8;l(k.length<=O),r(0,Math.min(4,O-k.length),k),r(0,(8-k.length%8)%8,k),l(k.length%8==0);for(let N=236;k.length<O;N^=253)r(N,8,k);let T=[];for(;T.length*8<k.length;)T.push(0);return k.forEach((N,F)=>T[F>>>3]|=N<<7-(F&7)),new Ie(M,p,T,I)}getModule(m,p){return 0<=m&&m<this.size&&0<=p&&p<this.size&&this.modules[p][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),p=m.length;for(let y=0;y<p;y++)for(let C=0;C<p;C++)y==0&&C==0||y==0&&C==p-1||y==p-1&&C==0||this.drawAlignmentPattern(m[y],m[C]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const p=this.errorCorrectionLevel.formatBits<<3|m;let y=p;for(let I=0;I<10;I++)y=y<<1^(y>>>9)*1335;const C=(p<<10|y)^21522;l(C>>>15==0);for(let I=0;I<=5;I++)this.setFunctionModule(8,I,s(C,I));this.setFunctionModule(8,7,s(C,6)),this.setFunctionModule(8,8,s(C,7)),this.setFunctionModule(7,8,s(C,8));for(let I=9;I<15;I++)this.setFunctionModule(14-I,8,s(C,I));for(let I=0;I<8;I++)this.setFunctionModule(this.size-1-I,8,s(C,I));for(let I=8;I<15;I++)this.setFunctionModule(8,this.size-15+I,s(C,I));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let y=0;y<12;y++)m=m<<1^(m>>>11)*7973;const p=this.version<<12|m;l(p>>>18==0);for(let y=0;y<18;y++){const C=s(p,y),I=this.size-11+y%3,R=Math.floor(y/3);this.setFunctionModule(I,R,C),this.setFunctionModule(R,I,C)}}drawFinderPattern(m,p){for(let y=-4;y<=4;y++)for(let C=-4;C<=4;C++){const I=Math.max(Math.abs(C),Math.abs(y)),R=m+C,M=p+y;0<=R&&R<this.size&&0<=M&&M<this.size&&this.setFunctionModule(R,M,I!=2&&I!=4)}}drawAlignmentPattern(m,p){for(let y=-2;y<=2;y++)for(let C=-2;C<=2;C++)this.setFunctionModule(m+C,p+y,Math.max(Math.abs(C),Math.abs(y))!=1)}setFunctionModule(m,p,y){this.modules[p][m]=y,this.isFunction[p][m]=!0}addEccAndInterleave(m){const p=this.version,y=this.errorCorrectionLevel;if(m.length!=Ie.getNumDataCodewords(p,y))throw new RangeError("Invalid argument");const C=Ie.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][p],I=Ie.ECC_CODEWORDS_PER_BLOCK[y.ordinal][p],R=Math.floor(Ie.getNumRawDataModules(p)/8),M=C-R%C,D=Math.floor(R/C);let k=[];const O=Ie.reedSolomonComputeDivisor(I);for(let N=0,F=0;N<C;N++){let X=m.slice(F,F+D-I+(N<M?0:1));F+=X.length;const Z=Ie.reedSolomonComputeRemainder(X,O);N<M&&X.push(0),k.push(X.concat(Z))}let T=[];for(let N=0;N<k[0].length;N++)k.forEach((F,X)=>{(N!=D-I||X>=M)&&T.push(F[N])});return l(T.length==R),T}drawCodewords(m){if(m.length!=Math.floor(Ie.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let C=0;C<this.size;C++)for(let I=0;I<2;I++){const R=y-I,D=(y+1&2)==0?this.size-1-C:C;!this.isFunction[D][R]&&p<m.length*8&&(this.modules[D][R]=s(m[p>>>3],7-(p&7)),p++)}}l(p==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let y=0;y<this.size;y++){let C;switch(m){case 0:C=(y+p)%2==0;break;case 1:C=p%2==0;break;case 2:C=y%3==0;break;case 3:C=(y+p)%3==0;break;case 4:C=(Math.floor(y/3)+Math.floor(p/2))%2==0;break;case 5:C=y*p%2+y*p%3==0;break;case 6:C=(y*p%2+y*p%3)%2==0;break;case 7:C=((y+p)%2+y*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][y]&&C&&(this.modules[p][y]=!this.modules[p][y])}}getPenaltyScore(){let m=0;for(let I=0;I<this.size;I++){let R=!1,M=0,D=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[I][k]==R?(M++,M==5?m+=Ie.PENALTY_N1:M>5&&m++):(this.finderPenaltyAddHistory(M,D),R||(m+=this.finderPenaltyCountPatterns(D)*Ie.PENALTY_N3),R=this.modules[I][k],M=1);m+=this.finderPenaltyTerminateAndCount(R,M,D)*Ie.PENALTY_N3}for(let I=0;I<this.size;I++){let R=!1,M=0,D=[0,0,0,0,0,0,0];for(let k=0;k<this.size;k++)this.modules[k][I]==R?(M++,M==5?m+=Ie.PENALTY_N1:M>5&&m++):(this.finderPenaltyAddHistory(M,D),R||(m+=this.finderPenaltyCountPatterns(D)*Ie.PENALTY_N3),R=this.modules[k][I],M=1);m+=this.finderPenaltyTerminateAndCount(R,M,D)*Ie.PENALTY_N3}for(let I=0;I<this.size-1;I++)for(let R=0;R<this.size-1;R++){const M=this.modules[I][R];M==this.modules[I][R+1]&&M==this.modules[I+1][R]&&M==this.modules[I+1][R+1]&&(m+=Ie.PENALTY_N2)}let p=0;for(const I of this.modules)p=I.reduce((R,M)=>R+(M?1:0),p);const y=this.size*this.size,C=Math.ceil(Math.abs(p*20-y*10)/y)-1;return l(0<=C&&C<=9),m+=C*Ie.PENALTY_N4,l(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let y=[6];for(let C=this.size-7;y.length<m;C-=p)y.splice(1,0,C);return y}}static getNumRawDataModules(m){if(m<Ie.MIN_VERSION||m>Ie.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*m+128)*m+64;if(m>=2){const y=Math.floor(m/7)+2;p-=(25*y-10)*y-55,m>=7&&(p-=36)}return l(208<=p&&p<=29648),p}static getNumDataCodewords(m,p){return Math.floor(Ie.getNumRawDataModules(m)/8)-Ie.ECC_CODEWORDS_PER_BLOCK[p.ordinal][m]*Ie.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let p=[];for(let C=0;C<m-1;C++)p.push(0);p.push(1);let y=1;for(let C=0;C<m;C++){for(let I=0;I<p.length;I++)p[I]=Ie.reedSolomonMultiply(p[I],y),I+1<p.length&&(p[I]^=p[I+1]);y=Ie.reedSolomonMultiply(y,2)}return p}static reedSolomonComputeRemainder(m,p){let y=p.map(C=>0);for(const C of m){const I=C^y.shift();y.push(0),p.forEach((R,M)=>y[M]^=Ie.reedSolomonMultiply(R,I))}return y}static reedSolomonMultiply(m,p){if(m>>>8||p>>>8)throw new RangeError("Byte out of range");let y=0;for(let C=7;C>=0;C--)y=y<<1^(y>>>7)*285,y^=(p>>>C&1)*m;return l(y>>>8==0),y}finderPenaltyCountPatterns(m){const p=m[1];l(p<=this.size*3);const y=p>0&&m[2]==p&&m[3]==p*3&&m[4]==p&&m[5]==p;return(y&&m[0]>=p*4&&m[6]>=p?1:0)+(y&&m[6]>=p*4&&m[0]>=p?1:0)}finderPenaltyTerminateAndCount(m,p,y){return m&&(this.finderPenaltyAddHistory(p,y),p=0),p+=this.size,this.finderPenaltyAddHistory(p,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(m,p){p[0]==0&&(m+=this.size),p.pop(),p.unshift(m)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(w,m,p){if(m<0||m>31||w>>>m)throw new RangeError("Value out of range");for(let y=m-1;y>=0;y--)p.push(w>>>y&1)}function s(w,m){return(w>>>m&1)!=0}function l(w){if(!w)throw new Error("Assertion error")}const u=class ct{constructor(m,p,y){if(this.mode=m,this.numChars=p,this.bitData=y,p<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(m){let p=[];for(const y of m)r(y,8,p);return new ct(ct.Mode.BYTE,m.length,p)}static makeNumeric(m){if(!ct.isNumeric(m))throw new RangeError("String contains non-numeric characters");let p=[];for(let y=0;y<m.length;){const C=Math.min(m.length-y,3);r(parseInt(m.substring(y,y+C),10),C*3+1,p),y+=C}return new ct(ct.Mode.NUMERIC,m.length,p)}static makeAlphanumeric(m){if(!ct.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],y;for(y=0;y+2<=m.length;y+=2){let C=ct.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y))*45;C+=ct.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y+1)),r(C,11,p)}return y<m.length&&r(ct.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y)),6,p),new ct(ct.Mode.ALPHANUMERIC,m.length,p)}static makeSegments(m){return m==""?[]:ct.isNumeric(m)?[ct.makeNumeric(m)]:ct.isAlphanumeric(m)?[ct.makeAlphanumeric(m)]:[ct.makeBytes(ct.toUtf8ByteArray(m))]}static makeEci(m){let p=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)r(m,8,p);else if(m<16384)r(2,2,p),r(m,14,p);else if(m<1e6)r(6,3,p),r(m,21,p);else throw new RangeError("ECI assignment value out of range");return new ct(ct.Mode.ECI,0,p)}static isNumeric(m){return ct.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return ct.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,p){let y=0;for(const C of m){const I=C.mode.numCharCountBits(p);if(C.numChars>=1<<I)return 1/0;y+=4+I+C.bitData.length}return y}static toUtf8ByteArray(m){m=encodeURI(m);let p=[];for(let y=0;y<m.length;y++)m.charAt(y)!="%"?p.push(m.charCodeAt(y)):(p.push(parseInt(m.substring(y+1,y+3),16)),y+=2);return p}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=u;e.QrSegment=u})(Ai||(Ai={}));(e=>{(t=>{const r=class{constructor(l,u){this.ordinal=l,this.formatBits=u}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Ai||(Ai={}));(e=>{(t=>{const r=class{constructor(l,u){this.modeBits=l,this.numBitsCharCount=u}numCharCountBits(l){return this.numBitsCharCount[Math.floor((l+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Ai||(Ai={}));var $i=Ai;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jE={L:$i.QrCode.Ecc.LOW,M:$i.QrCode.Ecc.MEDIUM,Q:$i.QrCode.Ecc.QUARTILE,H:$i.QrCode.Ecc.HIGH},wp=128,yp="L",Ep="#FFFFFF",Cp="#000000",Ap=!1,Sp=1,zE=4,HE=0,VE=.1;function vp(e,t=0){const r=[];return e.forEach(function(s,l){let u=null;s.forEach(function(h,w){if(!h&&u!==null){r.push(`M${u+t} ${l+t}h${w-u}v1H${u+t}z`),u=null;return}if(w===s.length-1){if(!h)return;u===null?r.push(`M${w+t},${l+t} h1v1H${w+t}z`):r.push(`M${u+t},${l+t} h${w+1-u}v1H${u+t}z`);return}h&&u===null&&(u=w)})}),r.join("")}function Ip(e,t){return e.slice().map((r,s)=>s<t.y||s>=t.y+t.h?r:r.map((l,u)=>u<t.x||u>=t.x+t.w?l:!1))}function WE(e,t,r,s){if(s==null)return null;const l=e.length+r*2,u=Math.floor(t*VE),h=l/t,w=(s.width||u)*h,m=(s.height||u)*h,p=s.x==null?e.length/2-w/2:s.x*h,y=s.y==null?e.length/2-m/2:s.y*h,C=s.opacity==null?1:s.opacity;let I=null;if(s.excavate){let M=Math.floor(p),D=Math.floor(y),k=Math.ceil(w+p-M),O=Math.ceil(m+y-D);I={x:M,y:D,w:k,h:O}}const R=s.crossOrigin;return{x:p,y,h:m,w,excavation:I,opacity:C,crossOrigin:R}}function GE(e,t){return t!=null?Math.max(Math.floor(t),0):e?zE:HE}function Tp({value:e,level:t,minVersion:r,includeMargin:s,marginSize:l,imageSettings:u,size:h,boostLevel:w}){let m=ft.useMemo(()=>{const M=(Array.isArray(e)?e:[e]).reduce((D,k)=>(D.push(...$i.QrSegment.makeSegments(k)),D),[]);return $i.QrCode.encodeSegments(M,jE[t],r,void 0,void 0,w)},[e,t,r,w]);const{cells:p,margin:y,numCells:C,calculatedImageSettings:I}=ft.useMemo(()=>{let R=m.getModules();const M=GE(s,l),D=R.length+M*2,k=WE(R,h,M,u);return{cells:R,margin:M,numCells:D,calculatedImageSettings:k}},[m,h,u,s,l]);return{qrcode:m,margin:y,cells:p,numCells:C,calculatedImageSettings:I}}var YE=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Np=ft.forwardRef(function(t,r){const s=t,{value:l,size:u=wp,level:h=yp,bgColor:w=Ep,fgColor:m=Cp,includeMargin:p=Ap,minVersion:y=Sp,boostLevel:C,marginSize:I,imageSettings:R}=s,D=Hu(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:k}=D,O=Hu(D,["style"]),T=R==null?void 0:R.src,N=ft.useRef(null),F=ft.useRef(null),X=ft.useCallback(Ee=>{N.current=Ee,typeof r=="function"?r(Ee):r&&(r.current=Ee)},[r]),[Z,U]=ft.useState(!1),{margin:Q,cells:Y,numCells:de,calculatedImageSettings:we}=Tp({value:l,level:h,minVersion:y,boostLevel:C,includeMargin:p,marginSize:I,imageSettings:R,size:u});ft.useEffect(()=>{if(N.current!=null){const Ee=N.current,H=Ee.getContext("2d");if(!H)return;let be=Y;const ue=F.current,re=we!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;re&&we.excavation!=null&&(be=Ip(Y,we.excavation));const he=window.devicePixelRatio||1;Ee.height=Ee.width=u*he;const me=u/de*he;H.scale(me,me),H.fillStyle=w,H.fillRect(0,0,de,de),H.fillStyle=m,YE?H.fill(new Path2D(vp(be,Q))):Y.forEach(function(Ge,Ne){Ge.forEach(function(Zt,Ze){Zt&&H.fillRect(Ze+Q,Ne+Q,1,1)})}),we&&(H.globalAlpha=we.opacity),re&&H.drawImage(ue,we.x+Q,we.y+Q,we.w,we.h)}}),ft.useEffect(()=>{U(!1)},[T]);const ae=zu({height:u,width:u},k);let ye=null;return T!=null&&(ye=ft.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{U(!0)},ref:F,crossOrigin:we==null?void 0:we.crossOrigin})),ft.createElement(ft.Fragment,null,ft.createElement("canvas",zu({style:ae,height:u,width:u,ref:X,role:"img"},O)),ye)});Np.displayName="QRCodeCanvas";var XE=ft.forwardRef(function(t,r){const s=t,{value:l,size:u=wp,level:h=yp,bgColor:w=Ep,fgColor:m=Cp,includeMargin:p=Ap,minVersion:y=Sp,boostLevel:C,title:I,marginSize:R,imageSettings:M}=s,D=Hu(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:k,cells:O,numCells:T,calculatedImageSettings:N}=Tp({value:l,level:h,minVersion:y,boostLevel:C,includeMargin:p,marginSize:R,imageSettings:M,size:u});let F=O,X=null;M!=null&&N!=null&&(N.excavation!=null&&(F=Ip(O,N.excavation)),X=ft.createElement("image",{href:M.src,height:N.h,width:N.w,x:N.x+k,y:N.y+k,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const Z=vp(F,k);return ft.createElement("svg",zu({height:u,width:u,viewBox:`0 0 ${T} ${T}`,ref:r,role:"img"},D),!!I&&ft.createElement("title",null,I),ft.createElement("path",{fill:w,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),ft.createElement("path",{fill:m,d:Z,shapeRendering:"crispEdges"}),X)});XE.displayName="QRCodeSVG";var _p={},Co={},Wn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEventSourceSupported=e.isReactNative=e.ReadyState=e.DEFAULT_HEARTBEAT=e.UNPARSABLE_JSON_OBJECT=e.DEFAULT_RECONNECT_INTERVAL_MS=e.DEFAULT_RECONNECT_LIMIT=e.SOCKET_IO_PING_CODE=e.SOCKET_IO_PATH=e.SOCKET_IO_PING_INTERVAL=e.DEFAULT_EVENT_SOURCE_OPTIONS=e.EMPTY_EVENT_HANDLERS=e.DEFAULT_OPTIONS=void 0;var t=1,r=1e3*t;e.DEFAULT_OPTIONS={},e.EMPTY_EVENT_HANDLERS={},e.DEFAULT_EVENT_SOURCE_OPTIONS={withCredentials:!1,events:e.EMPTY_EVENT_HANDLERS},e.SOCKET_IO_PING_INTERVAL=25*r,e.SOCKET_IO_PATH="/socket.io/?EIO=3&transport=websocket",e.SOCKET_IO_PING_CODE="2",e.DEFAULT_RECONNECT_LIMIT=20,e.DEFAULT_RECONNECT_INTERVAL_MS=5e3,e.UNPARSABLE_JSON_OBJECT={},e.DEFAULT_HEARTBEAT={message:"ping",timeout:6e4,interval:25e3};var s;(function(u){u[u.UNINSTANTIATED=-1]="UNINSTANTIATED",u[u.CONNECTING=0]="CONNECTING",u[u.OPEN=1]="OPEN",u[u.CLOSING=2]="CLOSING",u[u.CLOSED=3]="CLOSED"})(s||(e.ReadyState=s={}));var l=function(){try{return"EventSource"in globalThis}catch{return!1}};e.isReactNative=typeof navigator<"u"&&navigator.product==="ReactNative",e.isEventSourceSupported=!e.isReactNative&&l()})(Wn);var bl={},Rl={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetWebSockets=e.sharedWebSockets=void 0,e.sharedWebSockets={};var t=function(r){if(r&&e.sharedWebSockets.hasOwnProperty(r))delete e.sharedWebSockets[r];else for(var s in e.sharedWebSockets)e.sharedWebSockets.hasOwnProperty(s)&&delete e.sharedWebSockets[s]};e.resetWebSockets=t})(Rl);var Ml={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.setUpSocketIOPing=sr.appendQueryParams=sr.parseSocketIOUrl=void 0;var el=Wn,QE=function(e){if(e){var t=/^https|wss/.test(e),r=e.replace(/^(https?|wss?)(:\/\/)?/,""),s=r.replace(/\/$/,""),l=t?"wss":"ws";return"".concat(l,"://").concat(s).concat(el.SOCKET_IO_PATH)}else if(e===""){var t=/^https/.test(window.location.protocol),l=t?"wss":"ws",u=window.location.port?":".concat(window.location.port):"";return"".concat(l,"://").concat(window.location.hostname).concat(u).concat(el.SOCKET_IO_PATH)}return e};sr.parseSocketIOUrl=QE;var ZE=function(e,t){t===void 0&&(t={});var r=/\?([\w]+=[\w]+)/,s=r.test(e),l="".concat(Object.entries(t).reduce(function(u,h){var w=h[0],m=h[1];return u+"".concat(w,"=").concat(m,"&")},"").slice(0,-1));return"".concat(e).concat(s?"&":"?").concat(l)};sr.appendQueryParams=ZE;var KE=function(e,t){t===void 0&&(t=el.SOCKET_IO_PING_INTERVAL);var r=function(){return e(el.SOCKET_IO_PING_CODE)};return window.setInterval(r,t)};sr.setUpSocketIOPing=KE;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});Dl.heartbeat=qE;var kc=Wn;function qE(e,t,r){var s=r||{},l=s.interval,u=l===void 0?kc.DEFAULT_HEARTBEAT.interval:l,h=s.timeout,w=h===void 0?kc.DEFAULT_HEARTBEAT.timeout:h,m=s.message,p=m===void 0?kc.DEFAULT_HEARTBEAT.message:m,y=setInterval(function(){if(t.current+w<=Date.now())console.warn("Heartbeat timed out, closing connection, last message was seen ".concat(Date.now()-t.current,"ms ago")),e.close();else if(t.current+u<=Date.now())try{typeof p=="function"?e.send(p()):e.send(p)}catch(C){console.error("Heartbeat failed, closing connection",C instanceof Error?C.message:C),e.close()}},u);return e.addEventListener("close",function(){clearInterval(y)}),function(){}}var Ao={},Ll={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetSubscribers=e.removeSubscriber=e.addSubscriber=e.hasSubscribers=e.getSubscribers=void 0;var t={},r=[],s=function(m){return(0,e.hasSubscribers)(m)?Array.from(t[m]):r};e.getSubscribers=s;var l=function(m){var p;return((p=t[m])===null||p===void 0?void 0:p.size)>0};e.hasSubscribers=l;var u=function(m,p){t[m]=t[m]||new Set,t[m].add(p)};e.addSubscriber=u;var h=function(m,p){t[m].delete(p)};e.removeSubscriber=h;var w=function(m){if(m&&t.hasOwnProperty(m))delete t[m];else for(var p in t)t.hasOwnProperty(p)&&delete t[p]};e.resetSubscribers=w})(Ll);Object.defineProperty(Ao,"__esModule",{value:!0});Ao.assertIsWebSocket=e3;Ao.resetGlobalState=t3;var JE=Rl,$E=Ll;function e3(e,t){if(!t&&!(e instanceof WebSocket))throw new Error("")}function t3(e){(0,$E.resetSubscribers)(e),(0,JE.resetWebSockets)(e)}var tl=Ue&&Ue.__assign||function(){return tl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},tl.apply(this,arguments)};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.attachListeners=void 0;var n3=sr,r3=Dl,rr=Wn,i3=Ao,o3=function(e,t,r,s){e.onmessage=function(l){var u;t.current.onMessage&&t.current.onMessage(l),typeof(s==null?void 0:s.current)=="number"&&(s.current=Date.now()),!(typeof t.current.filter=="function"&&t.current.filter(l)!==!0)&&(t.current.heartbeat&&typeof t.current.heartbeat!="boolean"&&((u=t.current.heartbeat)===null||u===void 0?void 0:u.returnMessage)===l.data||r(l))}},s3=function(e,t,r,s,l){e.onopen=function(u){if(t.current.onOpen&&t.current.onOpen(u),s.current=0,r(rr.ReadyState.OPEN),t.current.heartbeat&&e instanceof WebSocket){var h=typeof t.current.heartbeat=="boolean"?void 0:t.current.heartbeat;l.current=Date.now(),(0,r3.heartbeat)(e,l,h)}}},a3=function(e,t,r,s,l){if(rr.isEventSourceSupported&&e instanceof EventSource)return function(){};(0,i3.assertIsWebSocket)(e,t.current.skipAssert);var u;return e.onclose=function(h){var w;if(t.current.onClose&&t.current.onClose(h),r(rr.ReadyState.CLOSED),t.current.shouldReconnect&&t.current.shouldReconnect(h)){var m=(w=t.current.reconnectAttempts)!==null&&w!==void 0?w:rr.DEFAULT_RECONNECT_LIMIT;if(l.current<m){var p=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(l.current):t.current.reconnectInterval;u=window.setTimeout(function(){l.current++,s()},p??rr.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(m),console.warn("Max reconnect attempts of ".concat(m," exceeded"))}},function(){return u&&window.clearTimeout(u)}},l3=function(e,t,r,s,l){var u;return e.onerror=function(h){var w;if(t.current.onError&&t.current.onError(h),rr.isEventSourceSupported&&e instanceof EventSource&&(t.current.onClose&&t.current.onClose(tl(tl({},h),{code:1006,reason:"An error occurred with the EventSource: ".concat(h),wasClean:!1})),r(rr.ReadyState.CLOSED),e.close()),t.current.retryOnError)if(l.current<((w=t.current.reconnectAttempts)!==null&&w!==void 0?w:rr.DEFAULT_RECONNECT_LIMIT)){var m=typeof t.current.reconnectInterval=="function"?t.current.reconnectInterval(l.current):t.current.reconnectInterval;u=window.setTimeout(function(){l.current++,s()},m??rr.DEFAULT_RECONNECT_INTERVAL_MS)}else t.current.onReconnectStop&&t.current.onReconnectStop(t.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(t.current.reconnectAttempts," exceeded"))},function(){return u&&window.clearTimeout(u)}},c3=function(e,t,r,s,l,u,h){var w=t.setLastMessage,m=t.setReadyState,p,y,C;return r.current.fromSocketIO&&(p=(0,n3.setUpSocketIOPing)(h)),o3(e,r,w,u),s3(e,r,m,l,u),y=a3(e,r,m,s,l),C=l3(e,r,m,s,l),function(){m(rr.ReadyState.CLOSING),y(),C(),e.close(),p&&clearInterval(p)}};Ml.attachListeners=c3;var kl={},nl=Ue&&Ue.__assign||function(){return nl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},nl.apply(this,arguments)};Object.defineProperty(kl,"__esModule",{value:!0});kl.attachSharedListeners=void 0;var u3=Rl,pi=Wn,Is=Ll,f3=sr,d3=Dl,h3=function(e,t,r){e.onmessage=function(s){(0,Is.getSubscribers)(t).forEach(function(l){var u;l.optionsRef.current.onMessage&&l.optionsRef.current.onMessage(s),typeof((u=l==null?void 0:l.lastMessageTime)===null||u===void 0?void 0:u.current)=="number"&&(l.lastMessageTime.current=Date.now()),!(typeof l.optionsRef.current.filter=="function"&&l.optionsRef.current.filter(s)!==!0)&&(r&&typeof r!="boolean"&&(r==null?void 0:r.returnMessage)===s.data||l.setLastMessage(s))})}},g3=function(e,t,r){e.onopen=function(s){(0,Is.getSubscribers)(t).forEach(function(l){l.reconnectCount.current=0,l.optionsRef.current.onOpen&&l.optionsRef.current.onOpen(s),l.setReadyState(pi.ReadyState.OPEN),r&&e instanceof WebSocket&&(l.lastMessageTime.current=Date.now(),(0,d3.heartbeat)(e,l.lastMessageTime,typeof r=="boolean"?void 0:r))})}},p3=function(e,t){e instanceof WebSocket&&(e.onclose=function(r){(0,Is.getSubscribers)(t).forEach(function(s){s.optionsRef.current.onClose&&s.optionsRef.current.onClose(r),s.setReadyState(pi.ReadyState.CLOSED)}),delete u3.sharedWebSockets[t],(0,Is.getSubscribers)(t).forEach(function(s){var l;if(s.optionsRef.current.shouldReconnect&&s.optionsRef.current.shouldReconnect(r)){var u=(l=s.optionsRef.current.reconnectAttempts)!==null&&l!==void 0?l:pi.DEFAULT_RECONNECT_LIMIT;if(s.reconnectCount.current<u){var h=typeof s.optionsRef.current.reconnectInterval=="function"?s.optionsRef.current.reconnectInterval(s.reconnectCount.current):s.optionsRef.current.reconnectInterval;setTimeout(function(){s.reconnectCount.current++,s.reconnect.current()},h??pi.DEFAULT_RECONNECT_INTERVAL_MS)}else s.optionsRef.current.onReconnectStop&&s.optionsRef.current.onReconnectStop(s.optionsRef.current.reconnectAttempts),console.warn("Max reconnect attempts of ".concat(u," exceeded"))}})})},m3=function(e,t){e.onerror=function(r){(0,Is.getSubscribers)(t).forEach(function(s){s.optionsRef.current.onError&&s.optionsRef.current.onError(r),pi.isEventSourceSupported&&e instanceof EventSource&&(s.optionsRef.current.onClose&&s.optionsRef.current.onClose(nl(nl({},r),{code:1006,reason:"An error occurred with the EventSource: ".concat(r),wasClean:!1})),s.setReadyState(pi.ReadyState.CLOSED))}),pi.isEventSourceSupported&&e instanceof EventSource&&e.close()}},x3=function(e,t,r,s){var l;return r.current.fromSocketIO&&(l=(0,f3.setUpSocketIOPing)(s)),h3(e,t,r.current.heartbeat),p3(e,t),g3(e,t,r.current.heartbeat),m3(e,t),function(){l&&clearInterval(l)}};kl.attachSharedListeners=x3;Object.defineProperty(bl,"__esModule",{value:!0});bl.createOrJoinSocket=void 0;var Mr=Rl,Zo=Wn,w3=Ml,y3=kl,Vu=Ll,E3=function(e,t,r,s,l){return function(){if((0,Vu.removeSubscriber)(e,t),!(0,Vu.hasSubscribers)(e)){try{var u=Mr.sharedWebSockets[e];u instanceof WebSocket&&(u.onclose=function(h){r.current.onClose&&r.current.onClose(h),s(Zo.ReadyState.CLOSED)}),u.close()}catch{}l&&l(),delete Mr.sharedWebSockets[e]}}},C3=function(e,t,r,s,l,u,h,w,m){if(!Zo.isEventSourceSupported&&s.current.eventSourceOptions)throw Zo.isReactNative?new Error("EventSource is not supported in ReactNative"):new Error("EventSource is not supported");if(s.current.share){var p=null;Mr.sharedWebSockets[t]===void 0?(Mr.sharedWebSockets[t]=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),e.current=Mr.sharedWebSockets[t],r(Zo.ReadyState.CONNECTING),p=(0,y3.attachSharedListeners)(Mr.sharedWebSockets[t],t,s,m)):(e.current=Mr.sharedWebSockets[t],r(Mr.sharedWebSockets[t].readyState));var y={setLastMessage:l,setReadyState:r,optionsRef:s,reconnectCount:h,lastMessageTime:w,reconnect:u};return(0,Vu.addSubscriber)(t,y),E3(t,y,s,r,p)}else{if(e.current=s.current.eventSourceOptions?new EventSource(t,s.current.eventSourceOptions):new WebSocket(t,s.current.protocols),r(Zo.ReadyState.CONNECTING),!e.current)throw new Error("WebSocket failed to be created");return(0,w3.attachListeners)(e.current,{setLastMessage:l,setReadyState:r},s,u.current,h,w,m)}};bl.createOrJoinSocket=C3;var Op={};(function(e){var t=Ue&&Ue.__awaiter||function(m,p,y,C){function I(R){return R instanceof y?R:new y(function(M){M(R)})}return new(y||(y=Promise))(function(R,M){function D(T){try{O(C.next(T))}catch(N){M(N)}}function k(T){try{O(C.throw(T))}catch(N){M(N)}}function O(T){T.done?R(T.value):I(T.value).then(D,k)}O((C=C.apply(m,p||[])).next())})},r=Ue&&Ue.__generator||function(m,p){var y={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},C,I,R,M=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return M.next=D(0),M.throw=D(1),M.return=D(2),typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function D(O){return function(T){return k([O,T])}}function k(O){if(C)throw new TypeError("Generator is already executing.");for(;M&&(M=0,O[0]&&(y=0)),y;)try{if(C=1,I&&(R=O[0]&2?I.return:O[0]?I.throw||((R=I.return)&&R.call(I),0):I.next)&&!(R=R.call(I,O[1])).done)return R;switch(I=0,R&&(O=[O[0]&2,R.value]),O[0]){case 0:case 1:R=O;break;case 4:return y.label++,{value:O[1],done:!1};case 5:y.label++,I=O[1],O=[0];continue;case 7:O=y.ops.pop(),y.trys.pop();continue;default:if(R=y.trys,!(R=R.length>0&&R[R.length-1])&&(O[0]===6||O[0]===2)){y=0;continue}if(O[0]===3&&(!R||O[1]>R[0]&&O[1]<R[3])){y.label=O[1];break}if(O[0]===6&&y.label<R[1]){y.label=R[1],R=O;break}if(R&&y.label<R[2]){y.label=R[2],y.ops.push(O);break}R[2]&&y.ops.pop(),y.trys.pop();continue}O=p.call(m,y)}catch(T){O=[6,T],I=0}finally{C=R=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},s=Ue&&Ue.__spreadArray||function(m,p,y){if(y||arguments.length===2)for(var C=0,I=p.length,R;C<I;C++)(R||!(C in p))&&(R||(R=Array.prototype.slice.call(p,0,C)),R[C]=p[C]);return m.concat(R||Array.prototype.slice.call(p))};Object.defineProperty(e,"__esModule",{value:!0}),e.getUrl=void 0;var l=sr,u=Wn,h=function(m){return new Promise(function(p){return window.setTimeout(p,m)})},w=function(m,p){for(var y=[],C=2;C<arguments.length;C++)y[C-2]=arguments[C];return t(void 0,s([m,p],y,!0),void 0,function(I,R,M){var D,k,O,T,N,F,X,Z;return M===void 0&&(M=0),r(this,function(U){switch(U.label){case 0:if(typeof I!="function")return[3,10];U.label=1;case 1:return U.trys.push([1,3,,9]),[4,I()];case 2:return D=U.sent(),[3,9];case 3:return U.sent(),R.current.retryOnError?(k=(F=R.current.reconnectAttempts)!==null&&F!==void 0?F:u.DEFAULT_RECONNECT_LIMIT,M<k?(O=typeof R.current.reconnectInterval=="function"?R.current.reconnectInterval(M):R.current.reconnectInterval,[4,h(O??u.DEFAULT_RECONNECT_INTERVAL_MS)]):[3,5]):[3,7];case 4:return U.sent(),[2,(0,e.getUrl)(I,R,M+1)];case 5:return(Z=(X=R.current).onReconnectStop)===null||Z===void 0||Z.call(X,M),[2,null];case 6:return[3,8];case 7:return[2,null];case 8:return[3,9];case 9:return[3,11];case 10:D=I,U.label=11;case 11:return T=R.current.fromSocketIO?(0,l.parseSocketIOUrl)(D):D,N=R.current.queryParams?(0,l.appendQueryParams)(T,R.current.queryParams):T,[2,N]}})})};e.getUrl=w})(Op);var bp={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.websocketWrapper=void 0;var t=function(r,s){return new Proxy(r,{get:function(l,u){var h=l[u];return u==="reconnect"?s:typeof h=="function"?(console.error("Calling methods directly on the websocket is not supported at this moment. You must use the methods returned by useWebSocket."),function(){}):h},set:function(l,u,h){return/^on/.test(u)?(console.warn("The websocket's event handlers should be defined through the options object passed into useWebSocket."),!1):(l[u]=h,!0)}})};e.websocketWrapper=t,e.default=e.websocketWrapper})(bp);var Dr=Ue&&Ue.__assign||function(){return Dr=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Dr.apply(this,arguments)},A3=Ue&&Ue.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},S3=Ue&&Ue.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=w(0),h.throw=w(1),h.return=w(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},v3=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Co,"__esModule",{value:!0});Co.useWebSocket=void 0;var jt=q,Pc=Mg,$n=Wn,I3=bl,T3=Op,N3=v3(bp),ed=Ao,_3=function(e,t,r){t===void 0&&(t=$n.DEFAULT_OPTIONS),r===void 0&&(r=!0);var s=(0,jt.useState)(null),l=s[0],u=s[1],h=(0,jt.useState)({}),w=h[0],m=h[1],p=(0,jt.useMemo)(function(){if(l)try{return JSON.parse(l.data)}catch{return $n.UNPARSABLE_JSON_OBJECT}return null},[l]),y=(0,jt.useRef)(null),C=(0,jt.useRef)(null),I=(0,jt.useRef)(function(){}),R=(0,jt.useRef)(0),M=(0,jt.useRef)(Date.now()),D=(0,jt.useRef)([]),k=(0,jt.useRef)(null),O=(0,jt.useRef)(t);O.current=t;var T=y.current&&w[y.current]!==void 0?w[y.current]:e!==null&&r===!0?$n.ReadyState.CONNECTING:$n.ReadyState.UNINSTANTIATED,N=t.queryParams?JSON.stringify(t.queryParams):null,F=(0,jt.useCallback)(function(U,Q){var Y;if(Q===void 0&&(Q=!0),$n.isEventSourceSupported&&C.current instanceof EventSource){console.warn("Unable to send a message from an eventSource");return}((Y=C.current)===null||Y===void 0?void 0:Y.readyState)===$n.ReadyState.OPEN?((0,ed.assertIsWebSocket)(C.current,O.current.skipAssert),C.current.send(U)):Q&&D.current.push(U)},[]),X=(0,jt.useCallback)(function(U,Q){Q===void 0&&(Q=!0),F(JSON.stringify(U),Q)},[F]),Z=(0,jt.useCallback)(function(){return O.current.share!==!0||$n.isEventSourceSupported&&C.current instanceof EventSource?C.current:(k.current===null&&C.current&&((0,ed.assertIsWebSocket)(C.current,O.current.skipAssert),k.current=(0,N3.default)(C.current,I)),k.current)},[]);return(0,jt.useEffect)(function(){if(e!==null&&r===!0){var U,Q=!1,Y=!0,de=function(){return A3(void 0,void 0,void 0,function(){var we,ae,ye;return S3(this,function(Ee){switch(Ee.label){case 0:return we=y,[4,(0,T3.getUrl)(e,O)];case 1:return we.current=Ee.sent(),y.current===null?(console.error("Failed to get a valid URL. WebSocket connection aborted."),y.current="ABORTED",(0,Pc.flushSync)(function(){return m(function(H){return Dr(Dr({},H),{ABORTED:$n.ReadyState.CLOSED})})}),[2]):(ae=function(H){Q||(0,Pc.flushSync)(function(){return u(H)})},ye=function(H){Q||(0,Pc.flushSync)(function(){return m(function(be){var ue;return Dr(Dr({},be),y.current&&(ue={},ue[y.current]=H,ue))})})},Y&&(U=(0,I3.createOrJoinSocket)(C,y.current,ye,O,ae,I,R,M,F)),[2])}})})};return I.current=function(){Q||(k.current&&(k.current=null),U==null||U(),de())},de(),function(){Q=!0,Y=!1,k.current&&(k.current=null),U==null||U(),u(null)}}else(e===null||r===!1)&&(R.current=0,m(function(we){var ae;return Dr(Dr({},we),y.current&&(ae={},ae[y.current]=$n.ReadyState.CLOSED,ae))}))},[e,r,N,F]),(0,jt.useEffect)(function(){T===$n.ReadyState.OPEN&&D.current.splice(0).forEach(function(U){F(U)})},[T]),{sendMessage:F,sendJsonMessage:X,lastMessage:l,lastJsonMessage:p,readyState:T,getWebSocket:Z}};Co.useWebSocket=_3;var Pl={},rl=Ue&&Ue.__assign||function(){return rl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},rl.apply(this,arguments)};Object.defineProperty(Pl,"__esModule",{value:!0});Pl.useSocketIO=void 0;var td=q,O3=Co,b3=Wn,Bc={type:"empty",payload:null},R3=function(e){if(!e||!e.data)return Bc;var t=e.data.match(/\[.*]/);if(!t)return Bc;var r=JSON.parse(t);return!Array.isArray(r)||!r[1]?Bc:{type:r[0],payload:r[1]}},M3=function(e,t,r){t===void 0&&(t=b3.DEFAULT_OPTIONS),r===void 0&&(r=!0);var s=(0,td.useMemo)(function(){return rl(rl({},t),{fromSocketIO:!0})},[]),l=(0,O3.useWebSocket)(e,s,r),u=l.sendMessage,h=l.sendJsonMessage,w=l.lastMessage,m=l.readyState,p=l.getWebSocket,y=(0,td.useMemo)(function(){return R3(w)},[w]);return{sendMessage:u,sendJsonMessage:h,lastMessage:y,lastJsonMessage:y,readyState:m,getWebSocket:p}};Pl.useSocketIO=M3;var Bl={},il=Ue&&Ue.__assign||function(){return il=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},il.apply(this,arguments)},D3=Ue&&Ue.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(e);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(e,s[l])&&(r[s[l]]=e[s[l]]);return r};Object.defineProperty(Bl,"__esModule",{value:!0});Bl.useEventSource=void 0;var nd=q,L3=Co,rd=Wn,k3=function(e,t,r){t===void 0&&(t=rd.DEFAULT_EVENT_SOURCE_OPTIONS);var s=t.withCredentials,l=t.events,u=D3(t,["withCredentials","events"]);r===void 0&&(r=!0);var h=il(il({},u),{eventSourceOptions:{withCredentials:s}}),w=(0,nd.useRef)(rd.EMPTY_EVENT_HANDLERS);l&&(w.current=l);var m=(0,L3.useWebSocket)(e,h,r),p=m.lastMessage,y=m.readyState,C=m.getWebSocket;return(0,nd.useEffect)(function(){p!=null&&p.type&&Object.entries(w.current).forEach(function(I){var R=I[0],M=I[1];R===p.type&&M(p)})},[p]),{lastEvent:p,readyState:y,getEventSource:C}};Bl.useEventSource=k3;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resetGlobalState=e.useEventSource=e.ReadyState=e.useSocketIO=e.default=void 0;var t=Co;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.useWebSocket}});var r=Pl;Object.defineProperty(e,"useSocketIO",{enumerable:!0,get:function(){return r.useSocketIO}});var s=Wn;Object.defineProperty(e,"ReadyState",{enumerable:!0,get:function(){return s.ReadyState}});var l=Bl;Object.defineProperty(e,"useEventSource",{enumerable:!0,get:function(){return l.useEventSource}});var u=Ao;Object.defineProperty(e,"resetGlobalState",{enumerable:!0,get:function(){return u.resetGlobalState}})})(_p);const P3=Yu(_p),B3=()=>{const e="ws://localhost:3000",[t,r]=q.useState(e),[s,l]=q.useState(),{sendMessage:u,lastMessage:h,readyState:w}=P3(t);q.useEffect(()=>{if(h!==null){const y=JSON.parse(h.data);l(y.data)}},[h]);const m=q.useRef(null);q.useEffect(()=>()=>{m.current&&clearInterval(m.current)},[]);const p={0:"Connecting",1:"Open",2:"Closing",3:"Closed"}[w]||"Unknown";return console.log(`data sent over is${JSON.stringify(s)}`),console.log("Connection Status:",p),B.jsxs(B.Fragment,{children:[B.jsx(Oi,{profileImgUrl:"empty",admin:!0}),B.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"800px",height:"600px",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ccc",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:"20px"},children:[B.jsx("h1",{children:"QR Code!!"}),s&&B.jsx(Np,{id:"qr-code-canvas",value:JSON.stringify(s),size:256,bgColor:"#ffffff",fgColor:"#000000"})]})]})};var oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var id=new Map([[oe.QR_CODE,"QR_CODE"],[oe.AZTEC,"AZTEC"],[oe.CODABAR,"CODABAR"],[oe.CODE_39,"CODE_39"],[oe.CODE_93,"CODE_93"],[oe.CODE_128,"CODE_128"],[oe.DATA_MATRIX,"DATA_MATRIX"],[oe.MAXICODE,"MAXICODE"],[oe.ITF,"ITF"],[oe.EAN_13,"EAN_13"],[oe.EAN_8,"EAN_8"],[oe.PDF_417,"PDF_417"],[oe.RSS_14,"RSS_14"],[oe.RSS_EXPANDED,"RSS_EXPANDED"],[oe.UPC_A,"UPC_A"],[oe.UPC_E,"UPC_E"],[oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),od;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(od||(od={}));function F3(e){return Object.values(oe).includes(e)}var Kr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kr||(Kr={}));var Bn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Kr.SCAN_TYPE_CAMERA,Kr.SCAN_TYPE_FILE],e}(),Rp=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!id.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,id.get(t))},e}(),sd=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Wu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Wu||(Wu={}));var Mp=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Wu.UNKWOWN_ERROR}},e}(),Dp=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function tr(e){return typeof e>"u"||e===null}function U3(e,t,r){return e>r?r:e<t?t:e}var eo=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Fe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),ad=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Lp=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var s=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],u=new Set(l),h=Object.keys(t),w=0,m=h;w<m.length;w++){var p=m[w];if(u.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Gu={exports:{}};(function(e,t){(function(r,s){s(t)})(Ue,function(r){function s(A){return A==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var i in n)n.hasOwnProperty(i)&&(A[i]=n[i])};function u(A,n){l(A,n);function i(){this.constructor=A}A.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}function h(A,n){var i=Object.setPrototypeOf;i?i(A,n):A.__proto__=n}function w(A,n){n===void 0&&(n=A.constructor);var i=Error.captureStackTrace;i&&i(A,n)}var m=function(A){u(n,A);function n(i){var o=this.constructor,a=A.call(this,i)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1}),h(a,o.prototype),w(a),a}return n}(Error);class p extends m{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class C extends p{}C.kind="IllegalArgumentException";class I{constructor(n){if(this.binarizer=n,n===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,i){return this.binarizer.getBlackRow(n,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,i,o,a){const c=this.binarizer.getLuminanceSource().crop(n,i,o,a);return new I(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends p{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class M{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(n,i,o,a,c){for(;c--;)o[a++]=n[i++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class O extends k{constructor(n=void 0,i=void 0){super(i),this.index=n,this.message=i}}O.kind="ArrayIndexOutOfBoundsException";class T{static fill(n,i){for(let o=0,a=n.length;o<a;o++)n[o]=i}static fillWithin(n,i,o,a){T.rangeCheck(n.length,i,o);for(let c=i;c<o;c++)n[c]=a}static rangeCheck(n,i,o){if(i>o)throw new C("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new O(i);if(o>n)throw new O(o)}static asList(...n){return n}static create(n,i,o){return Array.from({length:n}).map(c=>Array.from({length:i}).fill(o))}static createInt32Array(n,i,o){return Array.from({length:n}).map(c=>Int32Array.from({length:i}).fill(o))}static equals(n,i){if(!n||!i||!n.length||!i.length||n.length!==i.length)return!1;for(let o=0,a=n.length;o<a;o++)if(n[o]!==i[o])return!1;return!0}static hashCode(n){if(n===null)return 0;let i=1;for(const o of n)i=31*i+o;return i}static fillUint8Array(n,i){for(let o=0;o!==n.length;o++)n[o]=i}static copyOf(n,i){return n.slice(0,i)}static copyOfUint8Array(n,i){if(n.length<=i){const o=new Uint8Array(i);return o.set(n),o}return n.slice(0,i)}static copyOfRange(n,i,o){const a=o-i,c=new Int32Array(a);return D.arraycopy(n,i,c,0,a),c}static binarySearch(n,i,o){o===void 0&&(o=T.numberComparator);let a=0,c=n.length-1;for(;a<=c;){const f=c+a>>1,d=o(i,n[f]);if(d>0)a=f+1;else if(d<0)c=f-1;else return f}return-a-1}static numberComparator(n,i){return n-i}}class N{static numberOfTrailingZeros(n){let i;if(n===0)return 32;let o=31;return i=n<<16,i!==0&&(o-=16,n=i),i=n<<8,i!==0&&(o-=8,n=i),i=n<<4,i!==0&&(o-=4,n=i),i=n<<2,i!==0&&(o-=2,n=i),o-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let i=1;return n>>>16||(i+=16,n<<=16),n>>>24||(i+=8,n<<=8),n>>>28||(i+=4,n<<=4),n>>>30||(i+=2,n<<=2),i-=n>>>31,i}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,i){return Math.trunc(n/i)}static parseInt(n,i=void 0){return parseInt(n,i)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(n,i){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,i==null?this.bits=F.makeArray(n):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const i=F.makeArray(n);D.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const i=this.size;if(n>=i)return i;const o=this.bits;let a=Math.floor(n/32),c=o[a];c&=~((1<<(n&31))-1);const f=o.length;for(;c===0;){if(++a===f)return i;c=o[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}getNextUnset(n){const i=this.size;if(n>=i)return i;const o=this.bits;let a=Math.floor(n/32),c=~o[a];c&=~((1<<(n&31))-1);const f=o.length;for(;c===0;){if(++a===f)return i;c=~o[a]}const d=a*32+N.numberOfTrailingZeros(c);return d>i?i:d}setBulk(n,i){this.bits[Math.floor(n/32)]=i}setRange(n,i){if(i<n||n<0||i>this.size)throw new C;if(i===n)return;i--;const o=Math.floor(n/32),a=Math.floor(i/32),c=this.bits;for(let f=o;f<=a;f++){const d=f>o?0:n&31,x=(2<<(f<a?31:i&31))-(1<<d);c[f]|=x}}clear(){const n=this.bits.length,i=this.bits;for(let o=0;o<n;o++)i[o]=0}isRange(n,i,o){if(i<n||n<0||i>this.size)throw new C;if(i===n)return!0;i--;const a=Math.floor(n/32),c=Math.floor(i/32),f=this.bits;for(let d=a;d<=c;d++){const g=d>a?0:n&31,E=(2<<(d<c?31:i&31))-(1<<g)&4294967295;if((f[d]&E)!==(o?E:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((n>>o-1&1)===1)}appendBitArray(n){const i=n.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(n.get(o))}xor(n){if(this.size!==n.size)throw new C("Sizes don't match");const i=this.bits;for(let o=0,a=i.length;o<a;o++)i[o]^=n.bits[o]}toBytes(n,i,o,a){for(let c=0;c<a;c++){let f=0;for(let d=0;d<8;d++)this.get(n)&&(f|=1<<7-d),n++;i[o+c]=f}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,a=this.bits;for(let c=0;c<o;c++){let f=a[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,n[i-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=n[0]>>>c;for(let d=1;d<o;d++){const g=n[d];f|=g<<32-c,n[d-1]=f,f=g>>>c}n[o-1]=f}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof F))return!1;const i=n;return this.size===i.size&&T.equals(this.bits,i.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let n="";for(let i=0,o=this.size;i<o;i++)i&7||(n+=" "),n+=this.get(i)?"X":".";return n}clone(){return new F(this.size,this.bits.slice())}}var X;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var Z=X;class U extends p{static getFormatInstance(){return new U}}U.kind="FormatException";var Q;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Q||(Q={}));class Y{constructor(n,i,o,...a){this.valueIdentifier=n,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=a,Y.VALUE_IDENTIFIER_TO_ECI.set(n,this),Y.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,d=c.length;f!==d;f++){const g=c[f];Y.VALUES_TO_ECI.set(g,this)}for(const f of a)Y.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new U("incorect value");const i=Y.VALUES_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}static getCharacterSetECIByName(n){const i=Y.NAME_TO_ECI.get(n);if(i===void 0)throw new U("incorect value");return i}equals(n){if(!(n instanceof Y))return!1;const i=n;return this.getName()===i.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(Q.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(Q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(Q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(Q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(Q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(Q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(Q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(Q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(Q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(Q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(Q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(Q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(Q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(Q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(Q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(Q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(Q.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(Q.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(Q.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(Q.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(Q.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(Q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(Q.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(Q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(Q.Big5,28,"Big5"),Y.GB18030=new Y(Q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(Q.EUC_KR,30,"EUC_KR","EUC-KR");class de extends p{}de.kind="UnsupportedOperationException";class we{static decode(n,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(n,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(n,o):new TextDecoder(o).decode(n)}static shouldDecodeOnFallback(n){return!we.isBrowser()&&n==="ISO-8859-1"}static encode(n,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(n,o):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof Y?n:Y.getCharacterSetECIByName(n)}static decodeFallback(n,i){const o=this.encodingCharacterSet(i);if(we.isDecodeFallbackSupported(o)){let a="";for(let c=0,f=n.length;c<f;c++){let d=n[c].toString(16);d.length<2&&(d="0"+d),a+="%"+d}return decodeURIComponent(a)}if(o.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new de(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(Y.UTF8)||n.equals(Y.ISO8859_1)||n.equals(Y.ASCII)}static encodeFallback(n){const o=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let c=0;c<o.length;c++)a.push(o[c].charCodeAt(0));return new Uint8Array(a)}}class ae{static castAsNonUtf8Char(n,i=null){const o=i?i.getName():this.ISO88591;return we.decode(new Uint8Array([n]),o)}static guessEncoding(n,i){if(i!=null&&i.get(Z.CHARACTER_SET)!==void 0)return i.get(Z.CHARACTER_SET).toString();const o=n.length;let a=!0,c=!0,f=!0,d=0,g=0,x=0,E=0,S=0,v=0,b=0,L=0,P=0,j=0,W=0;const ee=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let te=0;te<o&&(a||c||f);te++){const J=n[te]&255;f&&(d>0?J&128?d--:f=!1:J&128&&(J&64?(d++,J&32?(d++,J&16?(d++,J&8?f=!1:E++):x++):g++):f=!1)),a&&(J>127&&J<160?a=!1:J>159&&(J<192||J===215||J===247)&&W++),c&&(S>0?J<64||J===127||J>252?c=!1:S--:J===128||J===160||J>239?c=!1:J>160&&J<224?(v++,L=0,b++,b>P&&(P=b)):J>127?(S++,b=0,L++,L>j&&(j=L)):(b=0,L=0))}return f&&d>0&&(f=!1),c&&S>0&&(c=!1),f&&(ee||g+x+E>0)?ae.UTF8:c&&(ae.ASSUME_SHIFT_JIS||P>=3||j>=3)?ae.SHIFT_JIS:a&&c?P===2&&v===2||W*10>=o?ae.SHIFT_JIS:ae.ISO88591:a?ae.ISO88591:c?ae.SHIFT_JIS:f?ae.UTF8:ae.PLATFORM_DEFAULT_ENCODING}static format(n,...i){let o=-1;function a(f,d,g,x,E,S){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let v=E?parseInt(E.substr(1)):void 0,b;switch(S){case"s":b=i[o];break;case"c":b=i[o][0];break;case"f":b=parseFloat(i[o]).toFixed(f);break;case"p":b=parseFloat(i[o]).toPrecision(f);break;case"e":b=parseFloat(i[o]).toExponential(f);break;case"x":b=parseInt(i[o]).toString(v||16);break;case"d":b=parseFloat(parseInt(i[o],v||10).toPrecision(f)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(v);let L=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;b.length<L;)b=d!==void 0?b+P:P+b;return b}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}static getBytes(n,i){return we.encode(n,i)}static getCharCode(n,i=0){return n.charCodeAt(i)}static getCharAt(n){return String.fromCharCode(n)}}ae.SHIFT_JIS=Y.SJIS.getName(),ae.GB2312="GB2312",ae.ISO88591=Y.ISO8859_1.getName(),ae.EUC_JP="EUC_JP",ae.UTF8=Y.UTF8.getName(),ae.PLATFORM_DEFAULT_ENCODING=ae.UTF8,ae.ASSUME_SHIFT_JIS=!1;class ye{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ae.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,i,o){for(let a=i;i<i+o;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+1)}substring(n,i){return this.value.substring(n,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,i){this.value=this.value.substr(0,n)+i+this.value.substr(n+i.length)}}class Ee{constructor(n,i,o,a){if(this.width=n,this.height=i,this.rowSize=o,this.bits=a,i==null&&(i=n),this.height=i,n<1||i<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((n+31)/32)),this.rowSize=o,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const i=n.length,o=n[0].length,a=new Ee(o,i);for(let c=0;c<i;c++){const f=n[c];for(let d=0;d<o;d++)f[d]&&a.set(d,c)}return a}static parseFromString(n,i,o){if(n===null)throw new C("stringRepresentation cannot be null");const a=new Array(n.length);let c=0,f=0,d=-1,g=0,x=0;for(;x<n.length;)if(n.charAt(x)===`
`||n.charAt(x)==="\r"){if(c>f){if(d===-1)d=c-f;else if(c-f!==d)throw new C("row lengths do not match");f=c,g++}x++}else if(n.substring(x,x+i.length)===i)x+=i.length,a[c]=!0,c++;else if(n.substring(x,x+o.length)===o)x+=o.length,a[c]=!1,c++;else throw new C("illegal character encountered: "+n.substring(x));if(c>f){if(d===-1)d=c-f;else if(c-f!==d)throw new C("row lengths do not match");g++}const E=new Ee(d,g);for(let S=0;S<c;S++)a[S]&&E.set(Math.floor(S%d),Math.floor(S/d));return E}get(n,i){const o=i*this.rowSize+Math.floor(n/32);return(this.bits[o]>>>(n&31)&1)!==0}set(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]|=1<<(n&31)&4294967295}unset(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]&=~(1<<(n&31)&4294967295)}flip(n,i){const o=i*this.rowSize+Math.floor(n/32);this.bits[o]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new C("input matrix dimensions do not match");const i=new F(Math.floor(this.width/32)+1),o=this.rowSize,a=this.bits;for(let c=0,f=this.height;c<f;c++){const d=c*o,g=n.getRow(c,i).getBitArray();for(let x=0;x<o;x++)a[d+x]^=g[x]}}clear(){const n=this.bits,i=n.length;for(let o=0;o<i;o++)n[o]=0}setRegion(n,i,o,a){if(i<0||n<0)throw new C("Left and top must be nonnegative");if(a<1||o<1)throw new C("Height and width must be at least 1");const c=n+o,f=i+a;if(f>this.height||c>this.width)throw new C("The region must fit inside the matrix");const d=this.rowSize,g=this.bits;for(let x=i;x<f;x++){const E=x*d;for(let S=n;S<c;S++)g[E+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(n,i){i==null||i.getSize()<this.width?i=new F(this.width):i.clear();const o=this.rowSize,a=this.bits,c=n*o;for(let f=0;f<o;f++)i.setBulk(f*32,a[c+f]);return i}setRow(n,i){D.arraycopy(i.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),i=this.getHeight();let o=new F(n),a=new F(n);for(let c=0,f=Math.floor((i+1)/2);c<f;c++)o=this.getRow(c,o),a=this.getRow(i-1-c,a),o.reverse(),a.reverse(),this.setRow(c,a),this.setRow(i-1-c,o)}getEnclosingRectangle(){const n=this.width,i=this.height,o=this.rowSize,a=this.bits;let c=n,f=i,d=-1,g=-1;for(let x=0;x<i;x++)for(let E=0;E<o;E++){const S=a[x*o+E];if(S!==0){if(x<f&&(f=x),x>g&&(g=x),E*32<c){let v=0;for(;!(S<<31-v&4294967295);)v++;E*32+v<c&&(c=E*32+v)}if(E*32+31>d){let v=31;for(;!(S>>>v);)v--;E*32+v>d&&(d=E*32+v)}}}return d<c||g<f?null:Int32Array.from([c,f,d-c+1,g-f+1])}getTopLeftOnBit(){const n=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const a=o/n;let c=o%n*32;const f=i[o];let d=0;for(;!(f<<31-d&4294967295);)d++;return c+=d,Int32Array.from([c,a])}getBottomRightOnBit(){const n=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const a=Math.floor(o/n);let c=Math.floor(o%n)*32;const f=i[o];let d=31;for(;!(f>>>d);)d--;return c+=d,Int32Array.from([c,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof Ee))return!1;const i=n;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&T.equals(this.bits,i.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+T.hashCode(this.bits),n}toString(n="X ",i="  ",o=`
`){return this.buildToString(n,i,o)}buildToString(n,i,o){let a=new ye;for(let c=0,f=this.height;c<f;c++){for(let d=0,g=this.width;d<g;d++)a.append(this.get(d,c)?n:i);a.append(o)}return a.toString()}clone(){return new Ee(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends p{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class be extends M{constructor(n){super(n),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(n,i){const o=this.getLuminanceSource(),a=o.getWidth();i==null||i.getSize()<a?i=new F(a):i.clear(),this.initArrays(a);const c=o.getRow(n,this.luminances),f=this.buckets;for(let g=0;g<a;g++)f[(c[g]&255)>>be.LUMINANCE_SHIFT]++;const d=be.estimateBlackPoint(f);if(a<3)for(let g=0;g<a;g++)(c[g]&255)<d&&i.set(g);else{let g=c[0]&255,x=c[1]&255;for(let E=1;E<a-1;E++){const S=c[E+1]&255;(x*4-g-S)/2<d&&i.set(E),g=x,x=S}}return i}getBlackMatrix(){const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight(),a=new Ee(i,o);this.initArrays(i);const c=this.buckets;for(let g=1;g<5;g++){const x=Math.floor(o*g/5),E=n.getRow(x,this.luminances),S=Math.floor(i*4/5);for(let v=Math.floor(i/5);v<S;v++){const b=E[v]&255;c[b>>be.LUMINANCE_SHIFT]++}}const f=be.estimateBlackPoint(c),d=n.getMatrix();for(let g=0;g<o;g++){const x=g*i;for(let E=0;E<i;E++)(d[x+E]&255)<f&&a.set(E,g)}return a}createBinarizer(n){return new be(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const i=this.buckets;for(let o=0;o<be.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(n){const i=n.length;let o=0,a=0,c=0;for(let E=0;E<i;E++)n[E]>c&&(a=E,c=n[E]),n[E]>o&&(o=n[E]);let f=0,d=0;for(let E=0;E<i;E++){const S=E-a,v=n[E]*S*S;v>d&&(f=E,d=v)}if(a>f){const E=a;a=f,f=E}if(f-a<=i/16)throw new H;let g=f-1,x=-1;for(let E=f-1;E>a;E--){const S=E-a,v=S*S*(f-E)*(o-n[E]);v>x&&(g=E,x=v)}return g<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class ue extends be{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),i=n.getWidth(),o=n.getHeight();if(i>=ue.MINIMUM_DIMENSION&&o>=ue.MINIMUM_DIMENSION){const a=n.getMatrix();let c=i>>ue.BLOCK_SIZE_POWER;i&ue.BLOCK_SIZE_MASK&&c++;let f=o>>ue.BLOCK_SIZE_POWER;o&ue.BLOCK_SIZE_MASK&&f++;const d=ue.calculateBlackPoints(a,c,f,i,o),g=new Ee(i,o);ue.calculateThresholdForBlock(a,c,f,i,o,d,g),this.matrix=g}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new ue(n)}static calculateThresholdForBlock(n,i,o,a,c,f,d){const g=c-ue.BLOCK_SIZE,x=a-ue.BLOCK_SIZE;for(let E=0;E<o;E++){let S=E<<ue.BLOCK_SIZE_POWER;S>g&&(S=g);const v=ue.cap(E,2,o-3);for(let b=0;b<i;b++){let L=b<<ue.BLOCK_SIZE_POWER;L>x&&(L=x);const P=ue.cap(b,2,i-3);let j=0;for(let ee=-2;ee<=2;ee++){const te=f[v+ee];j+=te[P-2]+te[P-1]+te[P]+te[P+1]+te[P+2]}const W=j/25;ue.thresholdBlock(n,L,S,W,a,d)}}}static cap(n,i,o){return n<i?i:n>o?o:n}static thresholdBlock(n,i,o,a,c,f){for(let d=0,g=o*c+i;d<ue.BLOCK_SIZE;d++,g+=c)for(let x=0;x<ue.BLOCK_SIZE;x++)(n[g+x]&255)<=a&&f.set(i+x,o+d)}static calculateBlackPoints(n,i,o,a,c){const f=c-ue.BLOCK_SIZE,d=a-ue.BLOCK_SIZE,g=new Array(o);for(let x=0;x<o;x++){g[x]=new Int32Array(i);let E=x<<ue.BLOCK_SIZE_POWER;E>f&&(E=f);for(let S=0;S<i;S++){let v=S<<ue.BLOCK_SIZE_POWER;v>d&&(v=d);let b=0,L=255,P=0;for(let W=0,ee=E*a+v;W<ue.BLOCK_SIZE;W++,ee+=a){for(let te=0;te<ue.BLOCK_SIZE;te++){const J=n[ee+te]&255;b+=J,J<L&&(L=J),J>P&&(P=J)}if(P-L>ue.MIN_DYNAMIC_RANGE)for(W++,ee+=a;W<ue.BLOCK_SIZE;W++,ee+=a)for(let te=0;te<ue.BLOCK_SIZE;te++)b+=n[ee+te]&255}let j=b>>ue.BLOCK_SIZE_POWER*2;if(P-L<=ue.MIN_DYNAMIC_RANGE&&(j=L/2,x>0&&S>0)){const W=(g[x-1][S]+2*g[x][S-1]+g[x-1][S-1])/4;L<W&&(j=W)}g[x][S]=j}}return g}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class re{constructor(n,i){this.width=n,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,i,o,a){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let i=new ye;for(let o=0;o<this.height;o++){const a=this.getRow(o,n);for(let c=0;c<this.width;c++){const f=a[c]&255;let d;f<64?d="#":f<128?d="+":f<192?d=".":d=" ",i.append(d)}i.append(`
`)}return i.toString()}}class he extends re{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,i){const o=this.delegate.getRow(n,i),a=this.getWidth();for(let c=0;c<a;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const n=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let a=0;a<i;a++)o[a]=255-(n[a]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(n,i,o,a){return new he(this.delegate.crop(n,i,o,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class me extends re{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const i=n.getContext("2d").getImageData(0,0,n.width,n.height);return me.toGrayscaleBuffer(i.data,n.width,n.height)}static toGrayscaleBuffer(n,i,o){const a=new Uint8ClampedArray(i*o);for(let c=0,f=0,d=n.length;c<d;c+=4,f++){let g;if(n[c+3]===0)g=255;else{const E=n[c],S=n[c+1],v=n[c+2];g=306*E+601*S+117*v+512>>10}a[f]=g}return a}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const o=this.getWidth(),a=n*o;return i===null?i=this.buffer.slice(a,a+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(a,a+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,i,o,a){return super.crop(n,i,o,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const i=this.getTempCanvasElement(),o=i.getContext("2d"),a=n*me.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(a))*c+Math.abs(Math.sin(a))*f),g=Math.ceil(Math.abs(Math.sin(a))*c+Math.abs(Math.cos(a))*f);return i.width=d,i.height=g,o.translate(d/2,g/2),o.rotate(a),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=me.makeBufferFromCanvasImageData(i),this}invert(){return new he(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(n,i,o){this.deviceId=n,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ne=(globalThis||Ue||self||window||void 0)&&(globalThis||Ue||self||window||void 0).__awaiter||function(A,n,i,o){function a(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function d(E){try{x(o.next(E))}catch(S){f(S)}}function g(E){try{x(o.throw(E))}catch(S){f(S)}}function x(E){E.done?c(E.value):a(E.value).then(d,g)}x((o=o.apply(A,n||[])).next())})};class Zt{constructor(n,i=500,o){this.reader=n,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return Ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of n){const a=o.kind==="video"?"videoinput":o.kind;if(a!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${i.length+1}`,d=o.groupId,g={deviceId:c,label:f,kind:a,groupId:d};i.push(g)}return i})}getVideoInputDevices(){return Ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Ge(i.deviceId,i.label))})}findDeviceById(n){return Ne(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===n):null})}decodeFromInputVideoDevice(n,i){return Ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,i)})}decodeOnceFromVideoDevice(n,i){return Ne(this,void 0,void 0,function*(){this.reset();let o;n?o={deviceId:{exact:n}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeOnceFromConstraints(a,i)})}decodeOnceFromConstraints(n,i){return Ne(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(n,i){return Ne(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(n,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(n,i,o){return Ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,i,o)})}decodeFromVideoDevice(n,i,o){return Ne(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeFromConstraints(c,i,o)})}decodeFromConstraints(n,i,o){return Ne(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,i,o)})}decodeFromStream(n,i,o){return Ne(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,i);return yield this.decodeContinuously(a,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,i){return Ne(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,n),this.videoElement=o,this.stream=n,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(n){return new Promise((i,o)=>this.playVideoOnLoad(n,()=>i()))}playVideoOnLoad(n,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",i),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return Ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,i){const o=document.getElementById(n);if(!o)throw new y(`element with id '${n}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new y(`element with id '${n}' must be an ${i} element`);return o}decodeFromImage(n,i){if(!n&&!i)throw new y("either imageElement with a src set or an url must be provided");return i&&!n?this.decodeFromImageUrl(i):this.decodeFromImageElement(n)}decodeFromVideo(n,i){if(!n&&!i)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,i,o){if(n===void 0&&i===void 0)throw new y("Either an element with a src set or an URL must be provided");return i&&!n?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(n,o)}decodeFromImageElement(n){if(!n)throw new y("An image element must be provided.");this.reset();const i=this.prepareImageElement(n);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(n){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(n,i){const o=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(n){if(!n)throw new y("A video element must be provided.");this.reset();const i=this.prepareVideoElement(n);return this.videoElement=i,i}decodeFromImageUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=n,o}decodeFromVideoUrl(n){if(!n)throw new y("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=n,o}decodeFromVideoUrlContinuously(n,i){if(!n)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(o,i);return o.src=n,a}_decodeOnLoadImage(n){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(i,o),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return Ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,i){return Ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,i)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let i;return typeof n>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(i=n),i}prepareVideoElement(n){let i;return!n&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof n=="string"&&(i=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(i=n),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(n,i=!0,o=!0){this._stopAsyncDecode=!1;const a=(c,f)=>{if(this._stopAsyncDecode){f(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(n);c(d)}catch(d){const g=i&&d instanceof H,E=(d instanceof R||d instanceof U)&&o;if(g||E)return setTimeout(a,this._timeBetweenDecodingAttempts,c,f);f(d)}};return new Promise((c,f)=>a(c,f))}decodeContinuously(n,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);i(a,null),setTimeout(o,this.timeBetweenScansMillis)}catch(a){i(null,a);const c=a instanceof R||a instanceof U,f=a instanceof H;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(n){const i=this.createBinaryBitmap(n);return this.decodeBitmap(i)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,i,o){i||(i={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(n,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(n,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const i=this.getCaptureCanvas(n),o=new me(i),a=new ue(o);return new I(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const i=this.createCaptureCanvas(n);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(o=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(o=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),i.style.width=o+"px",i.style.height=a+"px",i.width=o,i.height=a,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,i){try{n.srcObject=i}catch{n.src=URL.createObjectURL(i)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class Ze{constructor(n,i,o=i==null?0:8*i.length,a,c,f=D.currentTimeMillis()){this.text=n,this.rawBytes=i,this.numBits=o,this.resultPoints=a,this.format=c,this.timestamp=f,this.text=n,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=a,this.format=c,this.resultMetadata=null,f==null?this.timestamp=D.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,i)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const i=this.resultPoints;if(i===null)this.resultPoints=n;else if(n!==null&&n.length>0){const o=new Array(i.length+n.length);D.arraycopy(i,0,o,0,i.length),D.arraycopy(n,0,o,i.length,n.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ei;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ei||(ei={}));var ce=ei,yr;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(yr||(yr={}));var vt=yr;class So{constructor(n,i,o,a,c=-1,f=-1){this.rawBytes=n,this.text=i,this.byteSegments=o,this.ecLevel=a,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class vo{exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}static addOrSubtract(n,i){return n^i}}class Kt{constructor(n,i){if(i.length===0)throw new C;this.field=n;const o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-a),D.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(n===1){o=0;for(let f=0,d=i.length;f!==d;f++){const g=i[f];o=vo.addOrSubtract(o,g)}return o}o=i[0];const a=i.length,c=this.field;for(let f=1;f<a;f++)o=vo.addOrSubtract(c.multiply(n,o),i[f]);return o}addOrSubtract(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){const f=i;i=o,o=f}let a=new Int32Array(o.length);const c=o.length-i.length;D.arraycopy(o,0,a,0,c);for(let f=c;f<o.length;f++)a[f]=vo.addOrSubtract(i[f-c],o[f]);return new Kt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,f=new Int32Array(o+c-1),d=this.field;for(let g=0;g<o;g++){const x=i[g];for(let E=0;E<c;E++)f[g+E]=vo.addOrSubtract(f[g+E],d.multiply(x,a[E]))}return new Kt(d,f)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const i=this.coefficients.length,o=this.field,a=new Int32Array(i),c=this.coefficients;for(let f=0;f<i;f++)a[f]=o.multiply(c[f],n);return new Kt(o,a)}multiplyByMonomial(n,i){if(n<0)throw new C;if(i===0)return this.field.getZero();const o=this.coefficients,a=o.length,c=new Int32Array(a+n),f=this.field;for(let d=0;d<a;d++)c[d]=f.multiply(o[d],i);return new Kt(f,c)}divide(n){if(!this.field.equals(n.field))throw new C("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new C("Divide by 0");const i=this.field;let o=i.getZero(),a=this;const c=n.getCoefficient(n.getDegree()),f=i.inverse(c);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const d=a.getDegree()-n.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),f),x=n.multiplyByMonomial(d,g),E=i.buildMonomial(d,g);o=o.addOrSubtract(E),a=a.addOrSubtract(x)}return[o,a]}toString(){let n="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(n+=" - ",o=-o):n.length>0&&(n+=" + "),i===0||o!==1){const a=this.field.log(o);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}i!==0&&(i===1?n+="x":(n+="x^",n+=i))}}return n}}class Ds extends p{}Ds.kind="ArithmeticException";class Le extends vo{constructor(n,i,o){super(),this.primitive=n,this.size=i,this.generatorBase=o;const a=new Int32Array(i);let c=1;for(let d=0;d<i;d++)a[d]=c,c*=2,c>=i&&(c^=n,c&=i-1);this.expTable=a;const f=new Int32Array(i);for(let d=0;d<i-1;d++)f[a[d]]=d;this.logTable=f,this.zero=new Kt(this,Int32Array.from([0])),this.one=new Kt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new C;if(i===0)return this.zero;const o=new Int32Array(n+1);return o[0]=i,new Kt(this,o)}inverse(n){if(n===0)throw new Ds;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Le.AZTEC_DATA_12=new Le(4201,4096,1),Le.AZTEC_DATA_10=new Le(1033,1024,1),Le.AZTEC_DATA_6=new Le(67,64,1),Le.AZTEC_PARAM=new Le(19,16,1),Le.QR_CODE_FIELD_256=new Le(285,256,0),Le.DATA_MATRIX_FIELD_256=new Le(301,256,1),Le.AZTEC_DATA_8=Le.DATA_MATRIX_FIELD_256,Le.MAXICODE_FIELD_64=Le.AZTEC_DATA_6;class bi extends p{}bi.kind="ReedSolomonException";class Gn extends p{}Gn.kind="IllegalStateException";class Io{constructor(n){this.field=n}decode(n,i){const o=this.field,a=new Kt(o,n),c=new Int32Array(i);let f=!0;for(let b=0;b<i;b++){const L=a.evaluateAt(o.exp(b+o.getGeneratorBase()));c[c.length-1-b]=L,L!==0&&(f=!1)}if(f)return;const d=new Kt(o,c),g=this.runEuclideanAlgorithm(o.buildMonomial(i,1),d,i),x=g[0],E=g[1],S=this.findErrorLocations(x),v=this.findErrorMagnitudes(E,S);for(let b=0;b<S.length;b++){const L=n.length-1-o.log(S[b]);if(L<0)throw new bi("Bad error location");n[L]=Le.addOrSubtract(n[L],v[b])}}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){const b=n;n=i,i=b}const a=this.field;let c=n,f=i,d=a.getZero(),g=a.getOne();for(;f.getDegree()>=(o/2|0);){let b=c,L=d;if(c=f,d=g,c.isZero())throw new bi("r_{i-1} was zero");f=b;let P=a.getZero();const j=c.getCoefficient(c.getDegree()),W=a.inverse(j);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const ee=f.getDegree()-c.getDegree(),te=a.multiply(f.getCoefficient(f.getDegree()),W);P=P.addOrSubtract(a.buildMonomial(ee,te)),f=f.addOrSubtract(c.multiplyByMonomial(ee,te))}if(g=P.multiply(d).addOrSubtract(L),f.getDegree()>=c.getDegree())throw new Gn("Division algorithm failed to reduce polynomial?")}const x=g.getCoefficient(0);if(x===0)throw new bi("sigmaTilde(0) was zero");const E=a.inverse(x),S=g.multiplyScalar(E),v=f.multiplyScalar(E);return[S,v]}findErrorLocations(n){const i=n.getDegree();if(i===1)return Int32Array.from([n.getCoefficient(1)]);const o=new Int32Array(i);let a=0;const c=this.field;for(let f=1;f<c.getSize()&&a<i;f++)n.evaluateAt(f)===0&&(o[a]=c.inverse(f),a++);if(a!==i)throw new bi("Error locator degree does not match number of roots");return o}findErrorMagnitudes(n,i){const o=i.length,a=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const d=c.inverse(i[f]);let g=1;for(let x=0;x<o;x++)if(f!==x){const E=c.multiply(i[x],d),S=E&1?E&-2:E|1;g=c.multiply(g,S)}a[f]=c.multiply(n.evaluateAt(d),c.inverse(g)),c.getGeneratorBase()!==0&&(a[f]=c.multiply(a[f],d))}return a}}var Ot;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(Ot||(Ot={}));class Ye{decode(n){this.ddata=n;let i=n.getBits(),o=this.extractBits(i),a=this.correctBits(o),c=Ye.convertBoolArrayToByteArray(a),f=Ye.getEncodedData(a),d=new So(c,f,null,null);return d.setNumBits(a.length),d}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let i=n.length,o=Ot.UPPER,a=Ot.UPPER,c="",f=0;for(;f<i;)if(a===Ot.BINARY){if(i-f<5)break;let d=Ye.readCode(n,f,5);if(f+=5,d===0){if(i-f<11)break;d=Ye.readCode(n,f,11)+31,f+=11}for(let g=0;g<d;g++){if(i-f<8){f=i;break}const x=Ye.readCode(n,f,8);c+=ae.castAsNonUtf8Char(x),f+=8}a=o}else{let d=a===Ot.DIGIT?4:5;if(i-f<d)break;let g=Ye.readCode(n,f,d);f+=d;let x=Ye.getCharacter(a,g);x.startsWith("CTRL_")?(o=a,a=Ye.getTable(x.charAt(5)),x.charAt(6)==="L"&&(o=a)):(c+=x,a=o)}return c}static getTable(n){switch(n){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}}static getCharacter(n,i){switch(n){case Ot.UPPER:return Ye.UPPER_TABLE[i];case Ot.LOWER:return Ye.LOWER_TABLE[i];case Ot.MIXED:return Ye.MIXED_TABLE[i];case Ot.PUNCT:return Ye.PUNCT_TABLE[i];case Ot.DIGIT:return Ye.DIGIT_TABLE[i];default:throw new Gn("Bad table")}}correctBits(n){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=Le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=Le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=Le.AZTEC_DATA_10):(o=12,i=Le.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),c=n.length/o;if(c<a)throw new U;let f=n.length%o,d=new Int32Array(c);for(let v=0;v<c;v++,f+=o)d[v]=Ye.readCode(n,f,o);try{new Io(i).decode(d,c-a)}catch(v){throw new U(v)}let g=(1<<o)-1,x=0;for(let v=0;v<a;v++){let b=d[v];if(b===0||b===g)throw new U;(b===1||b===g-1)&&x++}let E=new Array(a*o-x),S=0;for(let v=0;v<a;v++){let b=d[v];if(b===1||b===g-1)E.fill(b>1,S,S+o-1),S+=o-1;else for(let L=o-1;L>=0;--L)E[S++]=(b&1<<L)!==0}return E}extractBits(n){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),a=(i?11:14)+o*4,c=new Int32Array(a),f=new Array(this.totalBitsInLayer(o,i));if(i)for(let d=0;d<c.length;d++)c[d]=d;else{let d=a+1+2*N.truncDivision(N.truncDivision(a,2)-1,15),g=a/2,x=N.truncDivision(d,2);for(let E=0;E<g;E++){let S=E+N.truncDivision(E,15);c[g-E-1]=x-S-1,c[g+E]=x+S+1}}for(let d=0,g=0;d<o;d++){let x=(o-d)*4+(i?9:12),E=d*2,S=a-1-E;for(let v=0;v<x;v++){let b=v*2;for(let L=0;L<2;L++)f[g+b+L]=n.get(c[E+L],c[E+v]),f[g+2*x+b+L]=n.get(c[E+v],c[S-L]),f[g+4*x+b+L]=n.get(c[S-L],c[S-v]),f[g+6*x+b+L]=n.get(c[S-v],c[E+L])}g+=x*8}return f}static readCode(n,i,o){let a=0;for(let c=i;c<i+o;c++)a<<=1,n[c]&&(a|=1);return a}static readByte(n,i){let o=n.length-i;return o>=8?Ye.readCode(n,i,8):Ye.readCode(n,i,o)<<8-o}static convertBoolArrayToByteArray(n){let i=new Uint8Array((n.length+7)/8);for(let o=0;o<i.length;o++)i[o]=Ye.readByte(n,8*o);return i}totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Ye.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ye.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ye.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ye.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Re{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,i,o,a){const c=n-o,f=i-a;return Math.sqrt(c*c+f*f)}static sum(n){let i=0;for(let o=0,a=n.length;o!==a;o++){const c=n[o];i+=c}return i}}class Ls{static floatToIntBits(n){return n}}Ls.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(n,i){this.x=n,this.y=i}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof le){const i=n;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ls.floatToIntBits(this.x)+Ls.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const i=this.distance(n[0],n[1]),o=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let c,f,d;if(o>=i&&o>=a?(f=n[0],c=n[1],d=n[2]):a>=o&&a>=i?(f=n[1],c=n[0],d=n[2]):(f=n[2],c=n[0],d=n[1]),this.crossProductZ(c,f,d)<0){const g=c;c=d,d=g}n[0]=c,n[1]=f,n[2]=d}static distance(n,i){return Re.distance(n.x,n.y,i.x,i.y)}static crossProductZ(n,i,o){const a=i.x,c=i.y;return(o.x-a)*(n.y-c)-(o.y-c)*(n.x-a)}}class ks{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class e1 extends ks{constructor(n,i,o,a,c){super(n,i),this.compact=o,this.nbDatablocks=a,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ar{constructor(n,i,o,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),i==null&&(i=ar.INIT_SIZE),o==null&&(o=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const c=i/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=a-c,this.downInit=a+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let n=this.leftInit,i=this.rightInit,o=this.upInit,a=this.downInit,c=!1,f=!0,d=!1,g=!1,x=!1,E=!1,S=!1;const v=this.width,b=this.height;for(;f;){f=!1;let L=!0;for(;(L||!g)&&i<v;)L=this.containsBlackPoint(o,a,i,!1),L?(i++,f=!0,g=!0):g||i++;if(i>=v){c=!0;break}let P=!0;for(;(P||!x)&&a<b;)P=this.containsBlackPoint(n,i,a,!0),P?(a++,f=!0,x=!0):x||a++;if(a>=b){c=!0;break}let j=!0;for(;(j||!E)&&n>=0;)j=this.containsBlackPoint(o,a,n,!1),j?(n--,f=!0,E=!0):E||n--;if(n<0){c=!0;break}let W=!0;for(;(W||!S)&&o>=0;)W=this.containsBlackPoint(n,i,o,!0),W?(o--,f=!0,S=!0):S||o--;if(o<0){c=!0;break}f&&(d=!0)}if(!c&&d){const L=i-n;let P=null;for(let te=1;P===null&&te<L;te++)P=this.getBlackPointOnSegment(n,a-te,n+te,a);if(P==null)throw new H;let j=null;for(let te=1;j===null&&te<L;te++)j=this.getBlackPointOnSegment(n,o+te,n+te,o);if(j==null)throw new H;let W=null;for(let te=1;W===null&&te<L;te++)W=this.getBlackPointOnSegment(i,o+te,i-te,o);if(W==null)throw new H;let ee=null;for(let te=1;ee===null&&te<L;te++)ee=this.getBlackPointOnSegment(i,a-te,i-te,a);if(ee==null)throw new H;return this.centerEdges(ee,P,W,j)}else throw new H}getBlackPointOnSegment(n,i,o,a){const c=Re.round(Re.distance(n,i,o,a)),f=(o-n)/c,d=(a-i)/c,g=this.image;for(let x=0;x<c;x++){const E=Re.round(n+x*f),S=Re.round(i+x*d);if(g.get(E,S))return new le(E,S)}return null}centerEdges(n,i,o,a){const c=n.getX(),f=n.getY(),d=i.getX(),g=i.getY(),x=o.getX(),E=o.getY(),S=a.getX(),v=a.getY(),b=ar.CORR;return c<this.width/2?[new le(S-b,v+b),new le(d+b,g+b),new le(x-b,E-b),new le(c+b,f-b)]:[new le(S+b,v+b),new le(d+b,g-b),new le(x-b,E+b),new le(c-b,f-b)]}containsBlackPoint(n,i,o,a){const c=this.image;if(a){for(let f=n;f<=i;f++)if(c.get(f,o))return!0}else for(let f=n;f<=i;f++)if(c.get(o,f))return!0;return!1}}ar.INIT_SIZE=10,ar.CORR=1;class Fl{static checkAndNudgePoints(n,i){const o=n.getWidth(),a=n.getHeight();let c=!0;for(let f=0;f<i.length&&c;f+=2){const d=Math.floor(i[f]),g=Math.floor(i[f+1]);if(d<-1||d>o||g<-1||g>a)throw new H;c=!1,d===-1?(i[f]=0,c=!0):d===o&&(i[f]=o-1,c=!0),g===-1?(i[f+1]=0,c=!0):g===a&&(i[f+1]=a-1,c=!0)}c=!0;for(let f=i.length-2;f>=0&&c;f-=2){const d=Math.floor(i[f]),g=Math.floor(i[f+1]);if(d<-1||d>o||g<-1||g>a)throw new H;c=!1,d===-1?(i[f]=0,c=!0):d===o&&(i[f]=o-1,c=!0),g===-1?(i[f+1]=0,c=!0):g===a&&(i[f+1]=a-1,c=!0)}}}class Rn{constructor(n,i,o,a,c,f,d,g,x){this.a11=n,this.a21=i,this.a31=o,this.a12=a,this.a22=c,this.a32=f,this.a13=d,this.a23=g,this.a33=x}static quadrilateralToQuadrilateral(n,i,o,a,c,f,d,g,x,E,S,v,b,L,P,j){const W=Rn.quadrilateralToSquare(n,i,o,a,c,f,d,g);return Rn.squareToQuadrilateral(x,E,S,v,b,L,P,j).times(W)}transformPoints(n){const i=n.length,o=this.a11,a=this.a12,c=this.a13,f=this.a21,d=this.a22,g=this.a23,x=this.a31,E=this.a32,S=this.a33;for(let v=0;v<i;v+=2){const b=n[v],L=n[v+1],P=c*b+g*L+S;n[v]=(o*b+f*L+x)/P,n[v+1]=(a*b+d*L+E)/P}}transformPointsWithValues(n,i){const o=this.a11,a=this.a12,c=this.a13,f=this.a21,d=this.a22,g=this.a23,x=this.a31,E=this.a32,S=this.a33,v=n.length;for(let b=0;b<v;b++){const L=n[b],P=i[b],j=c*L+g*P+S;n[b]=(o*L+f*P+x)/j,i[b]=(a*L+d*P+E)/j}}static squareToQuadrilateral(n,i,o,a,c,f,d,g){const x=n-o+c-d,E=i-a+f-g;if(x===0&&E===0)return new Rn(o-n,c-o,n,a-i,f-a,i,0,0,1);{const S=o-c,v=d-c,b=a-f,L=g-f,P=S*L-v*b,j=(x*L-v*E)/P,W=(S*E-x*b)/P;return new Rn(o-n+j*o,d-n+W*d,n,a-i+j*a,g-i+W*g,i,j,W,1)}}static quadrilateralToSquare(n,i,o,a,c,f,d,g){return Rn.squareToQuadrilateral(n,i,o,a,c,f,d,g).buildAdjoint()}buildAdjoint(){return new Rn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Rn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class t1 extends Fl{sampleGrid(n,i,o,a,c,f,d,g,x,E,S,v,b,L,P,j,W,ee,te){const J=Rn.quadrilateralToQuadrilateral(a,c,f,d,g,x,E,S,v,b,L,P,j,W,ee,te);return this.sampleGridWithTransform(n,i,o,J)}sampleGridWithTransform(n,i,o,a){if(i<=0||o<=0)throw new H;const c=new Ee(i,o),f=new Float32Array(2*i);for(let d=0;d<o;d++){const g=f.length,x=d+.5;for(let E=0;E<g;E+=2)f[E]=E/2+.5,f[E+1]=x;a.transformPoints(f),Fl.checkAndNudgePoints(n,f);try{for(let E=0;E<g;E+=2)n.get(Math.floor(f[E]),Math.floor(f[E+1]))&&c.set(E/2,d)}catch{throw new H}}return c}}class Er{static setGridSampler(n){Er.gridSampler=n}static getInstance(){return Er.gridSampler}}Er.gridSampler=new t1;class Vt{constructor(n,i){this.x=n,this.y=i}toResultPoint(){return new le(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class n1{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(n){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let a=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new e1(a,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new H;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(n[0],n[1],i),this.sampleLine(n[1],n[2],i),this.sampleLine(n[2],n[3],i),this.sampleLine(n[3],n[0],i)]);this.shift=this.getRotation(o,i);let a=0;for(let f=0;f<4;f++){let d=o[(this.shift+f)%4];this.compact?(a<<=7,a+=d>>1&127):(a<<=10,a+=(d>>2&992)+(d>>1&31))}let c=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(n,i){let o=0;n.forEach((a,c,f)=>{let d=(a>>i-2<<1)+(a&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let a=0;a<4;a++)if(N.bitCount(o^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new H}getCorrectedParameterData(n,i){let o,a;i?(o=7,a=2):(o=10,a=4);let c=o-a,f=new Int32Array(o);for(let g=o-1;g>=0;--g)f[g]=n&15,n>>=4;try{new Io(Le.AZTEC_PARAM).decode(f,c)}catch{throw new H}let d=0;for(let g=0;g<a;g++)d=(d<<4)+f[g];return d}getBullsEyeCorners(n){let i=n,o=n,a=n,c=n,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(i,f,1,-1),v=this.getFirstDifferent(o,f,1,1),b=this.getFirstDifferent(a,f,-1,1),L=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(L,S)*this.nbCenterLayers/(this.distancePoint(c,i)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(S,v,b,L))break}i=S,o=v,a=b,c=L,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let d=new le(i.getX()+.5,i.getY()-.5),g=new le(o.getX()+.5,o.getY()+.5),x=new le(a.getX()-.5,a.getY()+.5),E=new le(c.getX()-.5,c.getY()-.5);return this.expandSquare([d,g,x,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,i,o,a;try{let d=new ar(this.image).detect();n=d[0],i=d[1],o=d[2],a=d[3]}catch{let g=this.image.getWidth()/2,x=this.image.getHeight()/2;n=this.getFirstDifferent(new Vt(g+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(g+7,x+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Vt(g-7,x+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Vt(g-7,x-7),!1,-1,-1).toResultPoint()}let c=Re.round((n.getX()+a.getX()+i.getX()+o.getX())/4),f=Re.round((n.getY()+a.getY()+i.getY()+o.getY())/4);try{let d=new ar(this.image,15,c,f).detect();n=d[0],i=d[1],o=d[2],a=d[3]}catch{n=this.getFirstDifferent(new Vt(c+7,f-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Vt(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Vt(c-7,f+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Vt(c-7,f-7),!1,-1,-1).toResultPoint()}return c=Re.round((n.getX()+a.getX()+i.getX()+o.getX())/4),f=Re.round((n.getY()+a.getY()+i.getY()+o.getY())/4),new Vt(c,f)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,i,o,a,c){let f=Er.getInstance(),d=this.getDimension(),g=d/2-this.nbCenterLayers,x=d/2+this.nbCenterLayers;return f.sampleGrid(n,d,d,g,g,x,g,x,x,g,x,i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY(),c.getX(),c.getY())}sampleLine(n,i,o){let a=0,c=this.distanceResultPoint(n,i),f=c/o,d=n.getX(),g=n.getY(),x=f*(i.getX()-n.getX())/c,E=f*(i.getY()-n.getY())/c;for(let S=0;S<o;S++)this.image.get(Re.round(d+S*x),Re.round(g+S*E))&&(a|=1<<o-S-1);return a}isWhiteOrBlackRectangle(n,i,o,a){let c=3;n=new Vt(n.getX()-c,n.getY()+c),i=new Vt(i.getX()-c,i.getY()-c),o=new Vt(o.getX()+c,o.getY()-c),a=new Vt(a.getX()+c,a.getY()+c);let f=this.getColor(a,n);if(f===0)return!1;let d=this.getColor(n,i);return d!==f||(d=this.getColor(i,o),d!==f)?!1:(d=this.getColor(o,a),d===f)}getColor(n,i){let o=this.distancePoint(n,i),a=(i.getX()-n.getX())/o,c=(i.getY()-n.getY())/o,f=0,d=n.getX(),g=n.getY(),x=this.image.get(n.getX(),n.getY()),E=Math.ceil(o);for(let v=0;v<E;v++)d+=a,g+=c,this.image.get(Re.round(d),Re.round(g))!==x&&f++;let S=f/o;return S>.1&&S<.9?0:S<=.1===x?1:-1}getFirstDifferent(n,i,o,a){let c=n.getX()+o,f=n.getY()+a;for(;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o,f+=a;for(c-=o,f-=a;this.isValid(c,f)&&this.image.get(c,f)===i;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===i;)f+=a;return f-=a,new Vt(c,f)}expandSquare(n,i,o){let a=o/(2*i),c=n[0].getX()-n[2].getX(),f=n[0].getY()-n[2].getY(),d=(n[0].getX()+n[2].getX())/2,g=(n[0].getY()+n[2].getY())/2,x=new le(d+a*c,g+a*f),E=new le(d-a*c,g-a*f);c=n[1].getX()-n[3].getX(),f=n[1].getY()-n[3].getY(),d=(n[1].getX()+n[3].getX())/2,g=(n[1].getY()+n[3].getY())/2;let S=new le(d+a*c,g+a*f),v=new le(d-a*c,g-a*f);return[x,S,E,v]}isValid(n,i){return n>=0&&n<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(n){let i=Re.round(n.getX()),o=Re.round(n.getY());return this.isValid(i,o)}distancePoint(n,i){return Re.distance(n.getX(),n.getY(),i.getX(),i.getY())}distanceResultPoint(n,i){return Re.distance(n.getX(),n.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Ps{decode(n,i=null){let o=null,a=new n1(n.getBlackMatrix()),c=null,f=null;try{let E=a.detectMirror(!1);c=E.getPoints(),this.reportFoundResultPoints(i,c),f=new Ye().decode(E)}catch(E){o=E}if(f==null)try{let E=a.detectMirror(!0);c=E.getPoints(),this.reportFoundResultPoints(i,c),f=new Ye().decode(E)}catch(E){throw o??E}let d=new Ze(f.getText(),f.getRawBytes(),f.getNumBits(),c,ce.AZTEC,D.currentTimeMillis()),g=f.getByteSegments();g!=null&&d.putMetadata(vt.BYTE_SEGMENTS,g);let x=f.getECLevel();return x!=null&&d.putMetadata(vt.ERROR_CORRECTION_LEVEL,x),d}reportFoundResultPoints(n,i){if(n!=null){let o=n.get(Z.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((a,c,f)=>{o.foundPossibleResultPoint(a)})}}reset(){}}class Fp extends Zt{constructor(n=500){super(new Ps,n)}}class pt{decode(n,i){try{return this.doDecode(n,i)}catch{if(i&&i.get(Z.TRY_HARDER)===!0&&n.isRotateSupported()){const c=n.rotateCounterClockwise(),f=this.doDecode(c,i),d=f.getResultMetadata();let g=270;d!==null&&d.get(vt.ORIENTATION)===!0&&(g=g+d.get(vt.ORIENTATION)%360),f.putMetadata(vt.ORIENTATION,g);const x=f.getResultPoints();if(x!==null){const E=c.getHeight();for(let S=0;S<x.length;S++)x[S]=new le(E-x[S].getY()-1,x[S].getX())}return f}else throw new H}}reset(){}doDecode(n,i){const o=n.getWidth(),a=n.getHeight();let c=new F(o);const f=i&&i.get(Z.TRY_HARDER)===!0,d=Math.max(1,a>>(f?8:5));let g;f?g=a:g=15;const x=Math.trunc(a/2);for(let E=0;E<g;E++){const S=Math.trunc((E+1)/2),v=(E&1)===0,b=x+d*(v?S:-S);if(b<0||b>=a)break;try{c=n.getBlackRow(b,c)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(c.reverse(),i&&i.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;i.forEach((j,W)=>P.set(W,j)),P.delete(Z.NEED_RESULT_POINT_CALLBACK),i=P}try{const P=this.decodeRow(b,c,i);if(L===1){P.putMetadata(vt.ORIENTATION,180);const j=P.getResultPoints();j!==null&&(j[0]=new le(o-j[0].getX()-1,j[0].getY()),j[1]=new le(o-j[1].getX()-1,j[1].getY()))}return P}catch{}}}throw new H}static recordPattern(n,i,o){const a=o.length;for(let x=0;x<a;x++)o[x]=0;const c=n.getSize();if(i>=c)throw new H;let f=!n.get(i),d=0,g=i;for(;g<c;){if(n.get(g)!==f)o[d]++;else{if(++d===a)break;o[d]=1,f=!f}g++}if(!(d===a||d===a-1&&g===c))throw new H}static recordPatternInReverse(n,i,o){let a=o.length,c=n.get(i);for(;i>0&&a>=0;)n.get(--i)!==c&&(a--,c=!c);if(a>=0)throw new H;pt.recordPattern(n,i+1,o)}static patternMatchVariance(n,i,o){const a=n.length;let c=0,f=0;for(let x=0;x<a;x++)c+=n[x],f+=i[x];if(c<f)return Number.POSITIVE_INFINITY;const d=c/f;o*=d;let g=0;for(let x=0;x<a;x++){const E=n[x],S=i[x]*d,v=E>S?E-S:S-E;if(v>o)return Number.POSITIVE_INFINITY;g+=v}return g/c}}class ne extends pt{static findStartPattern(n){const i=n.getSize(),o=n.getNextSet(0);let a=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,d=!1;const g=6;for(let x=o;x<i;x++)if(n.get(x)!==d)c[a]++;else{if(a===g-1){let E=ne.MAX_AVG_VARIANCE,S=-1;for(let v=ne.CODE_START_A;v<=ne.CODE_START_C;v++){const b=pt.patternMatchVariance(c,ne.CODE_PATTERNS[v],ne.MAX_INDIVIDUAL_VARIANCE);b<E&&(E=b,S=v)}if(S>=0&&n.isRange(Math.max(0,f-(x-f)/2),f,!1))return Int32Array.from([f,x,S]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[a-1]=0,c[a]=0,a--}else a++;c[a]=1,d=!d}throw new H}static decodeCode(n,i,o){pt.recordPattern(n,o,i);let a=ne.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<ne.CODE_PATTERNS.length;f++){const d=ne.CODE_PATTERNS[f],g=this.patternMatchVariance(i,d,ne.MAX_INDIVIDUAL_VARIANCE);g<a&&(a=g,c=f)}if(c>=0)return c;throw new H}decodeRow(n,i,o){const a=o&&o.get(Z.ASSUME_GS1)===!0,c=ne.findStartPattern(i),f=c[2];let d=0;const g=new Uint8Array(20);g[d++]=f;let x;switch(f){case ne.CODE_START_A:x=ne.CODE_CODE_A;break;case ne.CODE_START_B:x=ne.CODE_CODE_B;break;case ne.CODE_START_C:x=ne.CODE_CODE_C;break;default:throw new U}let E=!1,S=!1,v="",b=c[0],L=c[1];const P=Int32Array.from([0,0,0,0,0,0]);let j=0,W=0,ee=f,te=0,J=!0,_e=!1,Ce=!1;for(;!E;){const Ui=S;switch(S=!1,j=W,W=ne.decodeCode(i,P,L),g[d++]=W,W!==ne.CODE_STOP&&(J=!0),W!==ne.CODE_STOP&&(te++,ee+=te*W),b=L,L+=P.reduce((h2,g2)=>h2+g2,0),W){case ne.CODE_START_A:case ne.CODE_START_B:case ne.CODE_START_C:throw new U}switch(x){case ne.CODE_CODE_A:if(W<64)Ce===_e?v+=String.fromCharCode(" ".charCodeAt(0)+W):v+=String.fromCharCode(" ".charCodeAt(0)+W+128),Ce=!1;else if(W<96)Ce===_e?v+=String.fromCharCode(W-64):v+=String.fromCharCode(W+64),Ce=!1;else switch(W!==ne.CODE_STOP&&(J=!1),W){case ne.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_A:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ne.CODE_SHIFT:S=!0,x=ne.CODE_CODE_B;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0;break}break;case ne.CODE_CODE_B:if(W<96)Ce===_e?v+=String.fromCharCode(" ".charCodeAt(0)+W):v+=String.fromCharCode(" ".charCodeAt(0)+W+128),Ce=!1;else switch(W!==ne.CODE_STOP&&(J=!1),W){case ne.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case ne.CODE_FNC_2:case ne.CODE_FNC_3:break;case ne.CODE_FNC_4_B:!_e&&Ce?(_e=!0,Ce=!1):_e&&Ce?(_e=!1,Ce=!1):Ce=!0;break;case ne.CODE_SHIFT:S=!0,x=ne.CODE_CODE_A;break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_C:x=ne.CODE_CODE_C;break;case ne.CODE_STOP:E=!0;break}break;case ne.CODE_CODE_C:if(W<100)W<10&&(v+="0"),v+=W;else switch(W!==ne.CODE_STOP&&(J=!1),W){case ne.CODE_FNC_1:a&&(v.length===0?v+="]C1":v+=String.fromCharCode(29));break;case ne.CODE_CODE_A:x=ne.CODE_CODE_A;break;case ne.CODE_CODE_B:x=ne.CODE_CODE_B;break;case ne.CODE_STOP:E=!0;break}break}Ui&&(x=x===ne.CODE_CODE_A?ne.CODE_CODE_B:ne.CODE_CODE_A)}const en=L-b;if(L=i.getNextUnset(L),!i.isRange(L,Math.min(i.getSize(),L+(L-b)/2),!1))throw new H;if(ee-=te*j,ee%103!==j)throw new R;const Dn=v.length;if(Dn===0)throw new H;Dn>0&&J&&(x===ne.CODE_CODE_C?v=v.substring(0,Dn-2):v=v.substring(0,Dn-1));const tn=(c[1]+c[0])/2,We=b+en/2,Mt=g.length,cn=new Uint8Array(Mt);for(let Ui=0;Ui<Mt;Ui++)cn[Ui]=g[Ui];const Fi=[new le(tn,n),new le(We,n)];return new Ze(v,cn,0,Fi,ce.CODE_128,new Date().getTime())}}ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ne.MAX_AVG_VARIANCE=.25,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.CODE_SHIFT=98,ne.CODE_CODE_C=99,ne.CODE_CODE_B=100,ne.CODE_CODE_A=101,ne.CODE_FNC_1=102,ne.CODE_FNC_2=97,ne.CODE_FNC_3=96,ne.CODE_FNC_4_A=101,ne.CODE_FNC_4_B=100,ne.CODE_START_A=103,ne.CODE_START_B=104,ne.CODE_START_C=105,ne.CODE_STOP=106;class yt extends pt{constructor(n=!1,i=!1){super(),this.usingCheckDigit=n,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,i,o){let a=this.counters;a.fill(0),this.decodeRowResult="";let c=yt.findAsteriskPattern(i,a),f=i.getNextSet(c[1]),d=i.getSize(),g,x;do{yt.recordPattern(i,f,a);let P=yt.toNarrowWidePattern(a);if(P<0)throw new H;g=yt.patternToChar(P),this.decodeRowResult+=g,x=f;for(let j of a)f+=j;f=i.getNextSet(f)}while(g!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let P of a)E+=P;let S=f-x-E;if(f!==d&&S*2<E)throw new H;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,j=0;for(let W=0;W<P;W++)j+=yt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(P)!==yt.ALPHABET_STRING.charAt(j%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new H;let v;this.extendedMode?v=yt.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let b=(c[1]+c[0])/2,L=x+E/2;return new Ze(v,null,0,[new le(b,n),new le(L,n)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(n,i){let o=n.getSize(),a=n.getNextSet(0),c=0,f=a,d=!1,g=i.length;for(let x=a;x<o;x++)if(n.get(x)!==d)i[c]++;else{if(c===g-1){if(this.toNarrowWidePattern(i)===yt.ASTERISK_ENCODING&&n.isRange(Math.max(0,f-Math.floor((x-f)/2)),f,!1))return[f,x];f+=i[0]+i[1],i.copyWithin(0,2,2+c-1),i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,d=!d}throw new H}static toNarrowWidePattern(n){let i=n.length,o=0,a;do{let c=2147483647;for(let g of n)g<c&&g>o&&(c=g);o=c,a=0;let f=0,d=0;for(let g=0;g<i;g++){let x=n[g];x>o&&(d|=1<<i-1-g,a++,f+=x)}if(a===3){for(let g=0;g<i&&a>0;g++){let x=n[g];if(x>o&&(a--,x*2>=f))return-1}return d}}while(a>3);return-1}static patternToChar(n){for(let i=0;i<yt.CHARACTER_ENCODINGS.length;i++)if(yt.CHARACTER_ENCODINGS[i]===n)return yt.ALPHABET_STRING.charAt(i);if(n===yt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(n){let i=n.length,o="";for(let a=0;a<i;a++){let c=n.charAt(a);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=n.charAt(a+1),d="\0";switch(c){case"+":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)+32);else throw new U;break;case"$":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)-64);else throw new U;break;case"%":if(f>="A"&&f<="E")d=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")d=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")d=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")d="\0";else if(f==="V")d="@";else if(f==="W")d="`";else if(f==="X"||f==="Y"||f==="Z")d="";else throw new U;break;case"/":if(f>="A"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")d=":";else throw new U;break}o+=d,a++}else o+=c}return o}}yt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",yt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],yt.ASTERISK_ENCODING=148;class He extends pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,i,o){let a=this.decodeStart(i),c=this.decodeEnd(i),f=new ye;He.decodeMiddle(i,a[1],c[0],f);let d=f.toString(),g=null;o!=null&&(g=o.get(Z.ALLOWED_LENGTHS)),g==null&&(g=He.DEFAULT_ALLOWED_LENGTHS);let x=d.length,E=!1,S=0;for(let L of g){if(x===L){E=!0;break}L>S&&(S=L)}if(!E&&x>S&&(E=!0),!E)throw new U;const v=[new le(a[1],n),new le(c[0],n)];return new Ze(d,null,0,v,ce.ITF,new Date().getTime())}static decodeMiddle(n,i,o,a){let c=new Int32Array(10),f=new Int32Array(5),d=new Int32Array(5);for(c.fill(0),f.fill(0),d.fill(0);i<o;){pt.recordPattern(n,i,c);for(let x=0;x<5;x++){let E=2*x;f[x]=c[E],d[x]=c[E+1]}let g=He.decodeDigit(f);a.append(g.toString()),g=this.decodeDigit(d),a.append(g.toString()),c.forEach(function(x){i+=x})}}decodeStart(n){let i=He.skipWhiteSpace(n),o=He.findGuardPattern(n,i,He.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(n,o[0]),o}validateQuietZone(n,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let a=i-1;o>0&&a>=0&&!n.get(a);a--)o--;if(o!==0)throw new H}static skipWhiteSpace(n){const i=n.getSize(),o=n.getNextSet(0);if(o===i)throw new H;return o}decodeEnd(n){n.reverse();try{let i=He.skipWhiteSpace(n),o;try{o=He.findGuardPattern(n,i,He.END_PATTERN_REVERSED[0])}catch(c){c instanceof H&&(o=He.findGuardPattern(n,i,He.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,o[0]);let a=o[0];return o[0]=n.getSize()-o[1],o[1]=n.getSize()-a,o}finally{n.reverse()}}static findGuardPattern(n,i,o){let a=o.length,c=new Int32Array(a),f=n.getSize(),d=!1,g=0,x=i;c.fill(0);for(let E=i;E<f;E++)if(n.get(E)!==d)c[g]++;else{if(g===a-1){if(pt.patternMatchVariance(c,o,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return[x,E];x+=c[0]+c[1],D.arraycopy(c,2,c,0,g-1),c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,d=!d}throw new H}static decodeDigit(n){let i=He.MAX_AVG_VARIANCE,o=-1,a=He.PATTERNS.length;for(let c=0;c<a;c++){let f=He.PATTERNS[c],d=pt.patternMatchVariance(n,f,He.MAX_INDIVIDUAL_VARIANCE);d<i?(i=d,o=c):d===i&&(o=-1)}if(o>=0)return o%10;throw new H}}He.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],He.MAX_AVG_VARIANCE=.38,He.MAX_INDIVIDUAL_VARIANCE=.5,He.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],He.START_PATTERN=Int32Array.from([1,1,1,1]),He.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class st extends pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let i=!1,o,a=0,c=Int32Array.from([0,0,0]);for(;!i;){c=Int32Array.from([0,0,0]),o=st.findGuardPattern(n,a,!1,this.START_END_PATTERN,c);let f=o[0];a=o[1];let d=f-(a-f);d>=0&&(i=n.isRange(d,f,!1))}return o}static checkChecksum(n){return st.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return st.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new U;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new U;o+=c}return(1e3-o)%10}static decodeEnd(n,i){return st.findGuardPattern(n,i,!1,st.START_END_PATTERN,new Int32Array(st.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,i,o,a){return this.findGuardPattern(n,i,o,a,new Int32Array(a.length))}static findGuardPattern(n,i,o,a,c){let f=n.getSize();i=o?n.getNextUnset(i):n.getNextSet(i);let d=0,g=i,x=a.length,E=o;for(let S=i;S<f;S++)if(n.get(S)!==E)c[d]++;else{if(d===x-1){if(pt.patternMatchVariance(c,a,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return Int32Array.from([g,S]);g+=c[0]+c[1];let v=c.slice(2,c.length-1);for(let b=0;b<d-1;b++)c[b]=v[b];c[d-1]=0,c[d]=0,d--}else d++;c[d]=1,E=!E}throw new H}static decodeDigit(n,i,o,a){this.recordPattern(n,o,i);let c=this.MAX_AVG_VARIANCE,f=-1,d=a.length;for(let g=0;g<d;g++){let x=a[g],E=pt.patternMatchVariance(i,x,st.MAX_INDIVIDUAL_VARIANCE);E<c&&(c=E,f=g)}if(f>=0)return f;throw new H}}st.MAX_AVG_VARIANCE=.48,st.MAX_INDIVIDUAL_VARIANCE=.7,st.START_END_PATTERN=Int32Array.from([1,1,1]),st.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),st.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),st.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class To{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),f=a.toString(),d=To.parseExtensionString(f),g=[new le((o[0]+o[1])/2,n),new le(c,n)],x=new Ze(f,null,0,g,ce.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let x=0;x<5&&f<c;x++){let E=st.decodeDigit(n,a,f,st.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let S of a)f+=S;E>=10&&(d|=1<<4-x),x!==4&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==5)throw new H;let g=this.determineCheckDigit(d);if(To.extensionChecksum(o.toString())!==g)throw new H;return f}static extensionChecksum(n){let i=n.length,o=0;for(let a=i-2;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let a=i-1;a>=0;a-=2)o+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(n){for(let i=0;i<10;i++)if(n===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new H}static parseExtensionString(n){if(n.length!==5)return null;let i=To.parseExtension5String(n);return i==null?null:new Map([[vt.SUGGESTED_PRICE,i]])}static parseExtension5String(n){let i;switch(n.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(n.substring(1)),a=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return i+a+"."+f}}class Ul{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,i,o){let a=this.decodeRowStringBuffer,c=this.decodeMiddle(i,o,a),f=a.toString(),d=Ul.parseExtensionString(f),g=[new le((o[0]+o[1])/2,n),new le(c,n)],x=new Ze(f,null,0,g,ce.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&x.putAllMetadata(d),x}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let g=0;g<2&&f<c;g++){let x=st.decodeDigit(n,a,f,st.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let E of a)f+=E;x>=10&&(d|=1<<1-g),g!==1&&(f=n.getNextSet(f),f=n.getNextUnset(f))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==d)throw new H;return f}static parseExtensionString(n){return n.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(n)]])}}class r1{static decodeRow(n,i,o){let a=st.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new To().decodeRow(n,i,a)}catch{return new Ul().decodeRow(n,i,a)}}}r1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ke extends st{constructor(){super(),this.decodeRowStringBuffer="",ke.L_AND_G_PATTERNS=ke.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let i=ke.L_PATTERNS[n-10],o=new Int32Array(i.length);for(let a=0;a<i.length;a++)o[a]=i[i.length-a-1];ke.L_AND_G_PATTERNS[n]=o}}decodeRow(n,i,o){let a=ke.findStartGuardPattern(i),c=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(c!=null){const J=new le((a[0]+a[1])/2,n);c.foundPossibleResultPoint(J)}let f=this.decodeMiddle(i,a,this.decodeRowStringBuffer),d=f.rowOffset,g=f.resultString;if(c!=null){const J=new le(d,n);c.foundPossibleResultPoint(J)}let x=this.decodeEnd(i,d);if(c!=null){const J=new le((x[0]+x[1])/2,n);c.foundPossibleResultPoint(J)}let E=x[1],S=E+(E-x[0]);if(S>=i.getSize()||!i.isRange(E,S,!1))throw new H;let v=g.toString();if(v.length<8)throw new U;if(!ke.checkChecksum(v))throw new R;let b=(a[1]+a[0])/2,L=(x[1]+x[0])/2,P=this.getBarcodeFormat(),j=[new le(b,n),new le(L,n)],W=new Ze(v,null,0,j,P,new Date().getTime()),ee=0;try{let J=r1.decodeRow(n,i,x[1]);W.putMetadata(vt.UPC_EAN_EXTENSION,J.getText()),W.putAllMetadata(J.getResultMetadata()),W.addResultPoints(J.getResultPoints()),ee=J.getText().length}catch{}let te=o==null?null:o.get(Z.ALLOWED_EAN_EXTENSIONS);if(te!=null){let J=!1;for(let _e in te)if(ee.toString()===_e){J=!0;break}if(!J)throw new H}return W}decodeEnd(n,i){return ke.findGuardPattern(n,i,!1,ke.START_END_PATTERN,new Int32Array(ke.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return ke.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let i=n.length;if(i===0)return!1;let o=parseInt(n.charAt(i-1),10);return ke.getStandardUPCEANChecksum(n.substring(0,i-1))===o}static getStandardUPCEANChecksum(n){let i=n.length,o=0;for(let a=i-1;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new U;o+=c}o*=3;for(let a=i-2;a>=0;a-=2){let c=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(c<0||c>9)throw new U;o+=c}return(1e3-o)%10}}class ti extends ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1],d=0;for(let x=0;x<6&&f<c;x++){let E=ke.decodeDigit(n,a,f,ke.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let S of a)f+=S;E>=10&&(d|=1<<5-x)}o=ti.determineFirstDigit(o,d),f=ke.findGuardPattern(n,f,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&f<c;x++){let E=ke.decodeDigit(n,a,f,ke.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E);for(let S of a)f+=S}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(n,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return n=String.fromCharCode("0".charCodeAt(0)+o)+n,n;throw new H}}ti.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class i1 extends ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,i,o){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f=i[1];for(let g=0;g<4&&f<c;g++){let x=ke.decodeDigit(n,a,f,ke.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of a)f+=E}f=ke.findGuardPattern(n,f,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<4&&f<c;g++){let x=ke.decodeDigit(n,a,f,ke.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+x);for(let E of a)f+=E}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ce.EAN_8}}class o1 extends ke{constructor(){super(...arguments),this.ean13Reader=new ti}getBarcodeFormat(){return ce.UPC_A}decode(n,i){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,i,o))}decodeMiddle(n,i,o){return this.ean13Reader.decodeMiddle(n,i,o)}maybeReturnResult(n){let i=n.getText();if(i.charAt(0)==="0"){let o=new Ze(i.substring(1),null,null,n.getResultPoints(),ce.UPC_A);return n.getResultMetadata()!=null&&o.putAllMetadata(n.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class Mn extends ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,i,o){const a=this.decodeMiddleCounters.map(x=>x);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const c=n.getSize();let f=i[1],d=0;for(let x=0;x<6&&f<c;x++){const E=Mn.decodeDigit(n,a,f,Mn.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let S of a)f+=S;E>=10&&(d|=1<<5-x)}let g=Mn.determineNumSysAndCheckDigit(o,d);return{rowOffset:f,resultString:g}}decodeEnd(n,i){return Mn.findGuardPatternWithoutCounters(n,i,!0,Mn.MIDDLE_END_PATTERN)}checkChecksum(n){return ke.checkChecksum(Mn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,i){for(let o=0;o<=1;o++)for(let a=0;a<10;a++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][a]){let c=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+a);return c+n+f}throw H.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(n){const i=n.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new ye;o.append(n.charAt(0));let a=i[5];switch(a){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(a),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(a);break}return n.length>=8&&o.append(n.charAt(7)),o.toString()}}Mn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class jl extends pt{constructor(n){super();let i=n==null?null:n.get(Z.POSSIBLE_FORMATS),o=[];s(i)?(o.push(new ti),o.push(new o1),o.push(new i1),o.push(new Mn)):(i.indexOf(ce.EAN_13)>-1&&o.push(new ti),i.indexOf(ce.UPC_A)>-1&&o.push(new o1),i.indexOf(ce.EAN_8)>-1&&o.push(new i1),i.indexOf(ce.UPC_E)>-1&&o.push(new Mn)),this.readers=o}decodeRow(n,i,o){for(let a of this.readers)try{const c=a.decodeRow(n,i,o),f=c.getBarcodeFormat()===ce.EAN_13&&c.getText().charAt(0)==="0",d=o==null?null:o.get(Z.POSSIBLE_FORMATS),g=d==null||d.includes(ce.UPC_A);if(f&&g){const x=c.getRawBytes(),E=new Ze(c.getText().substring(1),x,x?x.length:null,c.getResultPoints(),ce.UPC_A);return E.putAllMetadata(c.getResultMetadata()),E}return c}catch{}throw new H}reset(){for(let n of this.readers)n.reset()}}class Pt extends pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,i){for(let o=0;o<i.length;o++)if(pt.patternMatchVariance(n,i[o],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return o;throw new H}static count(n){return Re.sum(new Int32Array(n))}static increment(n,i){let o=0,a=i[0];for(let c=1;c<n.length;c++)i[c]>a&&(a=i[c],o=c);n[o]++}static decrement(n,i){let o=0,a=i[0];for(let c=1;c<n.length;c++)i[c]<a&&(a=i[c],o=c);n[o]--}static isFinderPattern(n){let i=n[0]+n[1],o=i+n[2]+n[3],a=i/o;if(a>=Pt.MIN_FINDER_PATTERN_RATIO&&a<=Pt.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let d of n)d>f&&(f=d),d<c&&(c=d);return f<10*c}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ri{constructor(n,i){this.value=n,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ri))return!1;const i=n;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Bs{constructor(n,i,o,a,c){this.value=n,this.startEnd=i,this.value=n,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new le(o,c)),this.resultPoints.push(new le(a,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Bs))return!1;const i=n;return this.value===i.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(n,i,o){let a=0;for(let g of n)a+=g;let c=0,f=0,d=n.length;for(let g=0;g<d-1;g++){let x;for(x=1,f|=1<<g;x<n[g];x++,f&=~(1<<g)){let E=Yn.combins(a-x-1,d-g-2);if(o&&f===0&&a-x-(d-g-1)>=d-g-1&&(E-=Yn.combins(a-x-(d-g),d-g-2)),d-g-1>1){let S=0;for(let v=a-x-(d-g-2);v>i;v--)S+=Yn.combins(a-x-v-1,d-g-3);E-=S*(d-1-g)}else a-x>i&&E--;c+=E}a-=x}return c}static combins(n,i){let o,a;n-i>i?(a=i,o=n-i):(a=n-i,o=i);let c=1,f=1;for(let d=n;d>o;d--)c*=d,f<=a&&(c/=f,f++);for(;f<=a;)c/=f,f++;return c}}class Up{static buildBitArray(n){let i=n.length*2-1;n[n.length-1].getRightChar()==null&&(i-=1);let o=12*i,a=new F(o),c=0,d=n[0].getRightChar().getValue();for(let g=11;g>=0;--g)d&1<<g&&a.set(c),c++;for(let g=1;g<n.length;++g){let x=n[g],E=x.getLeftChar().getValue();for(let S=11;S>=0;--S)E&1<<S&&a.set(c),c++;if(x.getRightChar()!=null){let S=x.getRightChar().getValue();for(let v=11;v>=0;--v)S&1<<v&&a.set(c),c++}}return a}}class ni{constructor(n,i){i?this.decodedInformation=null:(this.finished=n,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class qt extends zl{constructor(n,i){super(n),this.value=i}getValue(){return this.value}isFNC1(){return this.value===qt.FNC1}}qt.FNC1="$";class ri extends zl{constructor(n,i,o){super(n),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Cn extends zl{constructor(n,i,o){if(super(n),i<0||i>10||o<0||o>10)throw new U;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Cn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Cn.FNC1}isAnyFNC1(){return this.firstDigit===Cn.FNC1||this.secondDigit===Cn.FNC1}}Cn.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new H;let i=n.substring(0,2);for(let c of ie.TWO_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,c[2],n):ie.processFixedAI(2,c[1],n);if(n.length<3)throw new H;let o=n.substring(0,3);for(let c of ie.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,c[2],n):ie.processFixedAI(3,c[1],n);for(let c of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,c[2],n):ie.processFixedAI(4,c[1],n);if(n.length<4)throw new H;let a=n.substring(0,4);for(let c of ie.FOUR_DIGIT_DATA_LENGTH)if(c[0]===a)return c[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,c[2],n):ie.processFixedAI(4,c[1],n);throw new H}static processFixedAI(n,i,o){if(o.length<n)throw new H;let a=o.substring(0,n);if(o.length<n+i)throw new H;let c=o.substring(n,n+i),f=o.substring(n+i),d="("+a+")"+c,g=ie.parseFieldsInGeneralPurpose(f);return g==null?d:d+g}static processVariableAI(n,i,o){let a=o.substring(0,n),c;o.length<n+i?c=o.length:c=n+i;let f=o.substring(n,c),d=o.substring(c),g="("+a+")"+f,x=ie.parseFieldsInGeneralPurpose(d);return x==null?g:g+x}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class Mi{constructor(n){this.buffer=new ye,this.information=n}decodeAllCodes(n,i){let o=i,a=null;do{let c=this.decodeGeneralPurposeField(o,a),f=ie.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&n.append(f),c.isRemaining()?a=""+c.getRemainingValue():a=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let i=n;i<n+3;++i)if(this.information.get(i))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(n,4);return c===0?new Cn(this.information.getSize(),Cn.FNC1,Cn.FNC1):new Cn(this.information.getSize(),c-1,Cn.FNC1)}let i=this.extractNumericValueFromBitArray(n,7),o=(i-8)/11,a=(i-8)%11;return new Cn(n+7,o,a)}extractNumericValueFromBitArray(n,i){return Mi.extractNumericValueFromBitArray(this.information,n,i)}static extractNumericValueFromBitArray(n,i,o){let a=0;for(let c=0;c<o;++c)n.get(i+c)&&(a|=1<<o-c-1);return a}decodeGeneralPurposeField(n,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(n);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ri(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ri(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),n=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),n=i.isFinished()):(i=this.parseNumericBlock(),n=i.isFinished()),!(o!==this.current.getPosition())&&!n)break}while(!n);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let i;return n.isSecondDigitFNC1()?i=new ri(this.current.getPosition(),this.buffer.toString()):i=new ri(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ni(!0,i)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let i=new ri(this.current.getPosition(),this.buffer.toString());return new ni(!0,i)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ni(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ri(this.current.getPosition(),this.buffer.toString());return new ni(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ni(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let i=new ri(this.current.getPosition(),this.buffer.toString());return new ni(!0,i)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ni(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new qt(n+5,qt.FNC1);if(i>=5&&i<15)return new qt(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,7);if(o>=64&&o<90)return new qt(n+7,""+(o+1));if(o>=90&&o<116)return new qt(n+7,""+(o+7));let a=this.extractNumericValueFromBitArray(n,8),c;switch(a){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new U}return new qt(n+8,c)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,5);if(i>=5&&i<16)return!0;if(n+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(n,6);return o>=16&&o<63}decodeAlphanumeric(n){let i=this.extractNumericValueFromBitArray(n,5);if(i===15)return new qt(n+5,qt.FNC1);if(i>=5&&i<15)return new qt(n+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(n,6);if(o>=32&&o<58)return new qt(n+6,""+(o+33));let a;switch(o){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Gn("Decoding invalid alphanumeric value: "+o)}return new qt(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<5&&i+n<this.information.getSize();++i)if(i===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+i))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let i=n;i<n+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let i=0;i<4&&i+n<this.information.getSize();++i)if(this.information.get(n+i))return!1;return!0}}class Hl{constructor(n){this.information=n,this.generalDecoder=new Mi(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jt extends Hl{constructor(n){super(n)}encodeCompressedGtin(n,i){n.append("(01)");let o=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,i,o)}encodeCompressedGtinWithoutAI(n,i,o){for(let a=0;a<4;++a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*a,10);c/100===0&&n.append("0"),c/10===0&&n.append("0"),n.append(c)}Jt.appendCheckDigit(n,o)}static appendCheckDigit(n,i){let o=0;for(let a=0;a<13;a++){let c=n.charAt(a+i).charCodeAt(0)-"0".charCodeAt(0);o+=a&1?c:3*c}o=10-o%10,o===10&&(o=0),n.append(o)}}Jt.GTIN_SIZE=40;class Di extends Jt{constructor(n){super(n)}parseInformation(){let n=new ye;n.append("(01)");let i=n.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Di.HEADER_SIZE,4);return n.append(o),this.encodeCompressedGtinWithoutAI(n,Di.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(n,Di.HEADER_SIZE+44)}}Di.HEADER_SIZE=1+1+2;class Fs extends Hl{constructor(n){super(n)}parseInformation(){let n=new ye;return this.getGeneralDecoder().decodeAllCodes(n,Fs.HEADER_SIZE)}}Fs.HEADER_SIZE=2+1+2;class Us extends Jt{constructor(n){super(n)}encodeCompressedWeight(n,i,o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(n,a);let c=this.checkWeight(a),f=1e5;for(let d=0;d<5;++d)c/f===0&&n.append("0"),f/=10;n.append(c)}}class Xn extends Us{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+Us.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new H;let n=new ye;return this.encodeCompressedGtin(n,Xn.HEADER_SIZE),this.encodeCompressedWeight(n,Xn.HEADER_SIZE+Us.GTIN_SIZE,Xn.WEIGHT_SIZE),n.toString()}}Xn.HEADER_SIZE=4+1,Xn.WEIGHT_SIZE=15;class jp extends Xn{constructor(n){super(n)}addWeightCode(n,i){n.append("(3103)")}checkWeight(n){return n}}class zp extends Xn{constructor(n){super(n)}addWeightCode(n,i){i<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Qn extends Jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+Jt.GTIN_SIZE)throw new H;let n=new ye;this.encodeCompressedGtin(n,Qn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+Jt.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);n.append("(392"),n.append(i),n.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+Jt.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return n.append(o.getNewString()),n.toString()}}Qn.HEADER_SIZE=5+1+2,Qn.LAST_DIGIT_SIZE=2;class Wt extends Jt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Wt.HEADER_SIZE+Jt.GTIN_SIZE)throw new H;let n=new ye;this.encodeCompressedGtin(n,Wt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+Jt.GTIN_SIZE,Wt.LAST_DIGIT_SIZE);n.append("(393"),n.append(i),n.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Wt.HEADER_SIZE+Jt.GTIN_SIZE+Wt.LAST_DIGIT_SIZE,Wt.FIRST_THREE_DIGITS_SIZE);o/100==0&&n.append("0"),o/10==0&&n.append("0"),n.append(o);let a=this.getGeneralDecoder().decodeGeneralPurposeField(Wt.HEADER_SIZE+Jt.GTIN_SIZE+Wt.LAST_DIGIT_SIZE+Wt.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}Wt.HEADER_SIZE=5+1+2,Wt.LAST_DIGIT_SIZE=2,Wt.FIRST_THREE_DIGITS_SIZE=10;class et extends Us{constructor(n,i,o){super(n),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE+et.DATE_SIZE)throw new H;let n=new ye;return this.encodeCompressedGtin(n,et.HEADER_SIZE),this.encodeCompressedWeight(n,et.HEADER_SIZE+et.GTIN_SIZE,et.WEIGHT_SIZE),this.encodeCompressedDate(n,et.HEADER_SIZE+et.GTIN_SIZE+et.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,et.DATE_SIZE);if(o==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&n.append("0"),n.append(f),c/10==0&&n.append("0"),n.append(c),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,i){n.append("("),n.append(this.firstAIdigits),n.append(i/1e5),n.append(")")}checkWeight(n){return n%1e5}}et.HEADER_SIZE=7+1,et.WEIGHT_SIZE=20,et.DATE_SIZE=16;function s1(A){try{if(A.get(1))return new Di(A);if(!A.get(2))return new Fs(A);switch(Mi.extractNumericValueFromBitArray(A,1,4)){case 4:return new jp(A);case 5:return new zp(A)}switch(Mi.extractNumericValueFromBitArray(A,1,5)){case 12:return new Qn(A);case 13:return new Wt(A)}switch(Mi.extractNumericValueFromBitArray(A,1,7)){case 56:return new et(A,"310","11");case 57:return new et(A,"320","11");case 58:return new et(A,"310","13");case 59:return new et(A,"320","13");case 60:return new et(A,"310","15");case 61:return new et(A,"320","15");case 62:return new et(A,"310","17");case 63:return new et(A,"320","17")}}catch(n){throw console.log(n),new Gn("unknown decoder: "+A)}}class Cr{constructor(n,i,o,a){this.leftchar=n,this.rightchar=i,this.finderpattern=o,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,i){return n instanceof Cr?Cr.equalsOrNull(n.leftchar,i.leftchar)&&Cr.equalsOrNull(n.rightchar,i.rightchar)&&Cr.equalsOrNull(n.finderpattern,i.finderpattern):!1}static equalsOrNull(n,i){return n===null?i===null:Cr.equals(n,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Vl{constructor(n,i,o){this.pairs=n,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,i){return n instanceof Vl?this.checkEqualitity(n,i)&&n.wasReversed===i.wasReversed:!1}checkEqualitity(n,i){if(!n||!i)return;let o;return n.forEach((a,c)=>{i.forEach(f=>{a.getLeftChar().getValue()===f.getLeftChar().getValue()&&a.getRightChar().getValue()===f.getRightChar().getValue()&&a.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class K extends Pt{constructor(n){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,i,o){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(n,i))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(n,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,n))}catch(c){if(c instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new H}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return n&&(this.rows=this.rows.reverse()),i}checkRows(n,i){for(let o=i;o<this.rows.length;o++){let a=this.rows[o];this.pairs.length=0;for(let f of n)this.pairs.push(f.getPairs());if(this.pairs.push(a.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(n);c.push(a);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new H}static isValidSequence(n){for(let i of K.FINDER_PATTERN_SEQUENCES){if(n.length>i.length)continue;let o=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}return!1}storeRow(n,i){let o=0,a=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>n){c=f.isEquivalent(this.pairs);break}a=f.isEquivalent(this.pairs),o++}c||a||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Vl(this.pairs,n,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,i){for(let o of i)if(o.getPairs().length!==n.length){for(let a of o.getPairs())for(let c of n)if(Cr.equals(a,c))break}}static isPartialRow(n,i){for(let o of i){let a=!0;for(let c of n){let f=!1;for(let d of o.getPairs())if(c.equals(d)){f=!0;break}if(!f){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let i=Up.buildBitArray(n),a=s1(i).parseInformation(),c=n[0].getFinderPattern().getResultPoints(),f=n[n.length-1].getFinderPattern().getResultPoints(),d=[c[0],c[1],f[0],f[1]];return new Ze(a,null,null,d,ce.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),i=n.getLeftChar(),o=n.getRightChar();if(o==null)return!1;let a=o.getChecksumPortion(),c=2;for(let d=1;d<this.pairs.size();++d){let g=this.pairs.get(d);a+=g.getLeftChar().getChecksumPortion(),c++;let x=g.getRightChar();x!=null&&(a+=x.getChecksumPortion(),c++)}return a%=211,211*(c-4)+a==i.getValue()}static getNextSecondBar(n,i){let o;return n.get(i)?(o=n.getNextUnset(i),o=n.getNextSet(o)):(o=n.getNextSet(i),o=n.getNextUnset(o)),o}retrieveNextPair(n,i,o){let a=i.length%2==0;this.startFromEven&&(a=!a);let c,f=!0,d=-1;do this.findNextPair(n,i,d),c=this.parseFoundFinderPattern(n,o,a),c==null?d=K.getNextSecondBar(n,this.startEnd[0]):f=!1;while(f);let g=this.decodeDataCharacter(n,c,a,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new H;let x;try{x=this.decodeDataCharacter(n,c,a,!1)}catch(E){x=null,this.verbose&&console.log(E)}return new Cr(g,x,c,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,i,o){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=n.getSize(),f;o>=0?f=o:this.isEmptyPair(i)?f=0:f=i[i.length-1].getFinderPattern().getStartEnd()[1];let d=i.length%2!=0;this.startFromEven&&(d=!d);let g=!1;for(;f<c&&(g=!n.get(f),!!g);)f++;let x=0,E=f;for(let S=f;S<c;S++)if(n.get(S)!=g)a[x]++;else{if(x==3){if(d&&K.reverseCounters(a),K.isFinderPattern(a)){this.startEnd[0]=E,this.startEnd[1]=S;return}d&&K.reverseCounters(a),E+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,x--}else x++;a[x]=1,g=!g}throw new H}static reverseCounters(n){let i=n.length;for(let o=0;o<i/2;++o){let a=n[o];n[o]=n[i-o-1],n[i-o-1]=a}}parseFoundFinderPattern(n,i,o){let a,c,f;if(o){let x=this.startEnd[0]-1;for(;x>=0&&!n.get(x);)x--;x++,a=this.startEnd[0]-x,c=x,f=this.startEnd[1]}else c=this.startEnd[0],f=n.getNextUnset(this.startEnd[1]+1),a=f-this.startEnd[1];let d=this.getDecodeFinderCounters();D.arraycopy(d,0,d,1,d.length-1),d[0]=a;let g;try{g=this.parseFinderValue(d,K.FINDER_PATTERNS)}catch{return null}return new Bs(g,[c,f],c,f,i)}decodeDataCharacter(n,i,o,a){let c=this.getDataCharacterCounters();for(let We=0;We<c.length;We++)c[We]=0;if(a)K.recordPatternInReverse(n,i.getStartEnd()[0],c);else{K.recordPattern(n,i.getStartEnd()[1],c);for(let We=0,Mt=c.length-1;We<Mt;We++,Mt--){let cn=c[We];c[We]=c[Mt],c[Mt]=cn}}let f=17,d=Re.sum(new Int32Array(c))/f,g=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(d-g)/g>.3)throw new H;let x=this.getOddCounts(),E=this.getEvenCounts(),S=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let We=0;We<c.length;We++){let Mt=1*c[We]/d,cn=Mt+.5;if(cn<1){if(Mt<.3)throw new H;cn=1}else if(cn>8){if(Mt>8.7)throw new H;cn=8}let Fi=We/2;We&1?(E[Fi]=cn,v[Fi]=Mt-cn):(x[Fi]=cn,S[Fi]=Mt-cn)}this.adjustOddEvenCounts(f);let b=4*i.getValue()+(o?0:2)+(a?0:1)-1,L=0,P=0;for(let We=x.length-1;We>=0;We--){if(K.isNotA1left(i,o,a)){let Mt=K.WEIGHTS[b][2*We];P+=x[We]*Mt}L+=x[We]}let j=0;for(let We=E.length-1;We>=0;We--)if(K.isNotA1left(i,o,a)){let Mt=K.WEIGHTS[b][2*We+1];j+=E[We]*Mt}let W=P+j;if(L&1||L>13||L<4)throw new H;let ee=(13-L)/2,te=K.SYMBOL_WIDEST[ee],J=9-te,_e=Yn.getRSSvalue(x,te,!0),Ce=Yn.getRSSvalue(E,J,!1),en=K.EVEN_TOTAL_SUBSET[ee],Dn=K.GSUM[ee],tn=_e*en+Ce+Dn;return new Ri(tn,W)}static isNotA1left(n,i,o){return!(n.getValue()==0&&i&&o)}adjustOddEvenCounts(n){let i=Re.sum(new Int32Array(this.getOddCounts())),o=Re.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1;i>13?c=!0:i<4&&(a=!0);let f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let g=i+o-n,x=(i&1)==1,E=(o&1)==0;if(g==1)if(x){if(E)throw new H;c=!0}else{if(!E)throw new H;d=!0}else if(g==-1)if(x){if(E)throw new H;a=!0}else{if(!E)throw new H;f=!0}else if(g==0){if(x){if(!E)throw new H;i<o?(a=!0,d=!0):(c=!0,f=!0)}else if(E)throw new H}else throw new H;if(a){if(c)throw new H;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new H;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class Hp extends Ri{constructor(n,i,o){super(n,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class at extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,i,o){const a=this.decodePair(i,!1,n,o);at.addOrTally(this.possibleLeftPairs,a),i.reverse();let c=this.decodePair(i,!0,n,o);at.addOrTally(this.possibleRightPairs,c),i.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&at.checkChecksum(f,d))return at.constructResult(f,d)}throw new H}static addOrTally(n,i){if(i==null)return;let o=!1;for(let a of n)if(a.getValue()===i.getValue()){a.incrementCount(),o=!0;break}o||n.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,i){let o=4537077*n.getValue()+i.getValue(),a=new String(o).toString(),c=new ye;for(let x=13-a.length;x>0;x--)c.append("0");c.append(a);let f=0;for(let x=0;x<13;x++){let E=c.charAt(x).charCodeAt(0)-"0".charCodeAt(0);f+=x&1?E:3*E}f=10-f%10,f===10&&(f=0),c.append(f.toString());let d=n.getFinderPattern().getResultPoints(),g=i.getFinderPattern().getResultPoints();return new Ze(c.toString(),null,0,[d[0],d[1],g[0],g[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(n,i){let o=(n.getChecksumPortion()+16*i.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+i.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,o===a}decodePair(n,i,o,a){try{let c=this.findFinderPattern(n,i),f=this.parseFoundFinderPattern(n,o,i,c),d=a==null?null:a.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let E=(c[0]+c[1])/2;i&&(E=n.getSize()-1-E),d.foundPossibleResultPoint(new le(E,o))}let g=this.decodeDataCharacter(n,f,!0),x=this.decodeDataCharacter(n,f,!1);return new Hp(1597*g.getValue()+x.getValue(),g.getChecksumPortion()+4*x.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(n,i,o){let a=this.getDataCharacterCounters();for(let j=0;j<a.length;j++)a[j]=0;if(o)pt.recordPatternInReverse(n,i.getStartEnd()[0],a);else{pt.recordPattern(n,i.getStartEnd()[1]+1,a);for(let j=0,W=a.length-1;j<W;j++,W--){let ee=a[j];a[j]=a[W],a[W]=ee}}let c=o?16:15,f=Re.sum(new Int32Array(a))/c,d=this.getOddCounts(),g=this.getEvenCounts(),x=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let j=0;j<a.length;j++){let W=a[j]/f,ee=Math.floor(W+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(j/2);j&1?(g[te]=ee,E[te]=W-ee):(d[te]=ee,x[te]=W-ee)}this.adjustOddEvenCounts(o,c);let S=0,v=0;for(let j=d.length-1;j>=0;j--)v*=9,v+=d[j],S+=d[j];let b=0,L=0;for(let j=g.length-1;j>=0;j--)b*=9,b+=g[j],L+=g[j];let P=v+3*b;if(o){if(S&1||S>12||S<4)throw new H;let j=(12-S)/2,W=at.OUTSIDE_ODD_WIDEST[j],ee=9-W,te=Yn.getRSSvalue(d,W,!1),J=Yn.getRSSvalue(g,ee,!0),_e=at.OUTSIDE_EVEN_TOTAL_SUBSET[j],Ce=at.OUTSIDE_GSUM[j];return new Ri(te*_e+J+Ce,P)}else{if(L&1||L>10||L<4)throw new H;let j=(10-L)/2,W=at.INSIDE_ODD_WIDEST[j],ee=9-W,te=Yn.getRSSvalue(d,W,!0),J=Yn.getRSSvalue(g,ee,!1),_e=at.INSIDE_ODD_TOTAL_SUBSET[j],Ce=at.INSIDE_GSUM[j];return new Ri(J*_e+te+Ce,P)}}findFinderPattern(n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=n.getSize(),c=!1,f=0;for(;f<a&&(c=!n.get(f),i!==c);)f++;let d=0,g=f;for(let x=f;x<a;x++)if(n.get(x)!==c)o[d]++;else{if(d===3){if(Pt.isFinderPattern(o))return[g,x];g+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,c=!c}throw new H}parseFoundFinderPattern(n,i,o,a){let c=n.get(a[0]),f=a[0]-1;for(;f>=0&&c!==n.get(f);)f--;f++;const d=a[0]-f,g=this.getDecodeFinderCounters(),x=new Int32Array(g.length);D.arraycopy(g,0,x,1,g.length-1),x[0]=d;const E=this.parseFinderValue(x,at.FINDER_PATTERNS);let S=f,v=a[1];return o&&(S=n.getSize()-1-S,v=n.getSize()-1-v),new Bs(E,[f,a[1]],S,v,i)}adjustOddEvenCounts(n,i){let o=Re.sum(new Int32Array(this.getOddCounts())),a=Re.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,d=!1,g=!1;n?(o>12?f=!0:o<4&&(c=!0),a>12?g=!0:a<4&&(d=!0)):(o>11?f=!0:o<5&&(c=!0),a>10?g=!0:a<4&&(d=!0));let x=o+a-i,E=(o&1)===(n?1:0),S=(a&1)===1;if(x===1)if(E){if(S)throw new H;f=!0}else{if(!S)throw new H;g=!0}else if(x===-1)if(E){if(S)throw new H;c=!0}else{if(!S)throw new H;d=!0}else if(x===0){if(E){if(!S)throw new H;o<a?(c=!0,g=!0):(f=!0,d=!0)}else if(S)throw new H}else throw new H;if(c){if(f)throw new H;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(g)throw new H;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],at.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],at.OUTSIDE_GSUM=[0,161,961,2015,2715],at.INSIDE_GSUM=[0,336,1036,1516],at.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],at.INSIDE_ODD_WIDEST=[2,4,6,8],at.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Li extends pt{constructor(n,i){super(),this.readers=[],this.verbose=i===!0;const o=n?n.get(Z.POSSIBLE_FORMATS):null,a=n&&n.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ce.EAN_13)||o.includes(ce.UPC_A)||o.includes(ce.EAN_8)||o.includes(ce.UPC_E))&&this.readers.push(new jl(n)),o.includes(ce.CODE_39)&&this.readers.push(new yt(a)),o.includes(ce.CODE_128)&&this.readers.push(new ne),o.includes(ce.ITF)&&this.readers.push(new He),o.includes(ce.RSS_14)&&this.readers.push(new at),o.includes(ce.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))):(this.readers.push(new jl(n)),this.readers.push(new yt),this.readers.push(new jl(n)),this.readers.push(new ne),this.readers.push(new He),this.readers.push(new at),this.readers.push(new K(this.verbose)))}decodeRow(n,i,o){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,i,o)}catch{}throw new H}reset(){this.readers.forEach(n=>n.reset())}}class Vp extends Zt{constructor(n=500,i){super(new Li(i),n,i)}}class Be{constructor(n,i,o){this.ecCodewords=n,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Pe{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(n,i,o,a,c,f){this.versionNumber=n,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=c,this.ecBlocks=f;let d=0;const g=f.getECCodewords(),x=f.getECBlocks();for(let E of x)d+=E.getCount()*(E.getDataCodewords()+g);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,i){if(n&1||i&1)throw new U;for(let o of Oe.VERSIONS)if(o.symbolSizeRows===n&&o.symbolSizeColumns===i)return o;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new Be(5,new Pe(1,3))),new Oe(2,12,12,10,10,new Be(7,new Pe(1,5))),new Oe(3,14,14,12,12,new Be(10,new Pe(1,8))),new Oe(4,16,16,14,14,new Be(12,new Pe(1,12))),new Oe(5,18,18,16,16,new Be(14,new Pe(1,18))),new Oe(6,20,20,18,18,new Be(18,new Pe(1,22))),new Oe(7,22,22,20,20,new Be(20,new Pe(1,30))),new Oe(8,24,24,22,22,new Be(24,new Pe(1,36))),new Oe(9,26,26,24,24,new Be(28,new Pe(1,44))),new Oe(10,32,32,14,14,new Be(36,new Pe(1,62))),new Oe(11,36,36,16,16,new Be(42,new Pe(1,86))),new Oe(12,40,40,18,18,new Be(48,new Pe(1,114))),new Oe(13,44,44,20,20,new Be(56,new Pe(1,144))),new Oe(14,48,48,22,22,new Be(68,new Pe(1,174))),new Oe(15,52,52,24,24,new Be(42,new Pe(2,102))),new Oe(16,64,64,14,14,new Be(56,new Pe(2,140))),new Oe(17,72,72,16,16,new Be(36,new Pe(4,92))),new Oe(18,80,80,18,18,new Be(48,new Pe(4,114))),new Oe(19,88,88,20,20,new Be(56,new Pe(4,144))),new Oe(20,96,96,22,22,new Be(68,new Pe(4,174))),new Oe(21,104,104,24,24,new Be(56,new Pe(6,136))),new Oe(22,120,120,18,18,new Be(68,new Pe(6,175))),new Oe(23,132,132,20,20,new Be(62,new Pe(8,163))),new Oe(24,144,144,22,22,new Be(62,new Pe(8,156),new Pe(2,155))),new Oe(25,8,18,6,16,new Be(7,new Pe(1,5))),new Oe(26,8,32,6,14,new Be(11,new Pe(1,10))),new Oe(27,12,26,10,24,new Be(14,new Pe(1,16))),new Oe(28,12,36,10,16,new Be(18,new Pe(1,22))),new Oe(29,16,36,14,16,new Be(24,new Pe(1,32))),new Oe(30,16,48,14,22,new Be(28,new Pe(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class Wl{constructor(n){const i=n.getHeight();if(i<8||i>144||i&1)throw new U;this.version=Wl.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new Ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const i=n.getHeight(),o=n.getWidth();return Oe.getVersionForDimensions(i,o)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,a=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let d=!1,g=!1,x=!1,E=!1;do if(o===c&&a===0&&!d)n[i++]=this.readCorner1(c,f)&255,o-=2,a+=2,d=!0;else if(o===c-2&&a===0&&f&3&&!g)n[i++]=this.readCorner2(c,f)&255,o-=2,a+=2,g=!0;else if(o===c+4&&a===2&&!(f&7)&&!x)n[i++]=this.readCorner3(c,f)&255,o-=2,a+=2,x=!0;else if(o===c-2&&a===0&&(f&7)===4&&!E)n[i++]=this.readCorner4(c,f)&255,o-=2,a+=2,E=!0;else{do o<c&&a>=0&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,f)&255),o-=2,a+=2;while(o>=0&&a<f);o+=1,a+=3;do o>=0&&a<f&&!this.readMappingMatrix.get(a,o)&&(n[i++]=this.readUtah(o,a,c,f)&255),o+=2,a-=2;while(o<c&&a>=0);o+=3,a+=1}while(o<c||a<f);if(i!==this.version.getTotalCodewords())throw new U;return n}readModule(n,i,o,a){return n<0&&(n+=o,i+=4-(o+4&7)),i<0&&(i+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(i,n),this.mappingBitMatrix.get(i,n)}readUtah(n,i,o,a){let c=0;return this.readModule(n-2,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-2,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n-1,i,o,a)&&(c|=1),c<<=1,this.readModule(n,i-2,o,a)&&(c|=1),c<<=1,this.readModule(n,i-1,o,a)&&(c|=1),c<<=1,this.readModule(n,i,o,a)&&(c|=1),c}readCorner1(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,1,n,i)&&(o|=1),o<<=1,this.readModule(n-1,2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}readCorner2(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-4,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner3(n,i){let o=0;return this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(0,i-3,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-3,n,i)&&(o|=1),o<<=1,this.readModule(1,i-2,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o}readCorner4(n,i){let o=0;return this.readModule(n-3,0,n,i)&&(o|=1),o<<=1,this.readModule(n-2,0,n,i)&&(o|=1),o<<=1,this.readModule(n-1,0,n,i)&&(o|=1),o<<=1,this.readModule(0,i-2,n,i)&&(o|=1),o<<=1,this.readModule(0,i-1,n,i)&&(o|=1),o<<=1,this.readModule(1,i-1,n,i)&&(o|=1),o<<=1,this.readModule(2,i-1,n,i)&&(o|=1),o<<=1,this.readModule(3,i-1,n,i)&&(o|=1),o}extractDataRegion(n){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(n.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=i/a|0,d=o/c|0,g=f*a,x=d*c,E=new Ee(x,g);for(let S=0;S<f;++S){const v=S*a;for(let b=0;b<d;++b){const L=b*c;for(let P=0;P<a;++P){const j=S*(a+2)+1+P,W=v+P;for(let ee=0;ee<c;++ee){const te=b*(c+2)+1+ee;if(n.get(te,j)){const J=L+ee;E.set(J,W)}}}}}return E}}class Gl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i){const o=i.getECBlocks();let a=0;const c=o.getECBlocks();for(let P of c)a+=P.getCount();const f=new Array(a);let d=0;for(let P of c)for(let j=0;j<P.getCount();j++){const W=P.getDataCodewords(),ee=o.getECCodewords()+W;f[d++]=new Gl(W,new Uint8Array(ee))}const x=f[0].codewords.length-o.getECCodewords(),E=x-1;let S=0;for(let P=0;P<E;P++)for(let j=0;j<d;j++)f[j].codewords[P]=n[S++];const v=i.getVersionNumber()===24,b=v?8:d;for(let P=0;P<b;P++)f[P].codewords[x-1]=n[S++];const L=f[0].codewords.length;for(let P=x;P<L;P++)for(let j=0;j<d;j++){const W=v?(j+8)%d:j,ee=v&&W>7?P-1:P;f[W].codewords[ee]=n[S++]}if(S!==n.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Yl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new C(""+n);let i=0,o=this.bitOffset,a=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,d=n<f?n:f,g=f-d,x=255>>8-d<<g;i=(c[a]&x)>>g,n-=d,o+=d,o===8&&(o=0,a++)}if(n>0){for(;n>=8;)i=i<<8|c[a]&255,a++,n-=8;if(n>0){const f=8-n,d=255>>f<<f;i=i<<n|(c[a]&d)>>f,o+=n}}return this.bitOffset=o,this.byteOffset=a,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class Ar{static decode(n){const i=new Yl(n),o=new ye,a=new ye,c=new Array;let f=Et.ASCII_ENCODE;do if(f===Et.ASCII_ENCODE)f=this.decodeAsciiSegment(i,o,a);else{switch(f){case Et.C40_ENCODE:this.decodeC40Segment(i,o);break;case Et.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(i,o,c);break;default:throw new U}f=Et.ASCII_ENCODE}while(f!==Et.PAD_ENCODE&&i.available()>0);return a.length()>0&&o.append(a.toString()),new So(n,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(n,i,o){let a=!1;do{let c=n.readBits(8);if(c===0)throw new U;if(c<=128)return a&&(c+=128),i.append(String.fromCharCode(c-1)),Et.ASCII_ENCODE;if(c===129)return Et.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&i.append("0"),i.append(""+f)}else switch(c){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(c!==254||n.available()!==0)throw new U;break}}while(n.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(n,i){let o=!1;const a=[];let c=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),a);for(let d=0;d<3;d++){const g=a[d];switch(c){case 0:if(g<3)c=g+1;else if(g<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[g];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new U;break;case 1:o?(i.append(String.fromCharCode(g+128)),o=!1):i.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[g];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(g){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}c=0;break;case 3:o?(i.append(String.fromCharCode(g+224)),o=!1):i.append(String.fromCharCode(g+96)),c=0;break;default:throw new U}}}while(n.available()>0)}static decodeTextSegment(n,i){let o=!1,a=[],c=0;do{if(n.available()===8)return;const f=n.readBits(8);if(f===254)return;this.parseTwoBytes(f,n.readBits(8),a);for(let d=0;d<3;d++){const g=a[d];switch(c){case 0:if(g<3)c=g+1;else if(g<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[g];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else throw new U;break;case 1:o?(i.append(String.fromCharCode(g+128)),o=!1):i.append(String.fromCharCode(g)),c=0;break;case 2:if(g<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[g];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x)}else switch(g){case 27:i.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}c=0;break;case 3:if(g<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[g];o?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),o=!1):i.append(x),c=0}else throw new U;break;default:throw new U}}}while(n.available()>0)}static decodeAnsiX12Segment(n,i){const o=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(f<14)i.append(String.fromCharCode(f+44));else if(f<40)i.append(String.fromCharCode(f+51));else throw new U;break}}}while(n.available()>0)}static parseTwoBytes(n,i,o){let a=(n<<8)+i-1,c=Math.floor(a/1600);o[0]=c,a-=c*1600,c=Math.floor(a/40),o[1]=c,o[2]=a-c*40}static decodeEdifactSegment(n,i){do{if(n.available()<=16)return;for(let o=0;o<4;o++){let a=n.readBits(6);if(a===31){const c=8-n.getBitOffset();c!==8&&n.readBits(c);return}a&32||(a|=64),i.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,i,o){let a=1+n.getByteOffset();const c=this.unrandomize255State(n.readBits(8),a++);let f;if(c===0?f=n.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(n.readBits(8),a++),f<0)throw new U;const d=new Uint8Array(f);for(let g=0;g<f;g++){if(n.available()<8)throw new U;d[g]=this.unrandomize255State(n.readBits(8),a++)}o.push(d);try{i.append(we.decode(d,ae.ISO88591))}catch(g){throw new Gn("Platform does not support required encoding: "+g.message)}}static unrandomize255State(n,i){const o=149*i%255+1,a=n-o;return a>=0?a:a+256}}Ar.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ar.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ar.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ar.TEXT_SHIFT2_SET_CHARS=Ar.C40_SHIFT2_SET_CHARS,Ar.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Wp{constructor(){this.rsDecoder=new Io(Le.DATA_MATRIX_FIELD_256)}decode(n){const i=new Wl(n),o=i.getVersion(),a=i.readCodewords(),c=Gl.getDataBlocks(a,o);let f=0;for(let x of c)f+=x.getNumDataCodewords();const d=new Uint8Array(f),g=c.length;for(let x=0;x<g;x++){const E=c[x],S=E.getCodewords(),v=E.getNumDataCodewords();this.correctErrors(S,v);for(let b=0;b<v;b++)d[b*g+x]=S[b]}return Ar.decode(d)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new R}for(let a=0;a<i;a++)n[a]=o[a]}}class ht{constructor(n){this.image=n,this.rectangleDetector=new ar(this.image)}detect(){const n=this.rectangleDetector.detect();let i=this.detectSolid1(n);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new H;i=this.shiftToModuleCenter(i);const o=i[0],a=i[1],c=i[2],f=i[3];let d=this.transitionsBetween(o,f)+1,g=this.transitionsBetween(c,f)+1;(d&1)===1&&(d+=1),(g&1)===1&&(g+=1),4*d<7*g&&4*g<7*d&&(d=g=Math.max(d,g));let x=ht.sampleGrid(this.image,o,a,c,f,d,g);return new ks(x,[o,a,c,f])}static shiftPoint(n,i,o){let a=(i.getX()-n.getX())/(o+1),c=(i.getY()-n.getY())/(o+1);return new le(n.getX()+a,n.getY()+c)}static moveAway(n,i,o){let a=n.getX(),c=n.getY();return a<i?a-=1:a+=1,c<o?c-=1:c+=1,new le(a,c)}detectSolid1(n){let i=n[0],o=n[1],a=n[3],c=n[2],f=this.transitionsBetween(i,o),d=this.transitionsBetween(o,a),g=this.transitionsBetween(a,c),x=this.transitionsBetween(c,i),E=f,S=[c,i,o,a];return E>d&&(E=d,S[0]=i,S[1]=o,S[2]=a,S[3]=c),E>g&&(E=g,S[0]=o,S[1]=a,S[2]=c,S[3]=i),E>x&&(S[0]=a,S[1]=c,S[2]=i,S[3]=o),S}detectSolid2(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c),d=ht.shiftPoint(o,a,(f+1)*4),g=ht.shiftPoint(a,o,(f+1)*4),x=this.transitionsBetween(d,i),E=this.transitionsBetween(g,c);return x<E?(n[0]=i,n[1]=o,n[2]=a,n[3]=c):(n[0]=o,n[1]=a,n[2]=c,n[3]=i),n}correctTopRight(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c),d=this.transitionsBetween(o,c),g=ht.shiftPoint(i,o,(d+1)*4),x=ht.shiftPoint(a,o,(f+1)*4);f=this.transitionsBetween(g,c),d=this.transitionsBetween(x,c);let E=new le(c.getX()+(a.getX()-o.getX())/(f+1),c.getY()+(a.getY()-o.getY())/(f+1)),S=new le(c.getX()+(i.getX()-o.getX())/(d+1),c.getY()+(i.getY()-o.getY())/(d+1));if(!this.isValid(E))return this.isValid(S)?S:null;if(!this.isValid(S))return E;let v=this.transitionsBetween(g,E)+this.transitionsBetween(x,E),b=this.transitionsBetween(g,S)+this.transitionsBetween(x,S);return v>b?E:S}shiftToModuleCenter(n){let i=n[0],o=n[1],a=n[2],c=n[3],f=this.transitionsBetween(i,c)+1,d=this.transitionsBetween(a,c)+1,g=ht.shiftPoint(i,o,d*4),x=ht.shiftPoint(a,o,f*4);f=this.transitionsBetween(g,c)+1,d=this.transitionsBetween(x,c)+1,(f&1)===1&&(f+=1),(d&1)===1&&(d+=1);let E=(i.getX()+o.getX()+a.getX()+c.getX())/4,S=(i.getY()+o.getY()+a.getY()+c.getY())/4;i=ht.moveAway(i,E,S),o=ht.moveAway(o,E,S),a=ht.moveAway(a,E,S),c=ht.moveAway(c,E,S);let v,b;return g=ht.shiftPoint(i,o,d*4),g=ht.shiftPoint(g,c,f*4),v=ht.shiftPoint(o,i,d*4),v=ht.shiftPoint(v,a,f*4),x=ht.shiftPoint(a,c,d*4),x=ht.shiftPoint(x,o,f*4),b=ht.shiftPoint(c,a,d*4),b=ht.shiftPoint(b,i,f*4),[g,v,x,b]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,i,o,a,c,f,d){return Er.getInstance().sampleGrid(n,f,d,.5,.5,f-.5,.5,f-.5,d-.5,.5,d-.5,i.getX(),i.getY(),c.getX(),c.getY(),a.getX(),a.getY(),o.getX(),o.getY())}transitionsBetween(n,i){let o=Math.trunc(n.getX()),a=Math.trunc(n.getY()),c=Math.trunc(i.getX()),f=Math.trunc(i.getY()),d=Math.abs(f-a)>Math.abs(c-o);if(d){let P=o;o=a,a=P,P=c,c=f,f=P}let g=Math.abs(c-o),x=Math.abs(f-a),E=-g/2,S=a<f?1:-1,v=o<c?1:-1,b=0,L=this.image.get(d?a:o,d?o:a);for(let P=o,j=a;P!==c;P+=v){let W=this.image.get(d?j:P,d?P:j);if(W!==L&&(b++,L=W),E+=x,E>0){if(j===f)break;j+=S,E-=g}}return b}}class Sr{constructor(){this.decoder=new Wp}decode(n,i=null){let o,a;if(i!=null&&i.has(Z.PURE_BARCODE)){const x=Sr.extractPureBits(n.getBlackMatrix());o=this.decoder.decode(x),a=Sr.NO_POINTS}else{const x=new ht(n.getBlackMatrix()).detect();o=this.decoder.decode(x.getBits()),a=x.getPoints()}const c=o.getRawBytes(),f=new Ze(o.getText(),c,8*c.length,a,ce.DATA_MATRIX,D.currentTimeMillis()),d=o.getByteSegments();d!=null&&f.putMetadata(vt.BYTE_SEGMENTS,d);const g=o.getECLevel();return g!=null&&f.putMetadata(vt.ERROR_CORRECTION_LEVEL,g),f}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i==null||o==null)throw new H;const a=this.moduleSize(i,n);let c=i[1];const f=o[1];let d=i[0];const x=(o[0]-d+1)/a,E=(f-c+1)/a;if(x<=0||E<=0)throw new H;const S=a/2;c+=S,d+=S;const v=new Ee(x,E);for(let b=0;b<E;b++){const L=c+b*a;for(let P=0;P<x;P++)n.get(d+P*a,L)&&v.set(P,b)}return v}static moduleSize(n,i){const o=i.getWidth();let a=n[0];const c=n[1];for(;a<o&&i.get(a,c);)a++;if(a===o)throw new H;const f=a-n[0];if(f===0)throw new H;return f}}Sr.NO_POINTS=[];class Gp extends Zt{constructor(n=500){super(new Sr,n)}}var ki;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(ki||(ki={}));class Xe{constructor(n,i,o){this.value=n,this.stringValue=i,this.bits=o,Xe.FOR_BITS.set(o,this),Xe.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Xe.L;case"M":return Xe.M;case"Q":return Xe.Q;case"H":return Xe.H;default:throw new y(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Xe))return!1;const i=n;return this.value===i.value}static forBits(n){if(n<0||n>=Xe.FOR_BITS.size)throw new C;return Xe.FOR_BITS.get(n)}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.L=new Xe(ki.L,"L",1),Xe.M=new Xe(ki.M,"M",0),Xe.Q=new Xe(ki.Q,"Q",3),Xe.H=new Xe(ki.H,"H",2);class Bt{constructor(n){this.errorCorrectionLevel=Xe.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,i){return N.bitCount(n^i)}static decodeFormatInformation(n,i){const o=Bt.doDecodeFormatInformation(n,i);return o!==null?o:Bt.doDecodeFormatInformation(n^Bt.FORMAT_INFO_MASK_QR,i^Bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,i){let o=Number.MAX_SAFE_INTEGER,a=0;for(const c of Bt.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===n||f===i)return new Bt(c[1]);let d=Bt.numBitsDiffering(n,f);d<o&&(a=c[1],o=d),n!==i&&(d=Bt.numBitsDiffering(i,f),d<o&&(a=c[1],o=d))}return o<=3?new Bt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Bt))return!1;const i=n;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Bt.FORMAT_INFO_MASK_QR=21522,Bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(n,...i){this.ecCodewordsPerBlock=n,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const i=this.ecBlocks;for(const o of i)n+=o.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class _{constructor(n,i){this.count=n,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class fe{constructor(n,i,...o){this.versionNumber=n,this.alignmentPatternCenters=i,this.ecBlocks=o;let a=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const d of f)a+=d.getCount()*(d.getDataCodewords()+c);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new U;try{return this.getVersionForNumber((n-17)/4)}catch{throw new U}}static getVersionForNumber(n){if(n<1||n>40)throw new C;return fe.VERSIONS[n-1]}static decodeVersionInformation(n){let i=Number.MAX_SAFE_INTEGER,o=0;for(let a=0;a<fe.VERSION_DECODE_INFO.length;a++){const c=fe.VERSION_DECODE_INFO[a];if(c===n)return fe.getVersionForNumber(a+7);const f=Bt.numBitsDiffering(n,c);f<i&&(o=a+7,i=f)}return i<=3?fe.getVersionForNumber(o):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),i=new Ee(n);i.setRegion(0,0,9,9),i.setRegion(n-8,0,8,9),i.setRegion(0,n-8,9,8);const o=this.alignmentPatternCenters.length;for(let a=0;a<o;a++){const c=this.alignmentPatternCenters[a]-2;for(let f=0;f<o;f++)a===0&&(f===0||f===o-1)||a===o-1&&f===0||i.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return i.setRegion(6,9,1,n-17),i.setRegion(9,6,n-17,1),this.versionNumber>6&&(i.setRegion(n-11,0,3,6),i.setRegion(0,n-11,6,3)),i}toString(){return""+this.versionNumber}}fe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),fe.VERSIONS=[new fe(1,new Int32Array(0),new z(7,new _(1,19)),new z(10,new _(1,16)),new z(13,new _(1,13)),new z(17,new _(1,9))),new fe(2,Int32Array.from([6,18]),new z(10,new _(1,34)),new z(16,new _(1,28)),new z(22,new _(1,22)),new z(28,new _(1,16))),new fe(3,Int32Array.from([6,22]),new z(15,new _(1,55)),new z(26,new _(1,44)),new z(18,new _(2,17)),new z(22,new _(2,13))),new fe(4,Int32Array.from([6,26]),new z(20,new _(1,80)),new z(18,new _(2,32)),new z(26,new _(2,24)),new z(16,new _(4,9))),new fe(5,Int32Array.from([6,30]),new z(26,new _(1,108)),new z(24,new _(2,43)),new z(18,new _(2,15),new _(2,16)),new z(22,new _(2,11),new _(2,12))),new fe(6,Int32Array.from([6,34]),new z(18,new _(2,68)),new z(16,new _(4,27)),new z(24,new _(4,19)),new z(28,new _(4,15))),new fe(7,Int32Array.from([6,22,38]),new z(20,new _(2,78)),new z(18,new _(4,31)),new z(18,new _(2,14),new _(4,15)),new z(26,new _(4,13),new _(1,14))),new fe(8,Int32Array.from([6,24,42]),new z(24,new _(2,97)),new z(22,new _(2,38),new _(2,39)),new z(22,new _(4,18),new _(2,19)),new z(26,new _(4,14),new _(2,15))),new fe(9,Int32Array.from([6,26,46]),new z(30,new _(2,116)),new z(22,new _(3,36),new _(2,37)),new z(20,new _(4,16),new _(4,17)),new z(24,new _(4,12),new _(4,13))),new fe(10,Int32Array.from([6,28,50]),new z(18,new _(2,68),new _(2,69)),new z(26,new _(4,43),new _(1,44)),new z(24,new _(6,19),new _(2,20)),new z(28,new _(6,15),new _(2,16))),new fe(11,Int32Array.from([6,30,54]),new z(20,new _(4,81)),new z(30,new _(1,50),new _(4,51)),new z(28,new _(4,22),new _(4,23)),new z(24,new _(3,12),new _(8,13))),new fe(12,Int32Array.from([6,32,58]),new z(24,new _(2,92),new _(2,93)),new z(22,new _(6,36),new _(2,37)),new z(26,new _(4,20),new _(6,21)),new z(28,new _(7,14),new _(4,15))),new fe(13,Int32Array.from([6,34,62]),new z(26,new _(4,107)),new z(22,new _(8,37),new _(1,38)),new z(24,new _(8,20),new _(4,21)),new z(22,new _(12,11),new _(4,12))),new fe(14,Int32Array.from([6,26,46,66]),new z(30,new _(3,115),new _(1,116)),new z(24,new _(4,40),new _(5,41)),new z(20,new _(11,16),new _(5,17)),new z(24,new _(11,12),new _(5,13))),new fe(15,Int32Array.from([6,26,48,70]),new z(22,new _(5,87),new _(1,88)),new z(24,new _(5,41),new _(5,42)),new z(30,new _(5,24),new _(7,25)),new z(24,new _(11,12),new _(7,13))),new fe(16,Int32Array.from([6,26,50,74]),new z(24,new _(5,98),new _(1,99)),new z(28,new _(7,45),new _(3,46)),new z(24,new _(15,19),new _(2,20)),new z(30,new _(3,15),new _(13,16))),new fe(17,Int32Array.from([6,30,54,78]),new z(28,new _(1,107),new _(5,108)),new z(28,new _(10,46),new _(1,47)),new z(28,new _(1,22),new _(15,23)),new z(28,new _(2,14),new _(17,15))),new fe(18,Int32Array.from([6,30,56,82]),new z(30,new _(5,120),new _(1,121)),new z(26,new _(9,43),new _(4,44)),new z(28,new _(17,22),new _(1,23)),new z(28,new _(2,14),new _(19,15))),new fe(19,Int32Array.from([6,30,58,86]),new z(28,new _(3,113),new _(4,114)),new z(26,new _(3,44),new _(11,45)),new z(26,new _(17,21),new _(4,22)),new z(26,new _(9,13),new _(16,14))),new fe(20,Int32Array.from([6,34,62,90]),new z(28,new _(3,107),new _(5,108)),new z(26,new _(3,41),new _(13,42)),new z(30,new _(15,24),new _(5,25)),new z(28,new _(15,15),new _(10,16))),new fe(21,Int32Array.from([6,28,50,72,94]),new z(28,new _(4,116),new _(4,117)),new z(26,new _(17,42)),new z(28,new _(17,22),new _(6,23)),new z(30,new _(19,16),new _(6,17))),new fe(22,Int32Array.from([6,26,50,74,98]),new z(28,new _(2,111),new _(7,112)),new z(28,new _(17,46)),new z(30,new _(7,24),new _(16,25)),new z(24,new _(34,13))),new fe(23,Int32Array.from([6,30,54,78,102]),new z(30,new _(4,121),new _(5,122)),new z(28,new _(4,47),new _(14,48)),new z(30,new _(11,24),new _(14,25)),new z(30,new _(16,15),new _(14,16))),new fe(24,Int32Array.from([6,28,54,80,106]),new z(30,new _(6,117),new _(4,118)),new z(28,new _(6,45),new _(14,46)),new z(30,new _(11,24),new _(16,25)),new z(30,new _(30,16),new _(2,17))),new fe(25,Int32Array.from([6,32,58,84,110]),new z(26,new _(8,106),new _(4,107)),new z(28,new _(8,47),new _(13,48)),new z(30,new _(7,24),new _(22,25)),new z(30,new _(22,15),new _(13,16))),new fe(26,Int32Array.from([6,30,58,86,114]),new z(28,new _(10,114),new _(2,115)),new z(28,new _(19,46),new _(4,47)),new z(28,new _(28,22),new _(6,23)),new z(30,new _(33,16),new _(4,17))),new fe(27,Int32Array.from([6,34,62,90,118]),new z(30,new _(8,122),new _(4,123)),new z(28,new _(22,45),new _(3,46)),new z(30,new _(8,23),new _(26,24)),new z(30,new _(12,15),new _(28,16))),new fe(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new _(3,117),new _(10,118)),new z(28,new _(3,45),new _(23,46)),new z(30,new _(4,24),new _(31,25)),new z(30,new _(11,15),new _(31,16))),new fe(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new _(7,116),new _(7,117)),new z(28,new _(21,45),new _(7,46)),new z(30,new _(1,23),new _(37,24)),new z(30,new _(19,15),new _(26,16))),new fe(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new _(5,115),new _(10,116)),new z(28,new _(19,47),new _(10,48)),new z(30,new _(15,24),new _(25,25)),new z(30,new _(23,15),new _(25,16))),new fe(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new _(13,115),new _(3,116)),new z(28,new _(2,46),new _(29,47)),new z(30,new _(42,24),new _(1,25)),new z(30,new _(23,15),new _(28,16))),new fe(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new _(17,115)),new z(28,new _(10,46),new _(23,47)),new z(30,new _(10,24),new _(35,25)),new z(30,new _(19,15),new _(35,16))),new fe(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new _(17,115),new _(1,116)),new z(28,new _(14,46),new _(21,47)),new z(30,new _(29,24),new _(19,25)),new z(30,new _(11,15),new _(46,16))),new fe(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new _(13,115),new _(6,116)),new z(28,new _(14,46),new _(23,47)),new z(30,new _(44,24),new _(7,25)),new z(30,new _(59,16),new _(1,17))),new fe(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new _(12,121),new _(7,122)),new z(28,new _(12,47),new _(26,48)),new z(30,new _(39,24),new _(14,25)),new z(30,new _(22,15),new _(41,16))),new fe(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new _(6,121),new _(14,122)),new z(28,new _(6,47),new _(34,48)),new z(30,new _(46,24),new _(10,25)),new z(30,new _(2,15),new _(64,16))),new fe(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new _(17,122),new _(4,123)),new z(28,new _(29,46),new _(14,47)),new z(30,new _(49,24),new _(10,25)),new z(30,new _(24,15),new _(46,16))),new fe(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new _(4,122),new _(18,123)),new z(28,new _(13,46),new _(32,47)),new z(30,new _(48,24),new _(14,25)),new z(30,new _(42,15),new _(32,16))),new fe(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new _(20,117),new _(4,118)),new z(28,new _(40,47),new _(7,48)),new z(30,new _(43,24),new _(22,25)),new z(30,new _(10,15),new _(67,16))),new fe(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new _(19,118),new _(6,119)),new z(28,new _(18,47),new _(31,48)),new z(30,new _(34,24),new _(34,25)),new z(30,new _(20,15),new _(61,16)))];var It;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class An{constructor(n,i){this.value=n,this.isMasked=i}unmaskBitMatrix(n,i){for(let o=0;o<i;o++)for(let a=0;a<i;a++)this.isMasked(o,a)&&n.flip(a,o)}}An.values=new Map([[It.DATA_MASK_000,new An(It.DATA_MASK_000,(A,n)=>(A+n&1)===0)],[It.DATA_MASK_001,new An(It.DATA_MASK_001,(A,n)=>(A&1)===0)],[It.DATA_MASK_010,new An(It.DATA_MASK_010,(A,n)=>n%3===0)],[It.DATA_MASK_011,new An(It.DATA_MASK_011,(A,n)=>(A+n)%3===0)],[It.DATA_MASK_100,new An(It.DATA_MASK_100,(A,n)=>(Math.floor(A/2)+Math.floor(n/3)&1)===0)],[It.DATA_MASK_101,new An(It.DATA_MASK_101,(A,n)=>A*n%6===0)],[It.DATA_MASK_110,new An(It.DATA_MASK_110,(A,n)=>A*n%6<3)],[It.DATA_MASK_111,new An(It.DATA_MASK_111,(A,n)=>(A+n+A*n%3&1)===0)]]);class Yp{constructor(n){const i=n.getHeight();if(i<21||(i&3)!==1)throw new U;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let c=0;c<6;c++)n=this.copyBit(c,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let c=5;c>=0;c--)n=this.copyBit(8,c,n);const i=this.bitMatrix.getHeight();let o=0;const a=i-7;for(let c=i-1;c>=a;c--)o=this.copyBit(8,c,o);for(let c=i-8;c<i;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=Bt.decodeFormatInformation(n,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),i=Math.floor((n-17)/4);if(i<=6)return fe.getVersionForNumber(i);let o=0;const a=n-11;for(let f=5;f>=0;f--)for(let d=n-9;d>=a;d--)o=this.copyBit(d,f,o);let c=fe.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let d=n-9;d>=a;d--)o=this.copyBit(f,d,o);if(c=fe.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===n)return this.parsedVersion=c,c;throw new U}copyBit(n,i,o){return(this.isMirror?this.bitMatrix.get(i,n):this.bitMatrix.get(n,i))?o<<1|1:o<<1}readCodewords(){const n=this.readFormatInformation(),i=this.readVersion(),o=An.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,a);const c=i.buildFunctionPattern();let f=!0;const d=new Uint8Array(i.getTotalCodewords());let g=0,x=0,E=0;for(let S=a-1;S>0;S-=2){S===6&&S--;for(let v=0;v<a;v++){const b=f?a-1-v:v;for(let L=0;L<2;L++)c.get(S-L,b)||(E++,x<<=1,this.bitMatrix.get(S-L,b)&&(x|=1),E===8&&(d[g++]=x,E=0,x=0))}f=!f}if(g!==i.getTotalCodewords())throw new U;return d}remask(){if(this.parsedFormatInfo===null)return;const n=An.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let i=0,o=n.getWidth();i<o;i++)for(let a=i+1,c=n.getHeight();a<c;a++)n.get(i,a)!==n.get(a,i)&&(n.flip(a,i),n.flip(i,a))}}class Xl{constructor(n,i){this.numDataCodewords=n,this.codewords=i}static getDataBlocks(n,i,o){if(n.length!==i.getTotalCodewords())throw new C;const a=i.getECBlocksForLevel(o);let c=0;const f=a.getECBlocks();for(const L of f)c+=L.getCount();const d=new Array(c);let g=0;for(const L of f)for(let P=0;P<L.getCount();P++){const j=L.getDataCodewords(),W=a.getECCodewordsPerBlock()+j;d[g++]=new Xl(j,new Uint8Array(W))}const x=d[0].codewords.length;let E=d.length-1;for(;E>=0&&d[E].codewords.length!==x;)E--;E++;const S=x-a.getECCodewordsPerBlock();let v=0;for(let L=0;L<S;L++)for(let P=0;P<g;P++)d[P].codewords[L]=n[v++];for(let L=E;L<g;L++)d[L].codewords[S]=n[v++];const b=d[0].codewords.length;for(let L=S;L<b;L++)for(let P=0;P<g;P++){const j=P<E?L:L+1;d[P].codewords[j]=n[v++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Sn||(Sn={}));class ge{constructor(n,i,o,a){this.value=n,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=a,ge.FOR_BITS.set(a,this),ge.FOR_VALUE.set(n,this)}static forBits(n){const i=ge.FOR_BITS.get(n);if(i===void 0)throw new C;return i}getCharacterCountBits(n){const i=n.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof ge))return!1;const i=n;return this.value===i.value}toString(){return this.stringValue}}ge.FOR_BITS=new Map,ge.FOR_VALUE=new Map,ge.TERMINATOR=new ge(Sn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ge.NUMERIC=new ge(Sn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ge.ALPHANUMERIC=new ge(Sn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ge.STRUCTURED_APPEND=new ge(Sn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ge.BYTE=new ge(Sn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ge.ECI=new ge(Sn.ECI,"ECI",Int32Array.from([0,0,0]),7),ge.KANJI=new ge(Sn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ge.FNC1_FIRST_POSITION=new ge(Sn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ge.FNC1_SECOND_POSITION=new ge(Sn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ge.HANZI=new ge(Sn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nt{static decode(n,i,o,a){const c=new Yl(n);let f=new ye;const d=new Array;let g=-1,x=-1;try{let E=null,S=!1,v;do{if(c.available()<4)v=ge.TERMINATOR;else{const b=c.readBits(4);v=ge.forBits(b)}switch(v){case ge.TERMINATOR:break;case ge.FNC1_FIRST_POSITION:case ge.FNC1_SECOND_POSITION:S=!0;break;case ge.STRUCTURED_APPEND:if(c.available()<16)throw new U;g=c.readBits(8),x=c.readBits(8);break;case ge.ECI:const b=nt.parseECIValue(c);if(E=Y.getCharacterSetECIByValue(b),E===null)throw new U;break;case ge.HANZI:const L=c.readBits(4),P=c.readBits(v.getCharacterCountBits(i));L===nt.GB2312_SUBSET&&nt.decodeHanziSegment(c,f,P);break;default:const j=c.readBits(v.getCharacterCountBits(i));switch(v){case ge.NUMERIC:nt.decodeNumericSegment(c,f,j);break;case ge.ALPHANUMERIC:nt.decodeAlphanumericSegment(c,f,j,S);break;case ge.BYTE:nt.decodeByteSegment(c,f,j,E,d,a);break;case ge.KANJI:nt.decodeKanjiSegment(c,f,j);break;default:throw new U}break}}while(v!==ge.TERMINATOR)}catch{throw new U}return new So(n,f.toString(),d.length===0?null:d,o===null?null:o.toString(),g,x)}static decodeHanziSegment(n,i,o){if(o*13>n.available())throw new U;const a=new Uint8Array(2*o);let c=0;for(;o>0;){const f=n.readBits(13);let d=f/96<<8&4294967295|f%96;d<959?d+=41377:d+=42657,a[c]=d>>8&255,a[c+1]=d&255,c+=2,o--}try{i.append(we.decode(a,ae.GB2312))}catch(f){throw new U(f)}}static decodeKanjiSegment(n,i,o){if(o*13>n.available())throw new U;const a=new Uint8Array(2*o);let c=0;for(;o>0;){const f=n.readBits(13);let d=f/192<<8&4294967295|f%192;d<7936?d+=33088:d+=49472,a[c]=d>>8,a[c+1]=d,c+=2,o--}try{i.append(we.decode(a,ae.SHIFT_JIS))}catch(f){throw new U(f)}}static decodeByteSegment(n,i,o,a,c,f){if(8*o>n.available())throw new U;const d=new Uint8Array(o);for(let x=0;x<o;x++)d[x]=n.readBits(8);let g;a===null?g=ae.guessEncoding(d,f):g=a.getName();try{i.append(we.decode(d,g))}catch(x){throw new U(x)}c.push(d)}static toAlphaNumericChar(n){if(n>=nt.ALPHANUMERIC_CHARS.length)throw new U;return nt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,i,o,a){const c=i.length();for(;o>1;){if(n.available()<11)throw new U;const f=n.readBits(11);i.append(nt.toAlphaNumericChar(Math.floor(f/45))),i.append(nt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(n.available()<6)throw new U;i.append(nt.toAlphaNumericChar(n.readBits(6)))}if(a)for(let f=c;f<i.length();f++)i.charAt(f)==="%"&&(f<i.length()-1&&i.charAt(f+1)==="%"?i.deleteCharAt(f+1):i.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(n,i,o){for(;o>=3;){if(n.available()<10)throw new U;const a=n.readBits(10);if(a>=1e3)throw new U;i.append(nt.toAlphaNumericChar(Math.floor(a/100))),i.append(nt.toAlphaNumericChar(Math.floor(a/10)%10)),i.append(nt.toAlphaNumericChar(a%10)),o-=3}if(o===2){if(n.available()<7)throw new U;const a=n.readBits(7);if(a>=100)throw new U;i.append(nt.toAlphaNumericChar(Math.floor(a/10))),i.append(nt.toAlphaNumericChar(a%10))}else if(o===1){if(n.available()<4)throw new U;const a=n.readBits(4);if(a>=10)throw new U;i.append(nt.toAlphaNumericChar(a))}}static parseECIValue(n){const i=n.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=n.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=n.readBits(16);return(i&31)<<16&4294967295|o}throw new U}}nt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nt.GB2312_SUBSET=1;class a1{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const i=n[0];n[0]=n[2],n[2]=i}}class Xp{constructor(){this.rsDecoder=new Io(Le.QR_CODE_FIELD_256)}decodeBooleanArray(n,i){return this.decodeBitMatrix(Ee.parseFromBooleanArray(n),i)}decodeBitMatrix(n,i){const o=new Yp(n);let a=null;try{return this.decodeBitMatrixParser(o,i)}catch(c){a=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,i);return c.setOther(new a1(!0)),c}catch(c){throw a!==null?a:c}}decodeBitMatrixParser(n,i){const o=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),c=n.readCodewords(),f=Xl.getDataBlocks(c,o,a);let d=0;for(const E of f)d+=E.getNumDataCodewords();const g=new Uint8Array(d);let x=0;for(const E of f){const S=E.getCodewords(),v=E.getNumDataCodewords();this.correctErrors(S,v);for(let b=0;b<v;b++)g[x++]=S[b]}return nt.decode(g,o,a,i)}correctErrors(n,i){const o=new Int32Array(n);try{this.rsDecoder.decode(o,n.length-i)}catch{throw new R}for(let a=0;a<i;a++)n[a]=o[a]}}class Ql extends le{constructor(n,i,o){super(n,i),this.estimatedModuleSize=o}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const a=(this.getX()+i)/2,c=(this.getY()+n)/2,f=(this.estimatedModuleSize+o)/2;return new Ql(a,c,f)}}class js{constructor(n,i,o,a,c,f,d){this.image=n,this.startX=i,this.startY=o,this.width=a,this.height=c,this.moduleSize=f,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,i=this.height,o=this.width,a=n+o,c=this.startY+i/2,f=new Int32Array(3),d=this.image;for(let g=0;g<i;g++){const x=c+(g&1?-Math.floor((g+1)/2):Math.floor((g+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=n;for(;E<a&&!d.get(E,x);)E++;let S=0;for(;E<a;){if(d.get(E,x))if(S===1)f[1]++;else if(S===2){if(this.foundPatternCross(f)){const v=this.handlePossibleCenter(f,x,E);if(v!==null)return v}f[0]=f[2],f[1]=1,f[2]=0,S=1}else f[++S]++;else S===1&&S++,f[S]++;E++}if(this.foundPatternCross(f)){const v=this.handlePossibleCenter(f,x,a);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(n,i){return i-n[2]-n[1]/2}foundPatternCross(n){const i=this.moduleSize,o=i/2;for(let a=0;a<3;a++)if(Math.abs(i-n[a])>=o)return!1;return!0}crossCheckVertical(n,i,o,a){const c=this.image,f=c.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let g=n;for(;g>=0&&c.get(i,g)&&d[1]<=o;)d[1]++,g--;if(g<0||d[1]>o)return NaN;for(;g>=0&&!c.get(i,g)&&d[0]<=o;)d[0]++,g--;if(d[0]>o)return NaN;for(g=n+1;g<f&&c.get(i,g)&&d[1]<=o;)d[1]++,g++;if(g===f||d[1]>o)return NaN;for(;g<f&&!c.get(i,g)&&d[2]<=o;)d[2]++,g++;if(d[2]>o)return NaN;const x=d[0]+d[1]+d[2];return 5*Math.abs(x-a)>=2*a?NaN:this.foundPatternCross(d)?js.centerFromEnd(d,g):NaN}handlePossibleCenter(n,i,o){const a=n[0]+n[1]+n[2],c=js.centerFromEnd(n,o),f=this.crossCheckVertical(i,c,2*n[1],a);if(!isNaN(f)){const d=(n[0]+n[1]+n[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(d,f,c))return x.combineEstimate(f,c,d);const g=new Ql(c,f,d);this.possibleCenters.push(g),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(g)}return null}}class Zl extends le{constructor(n,i,o,a){super(n,i),this.estimatedModuleSize=o,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,i,o){if(Math.abs(i-this.getY())<=n&&Math.abs(o-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,i,o){const a=this.count+1,c=(this.count*this.getX()+i)/a,f=(this.count*this.getY()+n)/a,d=(this.count*this.estimatedModuleSize+o)/a;return new Zl(c,f,d,a)}}class Qp{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Tt{constructor(n,i){this.image=n,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const i=n!=null&&n.get(Z.TRY_HARDER)!==void 0,o=n!=null&&n.get(Z.PURE_BARCODE)!==void 0,a=this.image,c=a.getHeight(),f=a.getWidth();let d=Math.floor(3*c/(4*Tt.MAX_MODULES));(d<Tt.MIN_SKIP||i)&&(d=Tt.MIN_SKIP);let g=!1;const x=new Int32Array(5);for(let S=d-1;S<c&&!g;S+=d){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let v=0;for(let b=0;b<f;b++)if(a.get(b,S))(v&1)===1&&v++,x[v]++;else if(v&1)x[v]++;else if(v===4)if(Tt.foundPatternCross(x)){if(this.handlePossibleCenter(x,S,b,o)===!0)if(d=2,this.hasSkipped===!0)g=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>x[2]&&(S+=P-x[2]-d,b=f-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,v=3;continue}v=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,v=3;else x[++v]++;Tt.foundPatternCross(x)&&this.handlePossibleCenter(x,S,f,o)===!0&&(d=x[0],this.hasSkipped&&(g=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return le.orderBestPatterns(E),new Qp(E)}static centerFromEnd(n,i){return i-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let i=0;for(let c=0;c<5;c++){const f=n[c];if(f===0)return!1;i+=f}if(i<7)return!1;const o=i/7,a=o/2;return Math.abs(o-n[0])<a&&Math.abs(o-n[1])<a&&Math.abs(3*o-n[2])<3*a&&Math.abs(o-n[3])<a&&Math.abs(o-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,i,o,a){const c=this.getCrossCheckStateCount();let f=0;const d=this.image;for(;n>=f&&i>=f&&d.get(i-f,n-f);)c[2]++,f++;if(n<f||i<f)return!1;for(;n>=f&&i>=f&&!d.get(i-f,n-f)&&c[1]<=o;)c[1]++,f++;if(n<f||i<f||c[1]>o)return!1;for(;n>=f&&i>=f&&d.get(i-f,n-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const g=d.getHeight(),x=d.getWidth();for(f=1;n+f<g&&i+f<x&&d.get(i+f,n+f);)c[2]++,f++;if(n+f>=g||i+f>=x)return!1;for(;n+f<g&&i+f<x&&!d.get(i+f,n+f)&&c[3]<o;)c[3]++,f++;if(n+f>=g||i+f>=x||c[3]>=o)return!1;for(;n+f<g&&i+f<x&&d.get(i+f,n+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const E=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(E-a)<2*a&&Tt.foundPatternCross(c)}crossCheckVertical(n,i,o,a){const c=this.image,f=c.getHeight(),d=this.getCrossCheckStateCount();let g=n;for(;g>=0&&c.get(i,g);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(i,g)&&d[1]<=o;)d[1]++,g--;if(g<0||d[1]>o)return NaN;for(;g>=0&&c.get(i,g)&&d[0]<=o;)d[0]++,g--;if(d[0]>o)return NaN;for(g=n+1;g<f&&c.get(i,g);)d[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(i,g)&&d[3]<o;)d[3]++,g++;if(g===f||d[3]>=o)return NaN;for(;g<f&&c.get(i,g)&&d[4]<o;)d[4]++,g++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=2*a?NaN:Tt.foundPatternCross(d)?Tt.centerFromEnd(d,g):NaN}crossCheckHorizontal(n,i,o,a){const c=this.image,f=c.getWidth(),d=this.getCrossCheckStateCount();let g=n;for(;g>=0&&c.get(g,i);)d[2]++,g--;if(g<0)return NaN;for(;g>=0&&!c.get(g,i)&&d[1]<=o;)d[1]++,g--;if(g<0||d[1]>o)return NaN;for(;g>=0&&c.get(g,i)&&d[0]<=o;)d[0]++,g--;if(d[0]>o)return NaN;for(g=n+1;g<f&&c.get(g,i);)d[2]++,g++;if(g===f)return NaN;for(;g<f&&!c.get(g,i)&&d[3]<o;)d[3]++,g++;if(g===f||d[3]>=o)return NaN;for(;g<f&&c.get(g,i)&&d[4]<o;)d[4]++,g++;if(d[4]>=o)return NaN;const x=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(x-a)>=a?NaN:Tt.foundPatternCross(d)?Tt.centerFromEnd(d,g):NaN}handlePossibleCenter(n,i,o,a){const c=n[0]+n[1]+n[2]+n[3]+n[4];let f=Tt.centerFromEnd(n,o),d=this.crossCheckVertical(i,Math.floor(f),n[2],c);if(!isNaN(d)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(d),n[2],c),!isNaN(f)&&(!a||this.crossCheckDiagonal(Math.floor(d),Math.floor(f),n[2],c)))){const g=c/7;let x=!1;const E=this.possibleCenters;for(let S=0,v=E.length;S<v;S++){const b=E[S];if(b.aboutEquals(g,d,f)){E[S]=b.combineEstimate(d,f,g),x=!0;break}}if(!x){const S=new Zl(f,d,g);E.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Tt.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,i=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Tt.CENTER_QUORUM&&(n++,i+=f.getEstimatedModuleSize());if(n<3)return!1;const a=i/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-a);return c<=.05*i}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new H;const i=this.possibleCenters;let o;if(n>3){let a=0,c=0;for(const g of this.possibleCenters){const x=g.getEstimatedModuleSize();a+=x,c+=x*x}o=a/n;let f=Math.sqrt(c/n-o*o);i.sort((g,x)=>{const E=Math.abs(x.getEstimatedModuleSize()-o),S=Math.abs(g.getEstimatedModuleSize()-o);return E<S?-1:E>S?1:0});const d=Math.max(.2*o,f);for(let g=0;g<i.length&&i.length>3;g++){const x=i[g];Math.abs(x.getEstimatedModuleSize()-o)>d&&(i.splice(g,1),g--)}}if(i.length>3){let a=0;for(const c of i)a+=c.getEstimatedModuleSize();o=a/i.length,i.sort((c,f)=>{if(f.getCount()===c.getCount()){const d=Math.abs(f.getEstimatedModuleSize()-o),g=Math.abs(c.getEstimatedModuleSize()-o);return d<g?1:d>g?-1:0}else return f.getCount()-c.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Tt.CENTER_QUORUM=2,Tt.MIN_SKIP=3,Tt.MAX_MODULES=57;class No{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(Z.NEED_RESULT_POINT_CALLBACK);const o=new Tt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(o)}processFinderPatternInfo(n){const i=n.getTopLeft(),o=n.getTopRight(),a=n.getBottomLeft(),c=this.calculateModuleSize(i,o,a);if(c<1)throw new H("No pattern found in proccess finder.");const f=No.computeDimension(i,o,a,c),d=fe.getProvisionalVersionForDimension(f),g=d.getDimensionForVersion()-7;let x=null;if(d.getAlignmentPatternCenters().length>0){const b=o.getX()-i.getX()+a.getX(),L=o.getY()-i.getY()+a.getY(),P=1-3/g,j=Math.floor(i.getX()+P*(b-i.getX())),W=Math.floor(i.getY()+P*(L-i.getY()));for(let ee=4;ee<=16;ee<<=1)try{x=this.findAlignmentInRegion(c,j,W,ee);break}catch(te){if(!(te instanceof H))throw te}}const E=No.createTransform(i,o,a,x,f),S=No.sampleGrid(this.image,E,f);let v;return x===null?v=[a,i,o]:v=[a,i,o,x],new ks(S,v)}static createTransform(n,i,o,a,c){const f=c-3.5;let d,g,x,E;return a!==null?(d=a.getX(),g=a.getY(),x=f-3,E=x):(d=i.getX()-n.getX()+o.getX(),g=i.getY()-n.getY()+o.getY(),x=f,E=f),Rn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,x,E,3.5,f,n.getX(),n.getY(),i.getX(),i.getY(),d,g,o.getX(),o.getY())}static sampleGrid(n,i,o){return Er.getInstance().sampleGridWithTransform(n,o,o,i)}static computeDimension(n,i,o,a){const c=Re.round(le.distance(n,i)/a),f=Re.round(le.distance(n,o)/a);let d=Math.floor((c+f)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new H("Dimensions could be not found.")}return d}calculateModuleSize(n,i,o){return(this.calculateModuleSizeOneWay(n,i)+this.calculateModuleSizeOneWay(n,o))/2}calculateModuleSizeOneWay(n,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(i.getX()),Math.floor(i.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(o)?a/7:isNaN(a)?o/7:(o+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,i,o,a){let c=this.sizeOfBlackWhiteBlackRun(n,i,o,a),f=1,d=n-(o-n);d<0?(f=n/(n-d),d=0):d>=this.image.getWidth()&&(f=(this.image.getWidth()-1-n)/(d-n),d=this.image.getWidth()-1);let g=Math.floor(i-(a-i)*f);return f=1,g<0?(f=i/(i-g),g=0):g>=this.image.getHeight()&&(f=(this.image.getHeight()-1-i)/(g-i),g=this.image.getHeight()-1),d=Math.floor(n+(d-n)*f),c+=this.sizeOfBlackWhiteBlackRun(n,i,d,g),c-1}sizeOfBlackWhiteBlackRun(n,i,o,a){const c=Math.abs(a-i)>Math.abs(o-n);if(c){let b=n;n=i,i=b,b=o,o=a,a=b}const f=Math.abs(o-n),d=Math.abs(a-i);let g=-f/2;const x=n<o?1:-1,E=i<a?1:-1;let S=0;const v=o+x;for(let b=n,L=i;b!==v;b+=x){const P=c?L:b,j=c?b:L;if(S===1===this.image.get(P,j)){if(S===2)return Re.distance(b,L,n,i);S++}if(g+=d,g>0){if(L===a)break;L+=E,g-=f}}return S===2?Re.distance(o+x,a,n,i):NaN}findAlignmentInRegion(n,i,o,a){const c=Math.floor(a*n),f=Math.max(0,i-c),d=Math.min(this.image.getWidth()-1,i+c);if(d-f<n*3)throw new H("Alignment top exceeds estimated module size.");const g=Math.max(0,o-c),x=Math.min(this.image.getHeight()-1,o+c);if(x-g<n*3)throw new H("Alignment bottom exceeds estimated module size.");return new js(this.image,f,g,d-f,x-g,n,this.resultPointCallback).find()}}class vr{constructor(){this.decoder=new Xp}getDecoder(){return this.decoder}decode(n,i){let o,a;if(i!=null&&i.get(Z.PURE_BARCODE)!==void 0){const g=vr.extractPureBits(n.getBlackMatrix());o=this.decoder.decodeBitMatrix(g,i),a=vr.NO_POINTS}else{const g=new No(n.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(g.getBits(),i),a=g.getPoints()}o.getOther()instanceof a1&&o.getOther().applyMirroredCorrection(a);const c=new Ze(o.getText(),o.getRawBytes(),void 0,a,ce.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(vt.BYTE_SEGMENTS,f);const d=o.getECLevel();return d!==null&&c.putMetadata(vt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(c.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(vt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(n){const i=n.getTopLeftOnBit(),o=n.getBottomRightOnBit();if(i===null||o===null)throw new H;const a=this.moduleSize(i,n);let c=i[1],f=o[1],d=i[0],g=o[0];if(d>=g||c>=f)throw new H;if(f-c!==g-d&&(g=d+(f-c),g>=n.getWidth()))throw new H;const x=Math.round((g-d+1)/a),E=Math.round((f-c+1)/a);if(x<=0||E<=0)throw new H;if(E!==x)throw new H;const S=Math.floor(a/2);c+=S,d+=S;const v=d+Math.floor((x-1)*a)-g;if(v>0){if(v>S)throw new H;d-=v}const b=c+Math.floor((E-1)*a)-f;if(b>0){if(b>S)throw new H;c-=b}const L=new Ee(x,E);for(let P=0;P<E;P++){const j=c+Math.floor(P*a);for(let W=0;W<x;W++)n.get(d+Math.floor(W*a),j)&&L.set(W,P)}return L}static moduleSize(n,i){const o=i.getHeight(),a=i.getWidth();let c=n[0],f=n[1],d=!0,g=0;for(;c<a&&f<o;){if(d!==i.get(c,f)){if(++g===5)break;d=!d}c++,f++}if(c===a||f===o)throw new H;return(c-n[0])/7}}vr.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(n){return Re.sum(n)}static toIntArray(n){if(n==null||!n.length)return xe.EMPTY_INT_ARRAY;const i=new Int32Array(n.length);let o=0;for(const a of n)i[o++]=a;return i}static getCodeword(n){const i=T.binarySearch(xe.SYMBOL_TABLE,n&262143);return i<0?-1:(xe.CODEWORD_TABLE[i]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zp{constructor(n,i){this.bits=n,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Se{static detectMultiple(n,i,o){let a=n.getBlackMatrix(),c=Se.detect(o,a);return c.length||(a=a.clone(),a.rotate180(),c=Se.detect(o,a)),new Zp(a,c)}static detect(n,i){const o=new Array;let a=0,c=0,f=!1;for(;a<i.getHeight();){const d=Se.findVertices(i,a,c);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,c=0;for(const g of o)g[1]!=null&&(a=Math.trunc(Math.max(a,g[1].getY()))),g[3]!=null&&(a=Math.max(a,Math.trunc(g[3].getY())));a+=Se.ROW_STEP;continue}if(f=!0,o.push(d),!n)break;d[2]!=null?(c=Math.trunc(d[2].getX()),a=Math.trunc(d[2].getY())):(c=Math.trunc(d[4].getX()),a=Math.trunc(d[4].getY()))}return o}static findVertices(n,i,o){const a=n.getHeight(),c=n.getWidth(),f=new Array(8);return Se.copyToResult(f,Se.findRowsWithPattern(n,a,c,i,o,Se.START_PATTERN),Se.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),i=Math.trunc(f[4].getY())),Se.copyToResult(f,Se.findRowsWithPattern(n,a,c,i,o,Se.STOP_PATTERN),Se.INDEXES_STOP_PATTERN),f}static copyToResult(n,i,o){for(let a=0;a<o.length;a++)n[o[a]]=i[a]}static findRowsWithPattern(n,i,o,a,c,f){const d=new Array(4);let g=!1;const x=new Int32Array(f.length);for(;a<i;a+=Se.ROW_STEP){let S=Se.findGuardPattern(n,c,a,o,!1,f,x);if(S!=null){for(;a>0;){const v=Se.findGuardPattern(n,c,--a,o,!1,f,x);if(v!=null)S=v;else{a++;break}}d[0]=new le(S[0],a),d[1]=new le(S[1],a),g=!0;break}}let E=a+1;if(g){let S=0,v=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;E<i;E++){const b=Se.findGuardPattern(n,v[0],E,o,!1,f,x);if(b!=null&&Math.abs(v[0]-b[0])<Se.MAX_PATTERN_DRIFT&&Math.abs(v[1]-b[1])<Se.MAX_PATTERN_DRIFT)v=b,S=0;else{if(S>Se.SKIPPED_ROW_COUNT_MAX)break;S++}}E-=S+1,d[2]=new le(v[0],E),d[3]=new le(v[1],E)}return E-a<Se.BARCODE_MIN_HEIGHT&&T.fill(d,null),d}static findGuardPattern(n,i,o,a,c,f,d){T.fillWithin(d,0,d.length,0);let g=i,x=0;for(;n.get(g,o)&&g>0&&x++<Se.MAX_PIXEL_DRIFT;)g--;let E=g,S=0,v=f.length;for(let b=c;E<a;E++)if(n.get(E,o)!==b)d[S]++;else{if(S===v-1){if(Se.patternMatchVariance(d,f,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE)return new Int32Array([g,E]);g+=d[0]+d[1],D.arraycopy(d,2,d,0,S-1),d[S-1]=0,d[S]=0,S--}else S++;d[S]=1,b=!b}return S===v-1&&Se.patternMatchVariance(d,f,Se.MAX_INDIVIDUAL_VARIANCE)<Se.MAX_AVG_VARIANCE?new Int32Array([g,E-1]):null}static patternMatchVariance(n,i,o){let a=n.length,c=0,f=0;for(let x=0;x<a;x++)c+=n[x],f+=i[x];if(c<f)return 1/0;let d=c/f;o*=d;let g=0;for(let x=0;x<a;x++){let E=n[x],S=i[x]*d,v=E>S?E-S:S-E;if(v>o)return 1/0;g+=v}return g/c}}Se.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Se.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Se.MAX_AVG_VARIANCE=.42,Se.MAX_INDIVIDUAL_VARIANCE=.8,Se.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Se.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Se.MAX_PIXEL_DRIFT=3,Se.MAX_PATTERN_DRIFT=5,Se.SKIPPED_ROW_COUNT_MAX=25,Se.ROW_STEP=5,Se.BARCODE_MIN_HEIGHT=10;class bt{constructor(n,i){if(i.length===0)throw new C;this.field=n;let o=i.length;if(o>1&&i[0]===0){let a=1;for(;a<o&&i[a]===0;)a++;a===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-a),D.arraycopy(i,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let c of this.coefficients)a=this.field.add(a,c);return a}let i=this.coefficients[0],o=this.coefficients.length;for(let a=1;a<o;a++)i=this.field.add(this.field.multiply(n,i),this.coefficients[a]);return i}add(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let i=this.coefficients,o=n.coefficients;if(i.length>o.length){let f=i;i=o,o=f}let a=new Int32Array(o.length),c=o.length-i.length;D.arraycopy(o,0,a,0,c);for(let f=c;f<o.length;f++)a[f]=this.field.add(i[f-c],o[f]);return new bt(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof bt?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new bt(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,a=n.coefficients,c=a.length,f=new Int32Array(o+c-1);for(let d=0;d<o;d++){let g=i[d];for(let x=0;x<c;x++)f[d+x]=this.field.add(f[d+x],this.field.multiply(g,a[x]))}return new bt(this.field,f)}negative(){let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new bt(this.field,i)}multiplyScalar(n){if(n===0)return new bt(this.field,new Int32Array([0]));if(n===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new bt(this.field,o)}multiplyByMonomial(n,i){if(n<0)throw new C;if(i===0)return new bt(this.field,new Int32Array([0]));let o=this.coefficients.length,a=new Int32Array(o+n);for(let c=0;c<o;c++)a[c]=this.field.multiply(this.coefficients[c],i);return new bt(this.field,a)}toString(){let n=new ye;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(n.append(" - "),o=-o):n.length()>0&&n.append(" + "),(i===0||o!==1)&&n.append(o),i!==0&&(i===1?n.append("x"):(n.append("x^"),n.append(i))))}return n.toString()}}class Kp{add(n,i){return(n+i)%this.modulus}subtract(n,i){return(this.modulus+n-i)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new C;return this.logTable[n]}inverse(n){if(n===0)throw new Ds;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,i){return n===0||i===0?0:this.expTable[(this.logTable[n]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Kl extends Kp{constructor(n,i){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let o=1;for(let a=0;a<n;a++)this.expTable[a]=o,o=o*i%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new bt(this,new Int32Array([0])),this.one=new bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,i){if(n<0)throw new C;if(i===0)return this.zero;let o=new Int32Array(n+1);return o[0]=i,new bt(this,o)}}Kl.PDF417_GF=new Kl(xe.NUMBER_OF_CODEWORDS,3);class l1{constructor(){this.field=Kl.PDF417_GF}decode(n,i,o){let a=new bt(this.field,n),c=new Int32Array(i),f=!1;for(let L=i;L>0;L--){let P=a.evaluateAt(this.field.exp(L));c[i-L]=P,P!==0&&(f=!0)}if(!f)return 0;let d=this.field.getOne();if(o!=null)for(const L of o){let P=this.field.exp(n.length-1-L),j=new bt(this.field,new Int32Array([this.field.subtract(0,P),1]));d=d.multiply(j)}let g=new bt(this.field,c),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),g,i),E=x[0],S=x[1],v=this.findErrorLocations(E),b=this.findErrorMagnitudes(S,E,v);for(let L=0;L<v.length;L++){let P=n.length-1-this.field.log(v[L]);if(P<0)throw R.getChecksumInstance();n[P]=this.field.subtract(n[P],b[L])}return v.length}runEuclideanAlgorithm(n,i,o){if(n.getDegree()<i.getDegree()){let v=n;n=i,i=v}let a=n,c=i,f=this.field.getZero(),d=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let v=a,b=f;if(a=c,f=d,a.isZero())throw R.getChecksumInstance();c=v;let L=this.field.getZero(),P=a.getCoefficient(a.getDegree()),j=this.field.inverse(P);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){let W=c.getDegree()-a.getDegree(),ee=this.field.multiply(c.getCoefficient(c.getDegree()),j);L=L.add(this.field.buildMonomial(W,ee)),c=c.subtract(a.multiplyByMonomial(W,ee))}d=L.multiply(f).subtract(b).negative()}let g=d.getCoefficient(0);if(g===0)throw R.getChecksumInstance();let x=this.field.inverse(g),E=d.multiply(x),S=c.multiply(x);return[E,S]}findErrorLocations(n){let i=n.getDegree(),o=new Int32Array(i),a=0;for(let c=1;c<this.field.getSize()&&a<i;c++)n.evaluateAt(c)===0&&(o[a]=this.field.inverse(c),a++);if(a!==i)throw R.getChecksumInstance();return o}findErrorMagnitudes(n,i,o){let a=i.getDegree(),c=new Int32Array(a);for(let x=1;x<=a;x++)c[a-x]=this.field.multiply(x,i.getCoefficient(x));let f=new bt(this.field,c),d=o.length,g=new Int32Array(d);for(let x=0;x<d;x++){let E=this.field.inverse(o[x]),S=this.field.subtract(0,n.evaluateAt(E)),v=this.field.inverse(f.evaluateAt(E));g[x]=this.field.multiply(S,v)}return g}}class ii{constructor(n,i,o,a,c){n instanceof ii?this.constructor_2(n):this.constructor_1(n,i,o,a,c)}constructor_1(n,i,o,a,c){const f=i==null||o==null,d=a==null||c==null;if(f&&d)throw new H;f?(i=new le(0,a.getY()),o=new le(0,c.getY())):d&&(a=new le(n.getWidth()-1,i.getY()),c=new le(n.getWidth()-1,o.getY())),this.image=n,this.topLeft=i,this.bottomLeft=o,this.topRight=a,this.bottomRight=c,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(a.getX(),c.getX())),this.minY=Math.trunc(Math.min(i.getY(),a.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,i){return n==null?i:i==null?n:new ii(n.image,n.topLeft,n.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(n,i,o){let a=this.topLeft,c=this.bottomLeft,f=this.topRight,d=this.bottomRight;if(n>0){let g=o?this.topLeft:this.topRight,x=Math.trunc(g.getY()-n);x<0&&(x=0);let E=new le(g.getX(),x);o?a=E:f=E}if(i>0){let g=o?this.bottomLeft:this.bottomRight,x=Math.trunc(g.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let E=new le(g.getX(),x);o?c=E:d=E}return new ii(this.image,a,c,f,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class qp{constructor(n,i,o,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _o{constructor(){this.buffer=""}static form(n,i){let o=-1;function a(f,d,g,x,E,S){if(f==="%%")return"%";if(i[++o]===void 0)return;f=x?parseInt(x.substr(1)):void 0;let v=E?parseInt(E.substr(1)):void 0,b;switch(S){case"s":b=i[o];break;case"c":b=i[o][0];break;case"f":b=parseFloat(i[o]).toFixed(f);break;case"p":b=parseFloat(i[o]).toPrecision(f);break;case"e":b=parseFloat(i[o]).toExponential(f);break;case"x":b=parseInt(i[o]).toString(v||16);break;case"d":b=parseFloat(parseInt(i[o],v||10).toPrecision(f)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(v);let L=parseInt(g),P=g&&g[0]+""=="0"?"0":" ";for(;b.length<L;)b=d!==void 0?b+P:P+b;return b}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(c,a)}format(n,...i){this.buffer+=_o.form(n,i)}toString(){return this.buffer}}class Oo{constructor(n){this.boundingBox=new ii(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let i=this.getCodeword(n);if(i!=null)return i;for(let o=1;o<Oo.MAX_NEARBY_DISTANCE;o++){let a=this.imageRowToCodewordIndex(n)-o;if(a>=0&&(i=this.codewords[a],i!=null)||(a=this.imageRowToCodewordIndex(n)+o,a<this.codewords.length&&(i=this.codewords[a],i!=null)))return i}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,i){this.codewords[this.imageRowToCodewordIndex(n)]=i}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new _o;let i=0;for(const o of this.codewords){if(o==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return n.toString()}}Oo.MAX_NEARBY_DISTANCE=5;class bo{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let i=this.values.get(n);i==null&&(i=0),i++,this.values.set(n,i)}getValue(){let n=-1,i=new Array;for(const[o,a]of this.values.entries()){const c={getKey:()=>o,getValue:()=>a};c.getValue()>n?(n=c.getValue(),i=[],i.push(c.getKey())):c.getValue()===n&&i.push(c.getKey())}return xe.toIntArray(i)}getConfidence(n){return this.values.get(n)}}class c1 extends Oo{constructor(n,i){super(n),this._isLeft=i}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,n);let o=this.getBoundingBox(),a=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=-1,x=1,E=0;for(let S=f;S<d;S++){if(i[S]==null)continue;let v=i[S],b=v.getRowNumber()-g;if(b===0)E++;else if(b===1)x=Math.max(x,E),E=1,g=v.getRowNumber();else if(b<0||v.getRowNumber()>=n.getRowCount()||b>S)i[S]=null;else{let L;x>2?L=(x-2)*b:L=b;let P=L>=S;for(let j=1;j<=L&&!P;j++)P=i[S-j]!=null;P?i[S]=null:(g=v.getRowNumber(),E=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let i=new Int32Array(n.getRowCount());for(let o of this.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=i.length)continue;i[a]++}return i}adjustIncompleteIndicatorColumnRowNumbers(n){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.getCodewords(),g=-1;for(let x=c;x<f;x++){if(d[x]==null)continue;let E=d[x];E.setRowNumberAsRowIndicatorColumn();let S=E.getRowNumber()-g;S===0||(S===1?g=E.getRowNumber():E.getRowNumber()>=n.getRowCount()?d[x]=null:g=E.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),i=new bo,o=new bo,a=new bo,c=new bo;for(let d of n){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let g=d.getValue()%30,x=d.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:o.setValue(g*3+1);break;case 1:c.setValue(g/3),a.setValue(g%3);break;case 2:i.setValue(g+1);break}}if(i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||c.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+a.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+a.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let f=new qp(i.getValue()[0],o.getValue()[0],a.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(n,f),f}removeIncorrectCodewords(n,i){for(let o=0;o<n.length;o++){let a=n[o];if(n[o]==null)continue;let c=a.getValue()%30,f=a.getRowNumber();if(f>i.getRowCount()){n[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==i.getRowCountUpperPart()&&(n[o]=null);break;case 1:(Math.trunc(c/3)!==i.getErrorCorrectionLevel()||c%3!==i.getRowCountLowerPart())&&(n[o]=null);break;case 2:c+1!==i.getColumnCount()&&(n[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ro{constructor(n,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=xe.MAX_CODEWORDS_IN_BARCODE,i;do i=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let a=0;a<o.length;a++)o[a]!=null&&(o[a].hasValidRowNumber()||this.adjustRowNumbers(i,a,o))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++)if(n[o]!=null&&i[o]!=null&&n[o].getRowNumber()===i[o].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let c=this.detectionResultColumns[a].getCodewords()[o];c!=null&&(c.setRowNumber(n[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(c=Ro.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let a=i[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(c=Ro.adjustRowNumberIfValid(a,c,d),d.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(n)?(o.setRowNumber(n),i=0):++i),i}adjustRowNumbers(n,i,o){if(!this.detectionResultColumns[n-1])return;let a=o[i],c=this.detectionResultColumns[n-1].getCodewords(),f=c;this.detectionResultColumns[n+1]!=null&&(f=this.detectionResultColumns[n+1].getCodewords());let d=new Array(14);d[2]=c[i],d[3]=f[i],i>0&&(d[0]=o[i-1],d[4]=c[i-1],d[5]=f[i-1]),i>1&&(d[8]=o[i-2],d[10]=c[i-2],d[11]=f[i-2]),i<o.length-1&&(d[1]=o[i+1],d[6]=c[i+1],d[7]=f[i+1]),i<o.length-2&&(d[9]=o[i+2],d[12]=c[i+2],d[13]=f[i+2]);for(let g of d)if(Ro.adjustRowNumber(a,g))return}static adjustRowNumber(n,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===n.getBucket()?(n.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,i){this.detectionResultColumns[n]=i}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new _o;for(let o=0;o<n.getCodewords().length;o++){i.format("CW %3d:",o);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){i.format("    |   ");continue}let c=this.detectionResultColumns[a].getCodewords()[o];if(c==null){i.format("    |   ");continue}i.format(" %3d|%3d",c.getRowNumber(),c.getValue())}i.format("%n")}return i.toString()}}class Mo{constructor(n,i,o,a){this.rowNumber=Mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Mo.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Mo.BARCODE_ROW_UNKNOWN=-1;class $t{static initialize(){for(let n=0;n<xe.SYMBOL_TABLE.length;n++){let i=xe.SYMBOL_TABLE[n],o=i&1;for(let a=0;a<xe.BARS_IN_MODULE;a++){let c=0;for(;(i&1)===o;)c+=1,i>>=1;o=i&1,$t.RATIOS_TABLE[n]||($t.RATIOS_TABLE[n]=new Array(xe.BARS_IN_MODULE)),$t.RATIOS_TABLE[n][xe.BARS_IN_MODULE-a-1]=Math.fround(c/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let i=$t.getDecodedCodewordValue($t.sampleBitCounts(n));return i!==-1?i:$t.getClosestDecodedValue(n)}static sampleBitCounts(n){let i=Re.sum(n),o=new Int32Array(xe.BARS_IN_MODULE),a=0,c=0;for(let f=0;f<xe.MODULES_IN_CODEWORD;f++){let d=i/(2*xe.MODULES_IN_CODEWORD)+f*i/xe.MODULES_IN_CODEWORD;c+n[a]<=d&&(c+=n[a],a++),o[a]++}return o}static getDecodedCodewordValue(n){let i=$t.getBitValue(n);return xe.getCodeword(i)===-1?-1:i}static getBitValue(n){let i=0;for(let o=0;o<n.length;o++)for(let a=0;a<n[o];a++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(n){let i=Re.sum(n),o=new Array(xe.BARS_IN_MODULE);if(i>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(n[f]/i);let a=Ls.MAX_VALUE,c=-1;this.bSymbolTableReady||$t.initialize();for(let f=0;f<$t.RATIOS_TABLE.length;f++){let d=0,g=$t.RATIOS_TABLE[f];for(let x=0;x<xe.BARS_IN_MODULE;x++){let E=Math.fround(g[x]-o[x]);if(d+=Math.fround(E*E),d>=a)break}d<a&&(a=d,c=xe.SYMBOL_TABLE[f])}return c}}$t.bSymbolTableReady=!1,$t.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(A=>new Array(xe.BARS_IN_MODULE));class u1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class f1{static parseLong(n,i=void 0){return parseInt(n,i)}}class d1 extends p{}d1.kind="NullPointerException";class Jp{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,i,o){if(n==null)throw new d1;if(i<0||i>n.length||o<0||i+o>n.length||i+o<0)throw new k;if(o===0)return;for(let a=0;a<o;a++)this.write(n[i+a])}flush(){}close(){}}class $p extends p{}class e2 extends Jp{constructor(n=32){if(super(),this.count=0,n<0)throw new C("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let o=this.buf.length<<1;if(o-n<0&&(o=n),o<0){if(n<0)throw new $p;o=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,o)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,i,o){if(i<0||i>n.length||o<0||i+o-n.length>0)throw new k;this.ensureCapacity(this.count+o),D.arraycopy(n,i,this.buf,this.count,o),this.count+=o}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var ze;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ze||(ze={}));function h1(){if(typeof window<"u")return window.BigInt||null;if(typeof Ue<"u")return Ue.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zs;function Ir(A){if(typeof zs>"u"&&(zs=h1()),zs===null)throw new Error("BigInt is not supported!");return zs(A)}function t2(){let A=[];A[0]=Ir(1);let n=Ir(900);A[1]=n;for(let i=2;i<16;i++)A[i]=A[i-1]*n;return A}class V{static decode(n,i){let o=new ye(""),a=Y.ISO8859_1;o.enableDecoding(a);let c=1,f=n[c++],d=new u1;for(;c<n[0];){switch(f){case V.TEXT_COMPACTION_MODE_LATCH:c=V.textCompaction(n,c,o);break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:c=V.byteCompaction(f,n,a,c,o);break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[c++]);break;case V.NUMERIC_COMPACTION_MODE_LATCH:c=V.numericCompaction(n,c,o);break;case V.ECI_CHARSET:Y.getCharacterSetECIByValue(n[c++]);break;case V.ECI_GENERAL_PURPOSE:c+=2;break;case V.ECI_USER_DEFINED:c++;break;case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=V.decodeMacroBlock(n,c,d);break;case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:throw new U;default:c--,c=V.textCompaction(n,c,o);break}if(c<n.length)f=n[c++];else throw U.getFormatInstance()}if(o.length()===0)throw U.getFormatInstance();let g=new So(null,o.toString(),null,i);return g.setOther(d),g}static decodeMacroBlock(n,i,o){if(i+V.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw U.getFormatInstance();let a=new Int32Array(V.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<V.NUMBER_OF_SEQUENCE_CODEWORDS;d++,i++)a[d]=n[i];o.setSegmentIndex(N.parseInt(V.decodeBase900toBase10(a,V.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new ye;i=V.textCompaction(n,i,c),o.setFileId(c.toString());let f=-1;for(n[i]===V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=i+1);i<n[0];)switch(n[i]){case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,n[i]){case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ye;i=V.textCompaction(n,i+1,d),o.setFileName(d.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let g=new ye;i=V.textCompaction(n,i+1,g),o.setSender(g.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new ye;i=V.textCompaction(n,i+1,x),o.setAddressee(x.toString());break;case V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new ye;i=V.numericCompaction(n,i+1,E),o.setSegmentCount(N.parseInt(E.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new ye;i=V.numericCompaction(n,i+1,S),o.setTimestamp(f1.parseLong(S.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new ye;i=V.numericCompaction(n,i+1,v),o.setChecksum(N.parseInt(v.toString()));break;case V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new ye;i=V.numericCompaction(n,i+1,b),o.setFileSize(f1.parseLong(b.toString()));break;default:throw U.getFormatInstance()}break;case V.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(f!==-1){let d=i-f;o.isLastSegment()&&d--,o.setOptionalData(T.copyOfRange(n,f,f+d))}return i}static textCompaction(n,i,o){let a=new Int32Array((n[0]-i)*2),c=new Int32Array((n[0]-i)*2),f=0,d=!1;for(;i<n[0]&&!d;){let g=n[i++];if(g<V.TEXT_COMPACTION_MODE_LATCH)a[f]=g/30,a[f+1]=g%30,f+=2;else switch(g){case V.TEXT_COMPACTION_MODE_LATCH:a[f++]=V.TEXT_COMPACTION_MODE_LATCH;break;case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,d=!0;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[f]=V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,g=n[i++],c[f]=g,f++;break}}return V.decodeTextCompaction(a,c,f,o),i}static decodeTextCompaction(n,i,o,a){let c=ze.ALPHA,f=ze.ALPHA,d=0;for(;d<o;){let g=n[d],x="";switch(c){case ze.ALPHA:if(g<26)x=String.fromCharCode(65+g);else switch(g){case 26:x=" ";break;case V.LL:c=ze.LOWER;break;case V.ML:c=ze.MIXED;break;case V.PS:f=c,c=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break;case ze.LOWER:if(g<26)x=String.fromCharCode(97+g);else switch(g){case 26:x=" ";break;case V.AS:f=c,c=ze.ALPHA_SHIFT;break;case V.ML:c=ze.MIXED;break;case V.PS:f=c,c=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break;case ze.MIXED:if(g<V.PL)x=V.MIXED_CHARS[g];else switch(g){case V.PL:c=ze.PUNCT;break;case 26:x=" ";break;case V.LL:c=ze.LOWER;break;case V.AL:c=ze.ALPHA;break;case V.PS:f=c,c=ze.PUNCT_SHIFT;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break;case ze.PUNCT:if(g<V.PAL)x=V.PUNCT_CHARS[g];else switch(g){case V.PAL:c=ze.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break;case ze.ALPHA_SHIFT:if(c=f,g<26)x=String.fromCharCode(65+g);else switch(g){case 26:x=" ";break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break;case ze.PUNCT_SHIFT:if(c=f,g<V.PAL)x=V.PUNCT_CHARS[g];else switch(g){case V.PAL:c=ze.ALPHA;break;case V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(i[d]);break;case V.TEXT_COMPACTION_MODE_LATCH:c=ze.ALPHA;break}break}x!==""&&a.append(x),d++}}static byteCompaction(n,i,o,a,c){let f=new e2,d=0,g=0,x=!1;switch(n){case V.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),S=i[a++];for(;a<i[0]&&!x;)switch(E[d++]=S,g=900*g+S,S=i[a++],S){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:a--,x=!0;break;default:if(d%5===0&&d>0){for(let v=0;v<6;++v)f.write(Number(Ir(g)>>Ir(8*(5-v))));g=0,d=0}break}a===i[0]&&S<V.TEXT_COMPACTION_MODE_LATCH&&(E[d++]=S);for(let v=0;v<d;v++)f.write(E[v]);break;case V.BYTE_COMPACTION_MODE_LATCH_6:for(;a<i[0]&&!x;){let v=i[a++];if(v<V.TEXT_COMPACTION_MODE_LATCH)d++,g=900*g+v;else switch(v){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.NUMERIC_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:a--,x=!0;break}if(d%5===0&&d>0){for(let b=0;b<6;++b)f.write(Number(Ir(g)>>Ir(8*(5-b))));g=0,d=0}}break}return c.append(we.decode(f.toByteArray(),o)),a}static numericCompaction(n,i,o){let a=0,c=!1,f=new Int32Array(V.MAX_NUMERIC_CODEWORDS);for(;i<n[0]&&!c;){let d=n[i++];if(i===n[0]&&(c=!0),d<V.TEXT_COMPACTION_MODE_LATCH)f[a]=d,a++;else switch(d){case V.TEXT_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH:case V.BYTE_COMPACTION_MODE_LATCH_6:case V.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case V.MACRO_PDF417_TERMINATOR:i--,c=!0;break}(a%V.MAX_NUMERIC_CODEWORDS===0||d===V.NUMERIC_COMPACTION_MODE_LATCH||c)&&a>0&&(o.append(V.decodeBase900toBase10(f,a)),a=0)}return i}static decodeBase900toBase10(n,i){let o=Ir(0);for(let c=0;c<i;c++)o+=V.EXP900[i-c-1]*Ir(n[c]);let a=o.toString();if(a.charAt(0)!=="1")throw new U;return a.substring(1)}}V.TEXT_COMPACTION_MODE_LATCH=900,V.BYTE_COMPACTION_MODE_LATCH=901,V.NUMERIC_COMPACTION_MODE_LATCH=902,V.BYTE_COMPACTION_MODE_LATCH_6=924,V.ECI_USER_DEFINED=925,V.ECI_GENERAL_PURPOSE=926,V.ECI_CHARSET=927,V.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,V.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,V.MACRO_PDF417_TERMINATOR=922,V.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,V.MAX_NUMERIC_CODEWORDS=15,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,V.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,V.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,V.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,V.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,V.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,V.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,V.PL=25,V.LL=27,V.AS=27,V.ML=28,V.AL=28,V.PS=29,V.PAL=29,V.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,V.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",V.EXP900=h1()?t2():[],V.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ve{constructor(){}static decode(n,i,o,a,c,f,d){let g=new ii(n,i,o,a,c),x=null,E=null,S;for(let L=!0;;L=!1){if(i!=null&&(x=ve.getRowIndicatorColumn(n,g,i,!0,f,d)),a!=null&&(E=ve.getRowIndicatorColumn(n,g,a,!1,f,d)),S=ve.merge(x,E),S==null)throw H.getNotFoundInstance();let P=S.getBoundingBox();if(L&&P!=null&&(P.getMinY()<g.getMinY()||P.getMaxY()>g.getMaxY()))g=P;else break}S.setBoundingBox(g);let v=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,x),S.setDetectionResultColumn(v,E);let b=x!=null;for(let L=1;L<=v;L++){let P=b?L:v-L;if(S.getDetectionResultColumn(P)!==void 0)continue;let j;P===0||P===v?j=new c1(g,P===0):j=new Oo(g),S.setDetectionResultColumn(P,j);let W=-1,ee=W;for(let te=g.getMinY();te<=g.getMaxY();te++){if(W=ve.getStartColumn(S,P,te,b),W<0||W>g.getMaxX()){if(ee===-1)continue;W=ee}let J=ve.detectCodeword(n,g.getMinX(),g.getMaxX(),b,W,te,f,d);J!=null&&(j.setCodeword(te,J),ee=W,f=Math.min(f,J.getWidth()),d=Math.max(d,J.getWidth()))}}return ve.createDecoderResult(S)}static merge(n,i){if(n==null&&i==null)return null;let o=ve.getBarcodeMetadata(n,i);if(o==null)return null;let a=ii.merge(ve.adjustBoundingBox(n),ve.adjustBoundingBox(i));return new Ro(o,a)}static adjustBoundingBox(n){if(n==null)return null;let i=n.getRowHeights();if(i==null)return null;let o=ve.getMax(i),a=0;for(let d of i)if(a+=o-d,d>0)break;let c=n.getCodewords();for(let d=0;a>0&&c[d]==null;d++)a--;let f=0;for(let d=i.length-1;d>=0&&(f+=o-i[d],!(i[d]>0));d--);for(let d=c.length-1;f>0&&c[d]==null;d--)f--;return n.getBoundingBox().addMissingRows(a,f,n.isLeft())}static getMax(n){let i=-1;for(let o of n)i=Math.max(i,o);return i}static getBarcodeMetadata(n,i){let o;if(n==null||(o=n.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let a;return i==null||(a=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==a.getColumnCount()&&o.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&o.getRowCount()!==a.getRowCount()?null:o}static getRowIndicatorColumn(n,i,o,a,c,f){let d=new c1(i,a);for(let g=0;g<2;g++){let x=g===0?1:-1,E=Math.trunc(Math.trunc(o.getX()));for(let S=Math.trunc(Math.trunc(o.getY()));S<=i.getMaxY()&&S>=i.getMinY();S+=x){let v=ve.detectCodeword(n,0,n.getWidth(),a,E,S,c,f);v!=null&&(d.setCodeword(S,v),a?E=v.getStartX():E=v.getEndX())}}return d}static adjustCodewordCount(n,i){let o=i[0][1],a=o.getValue(),c=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-ve.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(c<1||c>xe.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(c)}else a[0]!==c&&o.setValue(c)}static createDecoderResult(n){let i=ve.createBarcodeMatrix(n);ve.adjustCodewordCount(n,i);let o=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),c=[],f=new Array;for(let g=0;g<n.getBarcodeRowCount();g++)for(let x=0;x<n.getBarcodeColumnCount();x++){let E=i[g][x+1].getValue(),S=g*n.getBarcodeColumnCount()+x;E.length===0?o.push(S):E.length===1?a[S]=E[0]:(f.push(S),c.push(E))}let d=new Array(c.length);for(let g=0;g<d.length;g++)d[g]=c[g];return ve.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,xe.toIntArray(o),xe.toIntArray(f),d)}static createDecoderResultFromAmbiguousValues(n,i,o,a,c){let f=new Int32Array(a.length),d=100;for(;d-- >0;){for(let g=0;g<f.length;g++)i[a[g]]=c[g][f[g]];try{return ve.decodeCodewords(i,n,o)}catch(g){if(!(g instanceof R))throw g}if(f.length===0)throw R.getChecksumInstance();for(let g=0;g<f.length;g++)if(f[g]<c[g].length-1){f[g]++;break}else if(f[g]=0,g===f.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(n){let i=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<i.length;a++)for(let c=0;c<i[a].length;c++)i[a][c]=new bo;let o=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let c of a.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=i.length)continue;i[f][o].setValue(c.getValue())}}}o++}return i}static isValidBarcodeColumn(n,i){return i>=0&&i<=n.getBarcodeColumnCount()+1}static getStartColumn(n,i,o,a){let c=a?1:-1,f=null;if(ve.isValidBarcodeColumn(n,i-c)&&(f=n.getDetectionResultColumn(i-c).getCodeword(o)),f!=null)return a?f.getEndX():f.getStartX();if(f=n.getDetectionResultColumn(i).getCodewordNearby(o),f!=null)return a?f.getStartX():f.getEndX();if(ve.isValidBarcodeColumn(n,i-c)&&(f=n.getDetectionResultColumn(i-c).getCodewordNearby(o)),f!=null)return a?f.getEndX():f.getStartX();let d=0;for(;ve.isValidBarcodeColumn(n,i-c);){i-=c;for(let g of n.getDetectionResultColumn(i).getCodewords())if(g!=null)return(a?g.getEndX():g.getStartX())+c*d*(g.getEndX()-g.getStartX());d++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,i,o,a,c,f,d,g){c=ve.adjustCodewordStartColumn(n,i,o,a,c,f);let x=ve.getModuleBitCount(n,i,o,a,c,f);if(x==null)return null;let E,S=Re.sum(x);if(a)E=c+S;else{for(let L=0;L<x.length/2;L++){let P=x[L];x[L]=x[x.length-1-L],x[x.length-1-L]=P}E=c,c=E-S}if(!ve.checkCodewordSkew(S,d,g))return null;let v=$t.getDecodedValue(x),b=xe.getCodeword(v);return b===-1?null:new Mo(c,E,ve.getCodewordBucketNumber(v),b)}static getModuleBitCount(n,i,o,a,c,f){let d=c,g=new Int32Array(8),x=0,E=a?1:-1,S=a;for(;(a?d<o:d>=i)&&x<g.length;)n.get(d,f)===S?(g[x]++,d+=E):(x++,S=!S);return x===g.length||d===(a?o:i)&&x===g.length-1?g:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,i,o,a,c,f){let d=c,g=a?-1:1;for(let x=0;x<2;x++){for(;(a?d>=i:d<o)&&a===n.get(d,f);){if(Math.abs(c-d)>ve.CODEWORD_SKEW_SIZE)return c;d+=g}g=-g,a=!a}return d}static checkCodewordSkew(n,i,o){return i-ve.CODEWORD_SKEW_SIZE<=n&&n<=o+ve.CODEWORD_SKEW_SIZE}static decodeCodewords(n,i,o){if(n.length===0)throw U.getFormatInstance();let a=1<<i+1,c=ve.correctErrors(n,o,a);ve.verifyCodewordCount(n,a);let f=V.decode(n,""+i);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(n,i,o){if(i!=null&&i.length>o/2+ve.MAX_ERRORS||o<0||o>ve.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return ve.errorCorrection.decode(n,o,i)}static verifyCodewordCount(n,i){if(n.length<4)throw U.getFormatInstance();let o=n[0];if(o>n.length)throw U.getFormatInstance();if(o===0)if(i<n.length)n[0]=n.length-i;else throw U.getFormatInstance()}static getBitCountForCodeword(n){let i=new Int32Array(8),o=0,a=i.length-1;for(;!((n&1)!==o&&(o=n&1,a--,a<0));)i[a]++,n>>=1;return i}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return ve.getCodewordBucketNumber(ve.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let i=new _o;for(let o=0;o<n.length;o++){i.format("Row %2d: ",o);for(let a=0;a<n[o].length;a++){let c=n[o][a];c.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}i.format("%n")}return i.toString()}}ve.CODEWORD_SKEW_SIZE=2,ve.MAX_ERRORS=3,ve.MAX_EC_CODEWORDS=512,ve.errorCorrection=new l1;class Rt{decode(n,i=null){let o=Rt.decode(n,i,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(n,i=null){try{return Rt.decode(n,i,!0)}catch(o){throw o instanceof U||o instanceof R?H.getNotFoundInstance():o}}static decode(n,i,o){const a=new Array,c=Se.detectMultiple(n,i,o);for(const f of c.getPoints()){const d=ve.decode(c.getBits(),f[4],f[5],f[6],f[7],Rt.getMinCodewordWidth(f),Rt.getMaxCodewordWidth(f)),g=new Ze(d.getText(),d.getRawBytes(),void 0,f,ce.PDF_417);g.putMetadata(vt.ERROR_CORRECTION_LEVEL,d.getECLevel());const x=d.getOther();x!=null&&g.putMetadata(vt.PDF417_EXTRA_METADATA,x),a.push(g)}return a.map(f=>f)}static getMaxWidth(n,i){return n==null||i==null?0:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMinWidth(n,i){return n==null||i==null?N.MAX_VALUE:Math.trunc(Math.abs(n.getX()-i.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Rt.getMaxWidth(n[0],n[4]),Rt.getMaxWidth(n[6],n[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(Rt.getMaxWidth(n[1],n[5]),Rt.getMaxWidth(n[7],n[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Rt.getMinWidth(n[0],n[4]),Rt.getMinWidth(n[6],n[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(Rt.getMinWidth(n[1],n[5]),Rt.getMinWidth(n[7],n[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Hs extends p{}Hs.kind="ReaderException";class g1{constructor(n,i){this.verbose=n===!0,i&&this.setHints(i)}decode(n,i){return i&&this.setHints(i),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const i=!s(n)&&n.get(Z.TRY_HARDER)===!0,o=s(n)?null:n.get(Z.POSSIBLE_FORMATS),a=new Array;if(!s(o)){const c=o.some(f=>f===ce.UPC_A||f===ce.UPC_E||f===ce.EAN_13||f===ce.EAN_8||f===ce.CODABAR||f===ce.CODE_39||f===ce.CODE_93||f===ce.CODE_128||f===ce.ITF||f===ce.RSS_14||f===ce.RSS_EXPANDED);c&&!i&&a.push(new Li(n,this.verbose)),o.includes(ce.QR_CODE)&&a.push(new vr),o.includes(ce.DATA_MATRIX)&&a.push(new Sr),o.includes(ce.AZTEC)&&a.push(new Ps),o.includes(ce.PDF_417)&&a.push(new Rt),c&&i&&a.push(new Li(n,this.verbose))}a.length===0&&(i||a.push(new Li(n,this.verbose)),a.push(new vr),a.push(new Sr),a.push(new Ps),a.push(new Rt),i&&a.push(new Li(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Hs("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(n,this.hints)}catch(o){if(o instanceof Hs)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class n2 extends Zt{constructor(n=null,i=500){const o=new g1;o.setHints(n),super(o,i)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class r2 extends Zt{constructor(n=500){super(new Rt,n)}}class i2 extends Zt{constructor(n=500){super(new vr,n)}}var ql;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(ql||(ql={}));var Ct=ql;class Jl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Kt(n,Int32Array.from([1])))}buildGenerator(n){const i=this.cachedGenerators;if(n>=i.length){let o=i[i.length-1];const a=this.field;for(let c=i.length;c<=n;c++){const f=o.multiply(new Kt(a,Int32Array.from([1,a.exp(c-1+a.getGeneratorBase())])));i.push(f),o=f}}return i[n]}encode(n,i){if(i===0)throw new C("No error correction bytes");const o=n.length-i;if(o<=0)throw new C("No data bytes provided");const a=this.buildGenerator(i),c=new Int32Array(o);D.arraycopy(n,0,c,0,o);let f=new Kt(this.field,c);f=f.multiplyByMonomial(i,1);const g=f.divide(a)[1].getCoefficients(),x=i-g.length;for(let E=0;E<x;E++)n[o+E]=0;D.arraycopy(g,0,n,o+x,g.length)}}class lt{constructor(){}static applyMaskPenaltyRule1(n){return lt.applyMaskPenaltyRule1Internal(n,!0)+lt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let f=0;f<c-1;f++){const d=o[f];for(let g=0;g<a-1;g++){const x=d[g];x===d[g+1]&&x===o[f+1][g]&&x===o[f+1][g+1]&&i++}}return lt.N2*i}static applyMaskPenaltyRule3(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let f=0;f<c;f++)for(let d=0;d<a;d++){const g=o[f];d+6<a&&g[d]===1&&g[d+1]===0&&g[d+2]===1&&g[d+3]===1&&g[d+4]===1&&g[d+5]===0&&g[d+6]===1&&(lt.isWhiteHorizontal(g,d-4,d)||lt.isWhiteHorizontal(g,d+7,d+11))&&i++,f+6<c&&o[f][d]===1&&o[f+1][d]===0&&o[f+2][d]===1&&o[f+3][d]===1&&o[f+4][d]===1&&o[f+5][d]===0&&o[f+6][d]===1&&(lt.isWhiteVertical(o,d,f-4,f)||lt.isWhiteVertical(o,d,f+7,f+11))&&i++}return i*lt.N3}static isWhiteHorizontal(n,i,o){i=Math.max(i,0),o=Math.min(o,n.length);for(let a=i;a<o;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,i,o,a){o=Math.max(o,0),a=Math.min(a,n.length);for(let c=o;c<a;c++)if(n[c][i]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let i=0;const o=n.getArray(),a=n.getWidth(),c=n.getHeight();for(let g=0;g<c;g++){const x=o[g];for(let E=0;E<a;E++)x[E]===1&&i++}const f=n.getHeight()*n.getWidth();return Math.floor(Math.abs(i*2-f)*10/f)*lt.N4}static getDataMaskBit(n,i,o){let a,c;switch(n){case 0:a=o+i&1;break;case 1:a=o&1;break;case 2:a=i%3;break;case 3:a=(o+i)%3;break;case 4:a=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:c=o*i,a=(c&1)+c%3;break;case 6:c=o*i,a=(c&1)+c%3&1;break;case 7:c=o*i,a=c%3+(o+i&1)&1;break;default:throw new C("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,i){let o=0;const a=i?n.getHeight():n.getWidth(),c=i?n.getWidth():n.getHeight(),f=n.getArray();for(let d=0;d<a;d++){let g=0,x=-1;for(let E=0;E<c;E++){const S=i?f[d][E]:f[E][d];S===x?g++:(g>=5&&(o+=lt.N1+(g-5)),g=1,x=S)}g>=5&&(o+=lt.N1+(g-5))}return o}}lt.N1=3,lt.N2=3,lt.N3=40,lt.N4=10;class Vs{constructor(n,i){this.width=n,this.height=i;const o=new Array(i);for(let a=0;a!==i;a++)o[a]=new Uint8Array(n);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(n,i){return this.bytes[i][n]}getArray(){return this.bytes}setNumber(n,i,o){this.bytes[i][n]=o}setBoolean(n,i,o){this.bytes[i][n]=o?1:0}clear(n){for(const i of this.bytes)T.fill(i,n)}equals(n){if(!(n instanceof Vs))return!1;const i=n;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,a=this.height;o<a;++o){const c=this.bytes[o],f=i.bytes[o];for(let d=0,g=this.width;d<g;++d)if(c[d]!==f[d])return!1}return!0}toString(){const n=new ye;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i];for(let c=0,f=this.width;c<f;++c)switch(a[c]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class oi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ye;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<oi.NUM_MASK_PATTERNS}}oi.NUM_MASK_PATTERNS=8;class Ve extends p{}Ve.kind="WriterException";class pe{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,i,o,a,c){pe.clearMatrix(c),pe.embedBasicPatterns(o,c),pe.embedTypeInfo(i,a,c),pe.maybeEmbedVersionInfo(o,c),pe.embedDataBits(n,a,c)}static embedBasicPatterns(n,i){pe.embedPositionDetectionPatternsAndSeparators(i),pe.embedDarkDotAtLeftBottomCorner(i),pe.maybeEmbedPositionAdjustmentPatterns(n,i),pe.embedTimingPatterns(i)}static embedTypeInfo(n,i,o){const a=new F;pe.makeTypeInfoBits(n,i,a);for(let c=0,f=a.getSize();c<f;++c){const d=a.get(a.getSize()-1-c),g=pe.TYPE_INFO_COORDINATES[c],x=g[0],E=g[1];if(o.setBoolean(x,E,d),c<8){const S=o.getWidth()-c-1,v=8;o.setBoolean(S,v,d)}else{const v=o.getHeight()-7+(c-8);o.setBoolean(8,v,d)}}}static maybeEmbedVersionInfo(n,i){if(n.getVersionNumber()<7)return;const o=new F;pe.makeVersionInfoBits(n,o);let a=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const d=o.get(a);a--,i.setBoolean(c,i.getHeight()-11+f,d),i.setBoolean(i.getHeight()-11+f,c,d)}}static embedDataBits(n,i,o){let a=0,c=-1,f=o.getWidth()-1,d=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);d>=0&&d<o.getHeight();){for(let g=0;g<2;++g){const x=f-g;if(!pe.isEmpty(o.get(x,d)))continue;let E;a<n.getSize()?(E=n.get(a),++a):E=!1,i!==255&&lt.getDataMaskBit(i,x,d)&&(E=!E),o.setBoolean(x,d,E)}d+=c}c=-c,d+=c,f-=2}if(a!==n.getSize())throw new Ve("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-N.numberOfLeadingZeros(n)}static calculateBCHCode(n,i){if(i===0)throw new C("0 polynomial");const o=pe.findMSBSet(i);for(n<<=o-1;pe.findMSBSet(n)>=o;)n^=i<<pe.findMSBSet(n)-o;return n}static makeTypeInfoBits(n,i,o){if(!oi.isValidMaskPattern(i))throw new Ve("Invalid mask pattern");const a=n.getBits()<<3|i;o.appendBits(a,5);const c=pe.calculateBCHCode(a,pe.TYPE_INFO_POLY);o.appendBits(c,10);const f=new F;if(f.appendBits(pe.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Ve("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(n,i){i.appendBits(n.getVersionNumber(),6);const o=pe.calculateBCHCode(n.getVersionNumber(),pe.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new Ve("should not happen but we got: "+i.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let i=8;i<n.getWidth()-8;++i){const o=(i+1)%2;pe.isEmpty(n.get(i,6))&&n.setNumber(i,6,o),pe.isEmpty(n.get(6,i))&&n.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new Ve;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,i,o){for(let a=0;a<8;++a){if(!pe.isEmpty(o.get(n+a,i)))throw new Ve;o.setNumber(n+a,i,0)}}static embedVerticalSeparationPattern(n,i,o){for(let a=0;a<7;++a){if(!pe.isEmpty(o.get(n,i+a)))throw new Ve;o.setNumber(n,i+a,0)}}static embedPositionAdjustmentPattern(n,i,o){for(let a=0;a<5;++a){const c=pe.POSITION_ADJUSTMENT_PATTERN[a];for(let f=0;f<5;++f)o.setNumber(n+f,i+a,c[f])}}static embedPositionDetectionPattern(n,i,o){for(let a=0;a<7;++a){const c=pe.POSITION_DETECTION_PATTERN[a];for(let f=0;f<7;++f)o.setNumber(n+f,i+a,c[f])}}static embedPositionDetectionPatternsAndSeparators(n){const i=pe.POSITION_DETECTION_PATTERN[0].length;pe.embedPositionDetectionPattern(0,0,n),pe.embedPositionDetectionPattern(n.getWidth()-i,0,n),pe.embedPositionDetectionPattern(0,n.getWidth()-i,n);const o=8;pe.embedHorizontalSeparationPattern(0,o-1,n),pe.embedHorizontalSeparationPattern(n.getWidth()-o,o-1,n),pe.embedHorizontalSeparationPattern(0,n.getWidth()-o,n);const a=7;pe.embedVerticalSeparationPattern(a,0,n),pe.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),pe.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,i){if(n.getVersionNumber()<2)return;const o=n.getVersionNumber()-1,a=pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=a.length;c!==f;c++){const d=a[c];if(d>=0)for(let g=0;g!==f;g++){const x=a[g];x>=0&&pe.isEmpty(i.get(x,d))&&pe.embedPositionAdjustmentPattern(x-2,d-2,i)}}}}pe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),pe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),pe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),pe.VERSION_INFO_POLY=7973,pe.TYPE_INFO_POLY=1335,pe.TYPE_INFO_MASK_PATTERN=21522;class o2{constructor(n,i){this.dataBytes=n,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ke{constructor(){}static calculateMaskPenalty(n){return lt.applyMaskPenaltyRule1(n)+lt.applyMaskPenaltyRule2(n)+lt.applyMaskPenaltyRule3(n)+lt.applyMaskPenaltyRule4(n)}static encode(n,i,o=null){let a=Ke.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(Ct.CHARACTER_SET)!==void 0;c&&(a=o.get(Ct.CHARACTER_SET).toString());const f=this.chooseMode(n,a),d=new F;if(f===ge.BYTE&&(c||Ke.DEFAULT_BYTE_MODE_ENCODING!==a)){const te=Y.getCharacterSetECIByName(a);te!==void 0&&this.appendECI(te,d)}this.appendModeInfo(f,d);const g=new F;this.appendBytes(n,f,g,a);let x;if(o!==null&&o.get(Ct.QR_VERSION)!==void 0){const te=Number.parseInt(o.get(Ct.QR_VERSION).toString(),10);x=fe.getVersionForNumber(te);const J=this.calculateBitsNeeded(f,d,g,x);if(!this.willFit(J,x,i))throw new Ve("Data too big for requested version")}else x=this.recommendVersion(i,f,d,g);const E=new F;E.appendBitArray(d);const S=f===ge.BYTE?g.getSizeInBytes():n.length;this.appendLengthInfo(S,x,f,E),E.appendBitArray(g);const v=x.getECBlocksForLevel(i),b=x.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(b,E);const L=this.interleaveWithECBytes(E,x.getTotalCodewords(),b,v.getNumBlocks()),P=new oi;P.setECLevel(i),P.setMode(f),P.setVersion(x);const j=x.getDimensionForVersion(),W=new Vs(j,j),ee=this.chooseMaskPattern(L,i,x,W);return P.setMaskPattern(ee),pe.buildMatrix(L,i,x,ee,W),P.setMatrix(W),P}static recommendVersion(n,i,o,a){const c=this.calculateBitsNeeded(i,o,a,fe.getVersionForNumber(1)),f=this.chooseVersion(c,n),d=this.calculateBitsNeeded(i,o,a,f);return this.chooseVersion(d,n)}static calculateBitsNeeded(n,i,o,a){return i.getSize()+n.getCharacterCountBits(a)+o.getSize()}static getAlphanumericCode(n){return n<Ke.ALPHANUMERIC_TABLE.length?Ke.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,i=null){if(Y.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(n))return ge.KANJI;let o=!1,a=!1;for(let c=0,f=n.length;c<f;++c){const d=n.charAt(c);if(Ke.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)a=!0;else return ge.BYTE}return a?ge.ALPHANUMERIC:o?ge.NUMERIC:ge.BYTE}static isOnlyDoubleByteKanji(n){let i;try{i=we.encode(n,Y.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let a=0;a<o;a+=2){const c=i[a]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(n,i,o,a){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let d=0;d<oi.NUM_MASK_PATTERNS;d++){pe.buildMatrix(n,i,o,d,a);let g=this.calculateMaskPenalty(a);g<c&&(c=g,f=d)}return f}static chooseVersion(n,i){for(let o=1;o<=40;o++){const a=fe.getVersionForNumber(o);if(Ke.willFit(n,a,i))return a}throw new Ve("Data too big")}static willFit(n,i,o){const a=i.getTotalCodewords(),f=i.getECBlocksForLevel(o).getTotalECCodewords(),d=a-f,g=(n+7)/8;return d>=g}static terminateBits(n,i){const o=n*8;if(i.getSize()>o)throw new Ve("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let f=0;f<4&&i.getSize()<o;++f)i.appendBit(!1);const a=i.getSize()&7;if(a>0)for(let f=a;f<8;f++)i.appendBit(!1);const c=n-i.getSizeInBytes();for(let f=0;f<c;++f)i.appendBits(f&1?17:236,8);if(i.getSize()!==o)throw new Ve("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,i,o,a,c,f){if(a>=o)throw new Ve("Block ID too large");const d=n%o,g=o-d,x=Math.floor(n/o),E=x+1,S=Math.floor(i/o),v=S+1,b=x-S,L=E-v;if(b!==L)throw new Ve("EC bytes mismatch");if(o!==g+d)throw new Ve("RS blocks mismatch");if(n!==(S+b)*g+(v+L)*d)throw new Ve("Total bytes mismatch");a<g?(c[0]=S,f[0]=b):(c[0]=v,f[0]=L)}static interleaveWithECBytes(n,i,o,a){if(n.getSizeInBytes()!==o)throw new Ve("Number of bits and data bytes does not match");let c=0,f=0,d=0;const g=new Array;for(let E=0;E<a;++E){const S=new Int32Array(1),v=new Int32Array(1);Ke.getNumDataBytesAndNumECBytesForBlockID(i,o,a,E,S,v);const b=S[0],L=new Uint8Array(b);n.toBytes(8*c,L,0,b);const P=Ke.generateECBytes(L,v[0]);g.push(new o2(L,P)),f=Math.max(f,b),d=Math.max(d,P.length),c+=S[0]}if(o!==c)throw new Ve("Data bytes does not match offset");const x=new F;for(let E=0;E<f;++E)for(const S of g){const v=S.getDataBytes();E<v.length&&x.appendBits(v[E],8)}for(let E=0;E<d;++E)for(const S of g){const v=S.getErrorCorrectionBytes();E<v.length&&x.appendBits(v[E],8)}if(i!==x.getSizeInBytes())throw new Ve("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(n,i){const o=n.length,a=new Int32Array(o+i);for(let f=0;f<o;f++)a[f]=n[f]&255;new Jl(Le.QR_CODE_FIELD_256).encode(a,i);const c=new Uint8Array(i);for(let f=0;f<i;f++)c[f]=a[o+f];return c}static appendModeInfo(n,i){i.appendBits(n.getBits(),4)}static appendLengthInfo(n,i,o,a){const c=o.getCharacterCountBits(i);if(n>=1<<c)throw new Ve(n+" is bigger than "+((1<<c)-1));a.appendBits(n,c)}static appendBytes(n,i,o,a){switch(i){case ge.NUMERIC:Ke.appendNumericBytes(n,o);break;case ge.ALPHANUMERIC:Ke.appendAlphanumericBytes(n,o);break;case ge.BYTE:Ke.append8BitBytes(n,o,a);break;case ge.KANJI:Ke.appendKanjiBytes(n,o);break;default:throw new Ve("Invalid mode: "+i)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const i=Ke.getDigit(n);return i>=0&&i<=9}static appendNumericBytes(n,i){const o=n.length;let a=0;for(;a<o;){const c=Ke.getDigit(n.charAt(a));if(a+2<o){const f=Ke.getDigit(n.charAt(a+1)),d=Ke.getDigit(n.charAt(a+2));i.appendBits(c*100+f*10+d,10),a+=3}else if(a+1<o){const f=Ke.getDigit(n.charAt(a+1));i.appendBits(c*10+f,7),a+=2}else i.appendBits(c,4),a++}}static appendAlphanumericBytes(n,i){const o=n.length;let a=0;for(;a<o;){const c=Ke.getAlphanumericCode(n.charCodeAt(a));if(c===-1)throw new Ve;if(a+1<o){const f=Ke.getAlphanumericCode(n.charCodeAt(a+1));if(f===-1)throw new Ve;i.appendBits(c*45+f,11),a+=2}else i.appendBits(c,6),a++}}static append8BitBytes(n,i,o){let a;try{a=we.encode(n,o)}catch(c){throw new Ve(c)}for(let c=0,f=a.length;c!==f;c++){const d=a[c];i.appendBits(d,8)}}static appendKanjiBytes(n,i){let o;try{o=we.encode(n,Y.SJIS)}catch(c){throw new Ve(c)}const a=o.length;for(let c=0;c<a;c+=2){const f=o[c]&255,d=o[c+1]&255,g=f<<8&4294967295|d;let x=-1;if(g>=33088&&g<=40956?x=g-33088:g>=57408&&g<=60351&&(x=g-49472),x===-1)throw new Ve("Invalid byte sequence");const E=(x>>8)*192+(x&255);i.appendBits(E,13)}}static appendECI(n,i){i.appendBits(ge.ECI.getBits(),4),i.appendBits(n.getValue(),8)}}Ke.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ke.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class si{write(n,i,o,a=null){if(n.length===0)throw new C("Found empty contents");if(i<0||o<0)throw new C("Requested dimensions are too small: "+i+"x"+o);let c=Xe.L,f=si.QUIET_ZONE_SIZE;a!==null&&(a.get(Ct.ERROR_CORRECTION)!==void 0&&(c=Xe.fromString(a.get(Ct.ERROR_CORRECTION).toString())),a.get(Ct.MARGIN)!==void 0&&(f=Number.parseInt(a.get(Ct.MARGIN).toString(),10)));const d=Ke.encode(n,c,a);return this.renderResult(d,i,o,f)}writeToDom(n,i,o,a,c=null){typeof n=="string"&&(n=document.querySelector(n));const f=this.write(i,o,a,c);n&&n.appendChild(f)}renderResult(n,i,o,a){const c=n.getMatrix();if(c===null)throw new Gn;const f=c.getWidth(),d=c.getHeight(),g=f+a*2,x=d+a*2,E=Math.max(i,g),S=Math.max(o,x),v=Math.min(Math.floor(E/g),Math.floor(S/x)),b=Math.floor((E-f*v)/2),L=Math.floor((S-d*v)/2),P=this.createSVGElement(E,S);for(let j=0,W=L;j<d;j++,W+=v)for(let ee=0,te=b;ee<f;ee++,te+=v)if(c.get(ee,j)===1){const J=this.createSvgRectElement(te,W,v,v);P.appendChild(J)}return P}createSVGElement(n,i){const o=document.createElementNS(si.SVG_NS,"svg");return o.setAttributeNS(null,"height",n.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(n,i,o,a){const c=document.createElementNS(si.SVG_NS,"rect");return c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",i.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",a.toString()),c.setAttributeNS(null,"fill","#000000"),c}}si.QUIET_ZONE_SIZE=4,si.SVG_NS="http://www.w3.org/2000/svg";class Pi{encode(n,i,o,a,c){if(n.length===0)throw new C("Found empty contents");if(i!==ce.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(o<0||a<0)throw new C(`Requested dimensions are too small: ${o}x${a}`);let f=Xe.L,d=Pi.QUIET_ZONE_SIZE;c!==null&&(c.get(Ct.ERROR_CORRECTION)!==void 0&&(f=Xe.fromString(c.get(Ct.ERROR_CORRECTION).toString())),c.get(Ct.MARGIN)!==void 0&&(d=Number.parseInt(c.get(Ct.MARGIN).toString(),10)));const g=Ke.encode(n,f,c);return Pi.renderResult(g,o,a,d)}static renderResult(n,i,o,a){const c=n.getMatrix();if(c===null)throw new Gn;const f=c.getWidth(),d=c.getHeight(),g=f+a*2,x=d+a*2,E=Math.max(i,g),S=Math.max(o,x),v=Math.min(Math.floor(E/g),Math.floor(S/x)),b=Math.floor((E-f*v)/2),L=Math.floor((S-d*v)/2),P=new Ee(E,S);for(let j=0,W=L;j<d;j++,W+=v)for(let ee=0,te=b;ee<f;ee++,te+=v)c.get(ee,j)===1&&P.setRegion(te,W,v,v);return P}}Pi.QUIET_ZONE_SIZE=4;class s2{encode(n,i,o,a,c){let f;switch(i){case ce.QR_CODE:f=new Pi;break;default:throw new C("No encoder available for format "+i)}return f.encode(n,i,o,a,c)}}class Zn extends re{constructor(n,i,o,a,c,f,d,g){if(super(f,d),this.yuvData=n,this.dataWidth=i,this.dataHeight=o,this.left=a,this.top=c,a+f>i||c+d>o)throw new C("Crop rectangle does not fit within image data.");g&&this.reverseHorizontal(f,d)}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,a,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=n*i,a=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.yuvData,c,a,0,o),a;for(let f=0;f<i;f++){const d=f*n;D.arraycopy(this.yuvData,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,o,a){return new Zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+i,o,a,!1)}renderThumbnail(){const n=this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(n*i),a=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<i;f++){const d=f*n;for(let g=0;g<n;g++){const x=a[c+g*Zn.THUMBNAIL_SCALE_FACTOR]&255;o[d+g]=4278190080|x*65793}c+=this.dataWidth*Zn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,i){const o=this.yuvData;for(let a=0,c=this.top*this.dataWidth+this.left;a<i;a++,c+=this.dataWidth){const f=c+n/2;for(let d=c,g=c+n-1;d<f;d++,g--){const x=o[d];o[d]=o[g],o[g]=x}}}invert(){return new he(this)}}Zn.THUMBNAIL_SCALE_FACTOR=2;class $l extends re{constructor(n,i,o,a,c,f,d){if(super(i,o),this.dataWidth=a,this.dataHeight=c,this.left=f,this.top=d,n.BYTES_PER_ELEMENT===4){const g=i*o,x=new Uint8ClampedArray(g);for(let E=0;E<g;E++){const S=n[E],v=S>>16&255,b=S>>7&510,L=S&255;x[E]=(v+b+L)/4&255}this.luminances=x}else this.luminances=n;if(a===void 0&&(this.dataWidth=i),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(n,i){if(n<0||n>=this.getHeight())throw new C("Requested row is outside the image: "+n);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const a=(n+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,a,i,0,o),i}getMatrix(){const n=this.getWidth(),i=this.getHeight();if(n===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=n*i,a=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return D.arraycopy(this.luminances,c,a,0,o),a;for(let f=0;f<i;f++){const d=f*n;D.arraycopy(this.luminances,c,a,d,n),c+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,i,o,a){return new $l(this.luminances,o,a,this.dataWidth,this.dataHeight,this.left+n,this.top+i)}invert(){return new he(this)}}class p1 extends Y{static forName(n){return this.getCharacterSetECIByName(n)}}class ec{}ec.ISO_8859_1=Y.ISO8859_1;class m1{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class x1{static singletonList(n){return[n]}static min(n,i){return n.sort(i)[0]}}class a2{constructor(n){this.previous=n}getPrevious(){return this.previous}}class Bi extends a2{constructor(n,i,o){super(n),this.value=i,this.bitCount=o}appendTo(n,i){n.appendBits(this.value,this.bitCount)}add(n,i){return new Bi(this,n,i)}addBinaryShift(n,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Bi(this,n,i)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+N.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class tc extends Bi{constructor(n,i,o){super(n,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(n,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):o===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(n,i){return new tc(this,n,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function l2(A,n,i){return new tc(A,n,i)}function Do(A,n,i){return new Bi(A,n,i)}const c2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tr=0,Ws=1,vn=2,w1=3,Kn=4,u2=new Bi(null,0,0),nc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function f2(A){for(let n of A)T.fill(n,-1);return A[Tr][Kn]=0,A[Ws][Kn]=0,A[Ws][Tr]=28,A[w1][Kn]=0,A[vn][Kn]=0,A[vn][Tr]=15,A}const y1=f2(T.createInt32Array(6,6));class qn{constructor(n,i,o,a){this.token=n,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,i){let o=this.bitCount,a=this.token;if(n!==this.mode){let f=nc[this.mode][n];a=Do(a,f&65535,f>>16),o+=f>>16}let c=n===vn?4:5;return a=Do(a,i,c),new qn(a,n,0,o+c)}shiftAndAppend(n,i){let o=this.token,a=this.mode===vn?4:5;return o=Do(o,y1[this.mode][n],a),o=Do(o,i,5),new qn(o,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let i=this.token,o=this.mode,a=this.bitCount;if(this.mode===Kn||this.mode===vn){let d=nc[o][Tr];i=Do(i,d&65535,d>>16),a+=d>>16,o=Tr}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new qn(i,o,this.binaryShiftByteCount+1,a+c);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(n+1)),f}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=l2(i,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new qn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let i=this.bitCount+(nc[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?i+=qn.calculateBinaryShiftCost(n)-qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(i+=10),i<=n.bitCount}toBitArray(n){let i=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())i.unshift(a);let o=new F;for(const a of i)a.appendTo(o,n);return o}toString(){return ae.format("%s bits=%d bytes=%d",c2[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}qn.INITIAL_STATE=new qn(u2,Tr,0,0);function d2(A){const n=ae.getCharCode(" "),i=ae.getCharCode("."),o=ae.getCharCode(",");A[Tr][n]=1;const a=ae.getCharCode("Z"),c=ae.getCharCode("A");for(let v=c;v<=a;v++)A[Tr][v]=v-c+2;A[Ws][n]=1;const f=ae.getCharCode("z"),d=ae.getCharCode("a");for(let v=d;v<=f;v++)A[Ws][v]=v-d+2;A[vn][n]=1;const g=ae.getCharCode("9"),x=ae.getCharCode("0");for(let v=x;v<=g;v++)A[vn][v]=v-x+2;A[vn][o]=12,A[vn][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<E.length;v++)A[w1][ae.getCharCode(E[v])]=v;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<S.length;v++)ae.getCharCode(S[v])>0&&(A[Kn][ae.getCharCode(S[v])]=v);return A}const rc=d2(T.createInt32Array(5,256));class Lo{constructor(n){this.text=n}encode(){const n=ae.getCharCode(" "),i=ae.getCharCode(`
`);let o=x1.singletonList(qn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,d=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case ae.getCharCode("\r"):f=d===i?2:0;break;case ae.getCharCode("."):f=d===n?3:0;break;case ae.getCharCode(","):f=d===n?4:0;break;case ae.getCharCode(":"):f=d===n?5:0;break;default:f=0}f>0?(o=Lo.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return x1.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,i){const o=[];for(let a of n)this.updateStateForChar(a,i,o);return Lo.simplifyStates(o)}updateStateForChar(n,i,o){let a=this.text[i]&255,c=rc[n.getMode()][a]>0,f=null;for(let d=0;d<=Kn;d++){let g=rc[d][a];if(g>0){if(f==null&&(f=n.endBinaryShift(i)),!c||d===n.getMode()||d===vn){const x=f.latchAndAppend(d,g);o.push(x)}if(!c&&y1[n.getMode()][d]>=0){const x=f.shiftAndAppend(d,g);o.push(x)}}}if(n.getBinaryShiftByteCount()>0||rc[n.getMode()][a]===0){let d=n.addBinaryShiftChar(i);o.push(d)}}static updateStateListForPair(n,i,o){const a=[];for(let c of n)this.updateStateForPair(c,i,o,a);return this.simplifyStates(a)}static updateStateForPair(n,i,o,a){let c=n.endBinaryShift(i);if(a.push(c.latchAndAppend(Kn,o)),n.getMode()!==Kn&&a.push(c.shiftAndAppend(Kn,o)),o===3||o===4){let f=c.latchAndAppend(vn,16-o).latchAndAppend(vn,1);a.push(f)}if(n.getBinaryShiftByteCount()>0){let f=n.addBinaryShiftChar(i).addBinaryShiftChar(i+1);a.push(f)}}static simplifyStates(n){let i=[];for(const o of n){let a=!0;for(const c of i){if(c.isBetterThanOrEqualTo(o)){a=!1;break}o.isBetterThanOrEqualTo(c)&&(i=i.filter(f=>f!==c))}a&&i.push(o)}return i}}class Me{constructor(){}static encodeBytes(n){return Me.encode(n,Me.DEFAULT_EC_PERCENT,Me.DEFAULT_AZTEC_LAYERS)}static encode(n,i,o){let a=new Lo(n).encode(),c=N.truncDivision(a.getSize()*i,100)+11,f=a.getSize()+c,d,g,x,E,S;if(o!==Me.DEFAULT_AZTEC_LAYERS){if(d=o<0,g=Math.abs(o),g>(d?Me.MAX_NB_BITS_COMPACT:Me.MAX_NB_BITS))throw new C(ae.format("Illegal value %s for layers",o));x=Me.totalBitsInLayer(g,d),E=Me.WORD_SIZE[g];let J=x-x%E;if(S=Me.stuffBits(a,E),S.getSize()+c>J)throw new C("Data to large for user specified layer");if(d&&S.getSize()>E*64)throw new C("Data to large for user specified layer")}else{E=0,S=null;for(let J=0;;J++){if(J>Me.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(d=J<=3,g=d?J+1:J,x=Me.totalBitsInLayer(g,d),f>x)continue;(S==null||E!==Me.WORD_SIZE[g])&&(E=Me.WORD_SIZE[g],S=Me.stuffBits(a,E));let _e=x-x%E;if(!(d&&S.getSize()>E*64)&&S.getSize()+c<=_e)break}}let v=Me.generateCheckWords(S,x,E),b=S.getSize()/E,L=Me.generateModeMessage(d,g,b),P=(d?11:14)+g*4,j=new Int32Array(P),W;if(d){W=P;for(let J=0;J<j.length;J++)j[J]=J}else{W=P+1+2*N.truncDivision(N.truncDivision(P,2)-1,15);let J=N.truncDivision(P,2),_e=N.truncDivision(W,2);for(let Ce=0;Ce<J;Ce++){let en=Ce+N.truncDivision(Ce,15);j[J-Ce-1]=_e-en-1,j[J+Ce]=_e+en+1}}let ee=new Ee(W);for(let J=0,_e=0;J<g;J++){let Ce=(g-J)*4+(d?9:12);for(let en=0;en<Ce;en++){let Dn=en*2;for(let tn=0;tn<2;tn++)v.get(_e+Dn+tn)&&ee.set(j[J*2+tn],j[J*2+en]),v.get(_e+Ce*2+Dn+tn)&&ee.set(j[J*2+en],j[P-1-J*2-tn]),v.get(_e+Ce*4+Dn+tn)&&ee.set(j[P-1-J*2-tn],j[P-1-J*2-en]),v.get(_e+Ce*6+Dn+tn)&&ee.set(j[P-1-J*2-en],j[J*2+tn])}_e+=Ce*8}if(Me.drawModeMessage(ee,d,W,L),d)Me.drawBullsEye(ee,N.truncDivision(W,2),5);else{Me.drawBullsEye(ee,N.truncDivision(W,2),7);for(let J=0,_e=0;J<N.truncDivision(P,2)-1;J+=15,_e+=16)for(let Ce=N.truncDivision(W,2)&1;Ce<W;Ce+=2)ee.set(N.truncDivision(W,2)-_e,Ce),ee.set(N.truncDivision(W,2)+_e,Ce),ee.set(Ce,N.truncDivision(W,2)-_e),ee.set(Ce,N.truncDivision(W,2)+_e)}let te=new m1;return te.setCompact(d),te.setSize(W),te.setLayers(g),te.setCodeWords(b),te.setMatrix(ee),te}static drawBullsEye(n,i,o){for(let a=0;a<o;a+=2)for(let c=i-a;c<=i+a;c++)n.set(c,i-a),n.set(c,i+a),n.set(i-a,c),n.set(i+a,c);n.set(i-o,i-o),n.set(i-o+1,i-o),n.set(i-o,i-o+1),n.set(i+o,i-o),n.set(i+o,i-o+1),n.set(i+o,i+o-1)}static generateModeMessage(n,i,o){let a=new F;return n?(a.appendBits(i-1,2),a.appendBits(o-1,6),a=Me.generateCheckWords(a,28,4)):(a.appendBits(i-1,5),a.appendBits(o-1,11),a=Me.generateCheckWords(a,40,4)),a}static drawModeMessage(n,i,o,a){let c=N.truncDivision(o,2);if(i)for(let f=0;f<7;f++){let d=c-3+f;a.get(f)&&n.set(d,c-5),a.get(f+7)&&n.set(c+5,d),a.get(20-f)&&n.set(d,c+5),a.get(27-f)&&n.set(c-5,d)}else for(let f=0;f<10;f++){let d=c-5+f+N.truncDivision(f,5);a.get(f)&&n.set(d,c-7),a.get(f+10)&&n.set(c+7,d),a.get(29-f)&&n.set(d,c+7),a.get(39-f)&&n.set(c-7,d)}}static generateCheckWords(n,i,o){let a=n.getSize()/o,c=new Jl(Me.getGF(o)),f=N.truncDivision(i,o),d=Me.bitsToWords(n,o,f);c.encode(d,f-a);let g=i%o,x=new F;x.appendBits(0,g);for(const E of Array.from(d))x.appendBits(E,o);return x}static bitsToWords(n,i,o){let a=new Int32Array(o),c,f;for(c=0,f=n.getSize()/i;c<f;c++){let d=0;for(let g=0;g<i;g++)d|=n.get(c*i+g)?1<<i-g-1:0;a[c]=d}return a}static getGF(n){switch(n){case 4:return Le.AZTEC_PARAM;case 6:return Le.AZTEC_DATA_6;case 8:return Le.AZTEC_DATA_8;case 10:return Le.AZTEC_DATA_10;case 12:return Le.AZTEC_DATA_12;default:throw new C("Unsupported word size "+n)}}static stuffBits(n,i){let o=new F,a=n.getSize(),c=(1<<i)-2;for(let f=0;f<a;f+=i){let d=0;for(let g=0;g<i;g++)(f+g>=a||n.get(f+g))&&(d|=1<<i-1-g);(d&c)===c?(o.appendBits(d&c,i),f--):d&c?o.appendBits(d,i):(o.appendBits(d|1,i),f--)}return o}static totalBitsInLayer(n,i){return((i?88:112)+16*n)*n}}Me.DEFAULT_EC_PERCENT=33,Me.DEFAULT_AZTEC_LAYERS=0,Me.MAX_NB_BITS=32,Me.MAX_NB_BITS_COMPACT=4,Me.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Gs{encode(n,i,o,a){return this.encodeWithHints(n,i,o,a,null)}encodeWithHints(n,i,o,a,c){let f=ec.ISO_8859_1,d=Me.DEFAULT_EC_PERCENT,g=Me.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(Ct.CHARACTER_SET)&&(f=p1.forName(c.get(Ct.CHARACTER_SET).toString())),c.has(Ct.ERROR_CORRECTION)&&(d=N.parseInt(c.get(Ct.ERROR_CORRECTION).toString())),c.has(Ct.AZTEC_LAYERS)&&(g=N.parseInt(c.get(Ct.AZTEC_LAYERS).toString()))),Gs.encodeLayers(n,i,o,a,f,d,g)}static encodeLayers(n,i,o,a,c,f,d){if(i!==ce.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let g=Me.encode(ae.getBytes(n,c),f,d);return Gs.renderResult(g,o,a)}static renderResult(n,i,o){let a=n.getMatrix();if(a==null)throw new Gn;let c=a.getWidth(),f=a.getHeight(),d=Math.max(i,c),g=Math.max(o,f),x=Math.min(d/c,g/f),E=(d-c*x)/2,S=(g-f*x)/2,v=new Ee(d,g);for(let b=0,L=S;b<f;b++,L+=x)for(let P=0,j=E;P<c;P++,j+=x)a.get(P,b)&&v.setRegion(j,L,x,x);return v}}r.AbstractExpandedDecoder=Hl,r.ArgumentException=y,r.ArithmeticException=Ds,r.AztecCode=m1,r.AztecCodeReader=Ps,r.AztecCodeWriter=Gs,r.AztecDecoder=Ye,r.AztecDetector=n1,r.AztecDetectorResult=e1,r.AztecEncoder=Me,r.AztecHighLevelEncoder=Lo,r.AztecPoint=Vt,r.BarcodeFormat=ce,r.Binarizer=M,r.BinaryBitmap=I,r.BitArray=F,r.BitMatrix=Ee,r.BitSource=Yl,r.BrowserAztecCodeReader=Fp,r.BrowserBarcodeReader=Vp,r.BrowserCodeReader=Zt,r.BrowserDatamatrixCodeReader=Gp,r.BrowserMultiFormatReader=n2,r.BrowserPDF417Reader=r2,r.BrowserQRCodeReader=i2,r.BrowserQRCodeSvgWriter=si,r.CharacterSetECI=Y,r.ChecksumException=R,r.Code128Reader=ne,r.Code39Reader=yt,r.DataMatrixDecodedBitStreamParser=Ar,r.DataMatrixReader=Sr,r.DecodeHintType=Z,r.DecoderResult=So,r.DefaultGridSampler=t1,r.DetectorResult=ks,r.EAN13Reader=ti,r.EncodeHintType=Ct,r.Exception=p,r.FormatException=U,r.GenericGF=Le,r.GenericGFPoly=Kt,r.GlobalHistogramBinarizer=be,r.GridSampler=Fl,r.GridSamplerInstance=Er,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=ue,r.ITFReader=He,r.IllegalArgumentException=C,r.IllegalStateException=Gn,r.InvertedLuminanceSource=he,r.LuminanceSource=re,r.MathUtils=Re,r.MultiFormatOneDReader=Li,r.MultiFormatReader=g1,r.MultiFormatWriter=s2,r.NotFoundException=H,r.OneDReader=pt,r.PDF417DecodedBitStreamParser=V,r.PDF417DecoderErrorCorrection=l1,r.PDF417Reader=Rt,r.PDF417ResultMetadata=u1,r.PerspectiveTransform=Rn,r.PlanarYUVLuminanceSource=Zn,r.QRCodeByteMatrix=Vs,r.QRCodeDataMask=An,r.QRCodeDecodedBitStreamParser=nt,r.QRCodeDecoderErrorCorrectionLevel=Xe,r.QRCodeDecoderFormatInformation=Bt,r.QRCodeEncoder=Ke,r.QRCodeEncoderQRCode=oi,r.QRCodeMaskUtil=lt,r.QRCodeMatrixUtil=pe,r.QRCodeMode=ge,r.QRCodeReader=vr,r.QRCodeVersion=fe,r.QRCodeWriter=Pi,r.RGBLuminanceSource=$l,r.RSS14Reader=at,r.RSSExpandedReader=K,r.ReaderException=Hs,r.ReedSolomonDecoder=Io,r.ReedSolomonEncoder=Jl,r.ReedSolomonException=bi,r.Result=Ze,r.ResultMetadataType=vt,r.ResultPoint=le,r.StringUtils=ae,r.UnsupportedOperationException=de,r.VideoInputDevice=Ge,r.WhiteRectangleDetector=ar,r.WriterException=Ve,r.ZXingArrays=T,r.ZXingCharset=p1,r.ZXingInteger=N,r.ZXingStandardCharsets=ec,r.ZXingStringBuilder=ye,r.ZXingStringEncoding=we,r.ZXingSystem=D,r.createAbstractExpandedDecoder=s1,Object.defineProperty(r,"__esModule",{value:!0})})})(Gu,Gu.exports);var Je=Gu.exports;const j3=Yu(Je),z3=yd({__proto__:null,default:j3},[Je]);var ld=function(){function e(t,r,s){if(this.formatMap=new Map([[oe.QR_CODE,Je.BarcodeFormat.QR_CODE],[oe.AZTEC,Je.BarcodeFormat.AZTEC],[oe.CODABAR,Je.BarcodeFormat.CODABAR],[oe.CODE_39,Je.BarcodeFormat.CODE_39],[oe.CODE_93,Je.BarcodeFormat.CODE_93],[oe.CODE_128,Je.BarcodeFormat.CODE_128],[oe.DATA_MATRIX,Je.BarcodeFormat.DATA_MATRIX],[oe.MAXICODE,Je.BarcodeFormat.MAXICODE],[oe.ITF,Je.BarcodeFormat.ITF],[oe.EAN_13,Je.BarcodeFormat.EAN_13],[oe.EAN_8,Je.BarcodeFormat.EAN_8],[oe.PDF_417,Je.BarcodeFormat.PDF_417],[oe.RSS_14,Je.BarcodeFormat.RSS_14],[oe.RSS_EXPANDED,Je.BarcodeFormat.RSS_EXPANDED],[oe.UPC_A,Je.BarcodeFormat.UPC_A],[oe.UPC_E,Je.BarcodeFormat.UPC_E],[oe.UPC_EAN_EXTENSION,Je.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!z3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=s;var l=this.createZXingFormats(t),u=new Map;u.set(Je.DecodeHintType.POSSIBLE_FORMATS,l),u.set(Je.DecodeHintType.TRY_HARDER,!1),this.hints=u}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(s,l){try{s(r.decode(t))}catch(u){l(u)}})},e.prototype.decode=function(t){var r=new Je.MultiFormatReader(this.verbose,this.hints),s=new Je.HTMLCanvasElementLuminanceSource(t),l=new Je.BinaryBitmap(new Je.HybridBinarizer(s)),u=r.decode(l);return{text:u.text,format:Rp.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var u=l[s];this.formatMap.has(u)?r.push(this.formatMap.get(u)):this.logger.logError("".concat(u," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),H3=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},V3=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},cd=function(){function e(t,r,s){if(this.formatMap=new Map([[oe.QR_CODE,"qr_code"],[oe.AZTEC,"aztec"],[oe.CODABAR,"codabar"],[oe.CODE_39,"code_39"],[oe.CODE_93,"code_93"],[oe.CODE_128,"code_128"],[oe.DATA_MATRIX,"data_matrix"],[oe.ITF,"itf"],[oe.EAN_13,"ean_13"],[oe.EAN_8,"ean_8"],[oe.PDF_417,"pdf417"],[oe.UPC_A,"upc_a"],[oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=s;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return H3(this,void 0,void 0,function(){var r,s;return V3(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(r),[2,{text:s.rawValue,format:Rp.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,s=0,l=0,u=t;l<u.length;l++){var h=u[l],w=h.boundingBox.width*h.boundingBox.height;w>s&&(s=w,r=h)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],s=0,l=t;s<l.length;s++){var u=l[s];this.formatMap.has(u)?r.push(this.formatMap.get(u)):this.logger.warn("".concat(u," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,s,l){t.set(r,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ud=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},fd=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},W3=function(){function e(t,r,s,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,r&&cd.isSupported()?(this.primaryDecoder=new cd(t,s,l),this.secondaryDecoder=new ld(t,s,l)):this.primaryDecoder=new ld(t,s,l)}return e.prototype.decodeAsync=function(t){return ud(this,void 0,void 0,function(){var r;return fd(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return ud(this,void 0,void 0,function(){var r,s;return fd(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(s=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,s=this.executionResults;r<s.length;r++){var l=s[r];t+=l}var u=t/this.executionResults.length;console.log("".concat(u," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Jf=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ol=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},sl=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},kp=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),G3=function(e){Jf(t,e);function t(r,s){return e.call(this,r,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var s={};s[this.name]=r;var l={advanced:[s]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),s=r[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(kp),Y3=function(e){Jf(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(G3),X3=function(e){Jf(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(kp),Q3=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Y3(this.track)},e.prototype.torchFeature=function(){return new X3(this.track)},e}(),Z3=function(){function e(t,r,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var s=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,s,l){return ol(this,void 0,void 0,function(){var u,h;return sl(this,function(w){switch(w.label){case 0:return u=new e(t,r,l),s.aspectRatio?(h={aspectRatio:s.aspectRatio},[4,u.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:w.sent(),w.label=2;case 2:return u.setupSurface(),[2,u]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,s=function(){setTimeout(t,200),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ol(this,void 0,void 0,function(){return sl(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,s){var l=t.mediaStream.getVideoTracks(),u=l.length,h=0;t.mediaStream.getVideoTracks().forEach(function(w){t.mediaStream.removeTrack(w),w.stop(),++h,h>=u&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new Q3(this.getFirstTrackOrFail())},e}(),K3=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,s){return ol(this,void 0,void 0,function(){return sl(this,function(l){return[2,Z3.create(t,this.mediaStream,r,s)]})})},e.create=function(t){return ol(this,void 0,void 0,function(){var r,s;return sl(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return s=l.sent(),[2,new e(s)]}})})},e}(),dd=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},hd=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},q3=function(){function e(){}return e.failIfNotSupported=function(){return dd(this,void 0,void 0,function(){return hd(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return dd(this,void 0,void 0,function(){return hd(this,function(r){return[2,K3.create(t)]})})},e}(),J3=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},$3=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},eC=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=eo.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=eo.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return J3(this,void 0,void 0,function(){var t,r,s,l,u,h,w;return $3(this,function(m){switch(m.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),C=0,I=y;C<I.length;C++){var R=I[C];R.enabled=!1,R.stop(),p.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=m.sent(),l=[],u=0,h=s;u<h.length;u++)w=h[u],w.kind==="videoinput"&&l.push({id:w.deviceId,label:w.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var s=function(u){for(var h=[],w=0,m=u;w<m.length;w++){var p=m[w];p.kind==="video"&&h.push({id:p.id,label:p.label})}t(h)},l=MediaStreamTrack;l.getSources(s)})},e}(),ut;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ut||(ut={}));var tC=function(){function e(){this.state=ut.NOT_STARTED,this.onGoingTransactionNewState=ut.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ut.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ut.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ut.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ut.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ut.UNKNOWN:throw"Transition from unknown is not allowed";case ut.NOT_STARTED:this.failIfNewStateIs(t,[ut.PAUSED]);break;case ut.SCANNING:break;case ut.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var s=0,l=r;s<l.length;s++){var u=l[s];if(t===u)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),nC=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ut.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ut.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ut.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ut.PAUSED},e}(),rC=function(){function e(){}return e.create=function(){return new nC(new tC)},e}(),iC=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function s(){this.constructor=t}t.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),fn=function(e){iC(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Bn),oC=function(){function e(t,r){this.logger=r,this.fps=fn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=fn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Lp.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!tr(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),gd=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof r=="boolean"?this.verbose=r===!0:r&&(s=r,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new Dp(this.verbose),this.qrcode=new W3(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rC.create()}return e.prototype.start=function(t,r,s,l){var u=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;l?h=l:h=this.verbose?this.logger.log:function(){};var w=oC.create(r,this.logger);this.clearElement();var m=!1;w.videoConstraints&&(w.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:fn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var C=this,I=this.stateManagerProxy.startTransition(ut.SCANNING);return new Promise(function(R,M){var D=p?w.videoConstraints:C.createVideoConstraints(t);if(!D){I.cancel(),M("videoConstraints should be defined");return}var k={};(!p||w.aspectRatio)&&(k.aspectRatio=w.aspectRatio);var O={onRenderSurfaceReady:function(T,N){C.setupUi(T,N,w),C.isScanning=!0,C.foreverScan(w,s,h)}};q3.failIfNotSupported().then(function(T){T.create(D).then(function(N){return N.render(u.element,k,O).then(function(F){C.renderedCamera=F,I.execute(),R(null)}).catch(function(F){I.cancel(),M(F)})}).catch(function(N){I.cancel(),M(eo.errorGettingUserMedia(N))})}).catch(function(T){I.cancel(),M(eo.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ut.PAUSED),this.showPausedState(),(tr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(ut.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ut.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var u=document.getElementById(fn.SHADED_REGION_ELEMENT_ID);u&&t.element.removeChild(u)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),s(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,r){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tr(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,u){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var w=h.width,m=h.height,p=document.getElementById(s.elementId),y=p.clientWidth?p.clientWidth:fn.DEFAULT_WIDTH,C=Math.max(p.clientHeight?p.clientHeight:m,fn.FILE_SCAN_MIN_HEIGHT),I=s.computeCanvasDrawConfig(w,m,y,C);if(r){var R=s.createCanvasElement(y,C,"qr-canvas-visible");R.style.display="inline-block",p.appendChild(R);var M=R.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=y,M.canvas.height=C,M.drawImage(h,0,0,w,m,I.x,I.y,I.width,I.height)}var D=fn.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(h.width,I.width),O=Math.max(h.height,I.height),T=k+2*D,N=O+2*D,F=s.createCanvasElement(T,N);p.appendChild(F);var X=F.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=T,X.canvas.height=N,X.drawImage(h,0,0,w,m,D,D,k,O);try{s.qrcode.decodeRobustlyAsync(F).then(function(Z){l(sd.createFromQrcodeResult(Z))}).catch(u)}catch(Z){u("QR code parse error, error = ".concat(Z))}},h.onerror=u,h.onabort=u,h.onstalled=u,h.onsuspend=u,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return eC.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Lp.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[oe.QR_CODE,oe.AZTEC,oe.CODABAR,oe.CODE_39,oe.CODE_93,oe.CODE_128,oe.DATA_MATRIX,oe.MAXICODE,oe.ITF,oe.EAN_13,oe.EAN_8,oe.PDF_417,oe.RSS_14,oe.RSS_EXPANDED,oe.UPC_A,oe.UPC_E,oe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],l=0,u=t.formatsToSupport;l<u.length;l++){var h=u[l];F3(h)?s.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(tr(t))return!0;if(!tr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(tr(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return tr(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,s){var l=this,u=s.qrbox;this.validateQrboxConfig(u);var h=this.toQrdimensions(t,r,u),w=function(p){if(p<fn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fn.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};w(h.width),w(h.height),h.width=m(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return s},e.prototype.setupUi=function(t,r,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,s);var l=tr(s.qrbox)?{width:t,height:r}:s.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(t,r,l);u.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=s.isShadedBoxEnabled()&&u.height<=r,w={x:0,y:0,width:t,height:r},m=h?this.getShadedRegionBounds(t,r,u):w,p=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},C=p.getContext("2d",y);C.canvas.width=m.width,C.canvas.height=m.height,this.element.append(p),h&&this.possiblyInsertShadingElement(this.element,t,r,u),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=C,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=eo.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,sd.createFromQrcodeResult(l)),s.possiblyUpdateShaders(!0),!0}).catch(function(l){s.possiblyUpdateShaders(!1);var u=eo.codeParseError(l);return r(u,Mp.createFrom(u)),!1})},e.prototype.foreverScan=function(t,r,s){var l=this;if(this.shouldScan&&this.renderedCamera){var u=this.renderedCamera.getSurface(),h=u.videoWidth/u.clientWidth,w=u.videoHeight/u.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*h,p=this.qrRegion.height*w,y=this.qrRegion.x*h,C=this.qrRegion.y*w;this.context.drawImage(u,y,C,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,s)},l.getTimeoutFps(t.fps))};this.scanContext(r,s).then(function(R){!R&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,s).finally(function(){I()})):I()}).catch(function(R){l.logger.logError("Error happend while scanning context",R),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",s="deviceId",l={user:!0,environment:!0},u="exact",h=function(M){if(M in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(M,"'")},w=Object.keys(t);if(w.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(w.length," keys");var m=Object.keys(t)[0];if(m!==r&&m!==s)throw"Only '".concat(r,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var p=t.facingMode;if(typeof p=="string"){if(h(p))return{facingMode:p}}else if(typeof p=="object")if(u in p){if(h(p["".concat(u)]))return{facingMode:{exact:p["".concat(u)]}}}else throw"'facingMode' should be string or object with"+" ".concat(u," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(u in C)return{deviceId:{exact:C["".concat(u)]}};throw"'deviceId' should be string or object with"+" ".concat(u," as key.")}else{var I=typeof C;throw"Invalid type of 'deviceId' = ".concat(I)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,r,s,l){if(t<=s&&r<=l){var u=(s-t)/2,h=(l-r)/2;return{x:u,y:h,width:t,height:r}}else{var w=t,m=r;return t>s&&(r=s/t*r,t=s),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(w,"X").concat(m)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,s,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?fn.BORDER_SHADER_MATCH_COLOR:fn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,s){var l=t,u=r,h=document.createElement("canvas");return h.style.width="".concat(l,"px"),h.style.height="".concat(u,"px"),h.style.display="none",h.id=tr(s)?"qr-canvas":s,h},e.prototype.getShadedRegionBounds=function(t,r,s){if(s.width>t||s.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(r-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,r,s,l){if(!(r-l.width<1||s-l.height<1)){var u=document.createElement("div");u.style.position="absolute";var h=(r-l.width)/2,w=(s-l.height)/2;if(u.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderTop="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.borderBottom="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),u.style.boxSizing="border-box",u.style.top="0px",u.style.bottom="0px",u.style.left="0px",u.style.right="0px",u.id="".concat(fn.SHADED_REGION_ELEMENT_ID),r-l.width<11||s-l.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(u,p,m,-m,null,0,!0),this.insertShaderBorders(u,p,m,-m,null,0,!1),this.insertShaderBorders(u,p,m,null,-m,0,!0),this.insertShaderBorders(u,p,m,null,-m,0,!1),this.insertShaderBorders(u,m,p+m,-m,null,-m,!0),this.insertShaderBorders(u,m,p+m,null,-m,-m,!0),this.insertShaderBorders(u,m,p+m,-m,null,-m,!1),this.insertShaderBorders(u,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(u)}},e.prototype.insertShaderBorders=function(t,r,s,l,u,h,w){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=fn.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(s,"px"),l!==null&&(m.style.top="".concat(l,"px")),u!==null&&(m.style.bottom="".concat(u,"px")),w?m.style.left="".concat(h,"px"):m.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),$f="data:image/svg+xml;base64,",sC=$f+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",aC=$f+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",pd=$f+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",lC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",md=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),cC=function(){function e(){this.data=md.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=md.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),uC=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ad.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var s=document.createElement("br"),l=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(l);var u=document.createElement("a");u.innerText=ad.reportIssues(),u.href="https://github.com/mebjas/html5-qrcode/issues",u.target="new",u.style.color="white",this.infoDiv.appendChild(u),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),fC=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=pd,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return r.onHoverIn()},this.infoIcon.onmouseout=function(s){return r.onHoverOut()},this.infoIcon.onclick=function(s){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=lC,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=pd,this.infoIcon.style.opacity="0.6")},e}(),dC=function(){function e(){var t=this;this.infoDiv=new uC,this.infoIcon=new fC(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),hC=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},gC=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},xd=function(){function e(){}return e.hasPermissions=function(){return hC(this,void 0,void 0,function(){var t,r,s,l;return gC(this,function(u){switch(u.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=u.sent(),r=0,s=t;r<s.length;r++)if(l=s[r],l.kind==="videoinput"&&l.label)return[2,!0];return[2,!1]}})})},e}(),Or=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var s=r[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===Kr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Kr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Bn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Bn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var s=0,l=t;s<l.length;s++){var u=l[s];if(!Bn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(u))throw"Unsupported scan type ".concat(u)}return t},e}(),gn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),dr=function(){function e(){}return e.createElement=function(t,r){var s=document.createElement(t);return s.id=r,s.classList.add(gn.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}(),Pp=globalThis&&globalThis.__awaiter||function(e,t,r,s){function l(u){return u instanceof r?u:new r(function(h){h(u)})}return new(r||(r=Promise))(function(u,h){function w(y){try{p(s.next(y))}catch(C){h(C)}}function m(y){try{p(s.throw(y))}catch(C){h(C)}}function p(y){y.done?u(y.value):l(y.value).then(w,m)}p((s=s.apply(e,t||[])).next())})},Bp=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,h;return h={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function w(p){return function(y){return m([p,y])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(r=0)),r;)try{if(s=1,l&&(u=p[0]&2?l.return:p[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,p[1])).done)return u;switch(l=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,l=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){r.label=p[1];break}if(p[0]===6&&r.label<u[1]){r.label=u[1],u=p;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(p);break}u[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(y){p=[6,y],l=0}finally{s=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},wd=function(){function e(t,r,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Pp(this,void 0,void 0,function(){var t,r;return Bp(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=s.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Fe.torchOffButton():Fe.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var s=t?Fe.torchOnFailedMessage():Fe.torchOffFailedMessage();r&&(s+="; Error = "+r),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),pC=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=dr.createElement("button",gn.TORCH_BUTTON_ID),this.torchController=new wd(t,this,r)}return e.prototype.render=function(t,r){var s=this;this.torchButton.innerText=Fe.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var l=this;this.torchButton.addEventListener("click",function(u){return Pp(s,void 0,void 0,function(){return Bp(this,function(h){switch(h.label){case 0:return[4,l.torchController.flipState()];case 1:return h.sent(),l.torchController.isTorchEnabled()?(l.torchButton.classList.remove(gn.TORCH_BUTTON_CLASS_TORCH_OFF),l.torchButton.classList.add(gn.TORCH_BUTTON_CLASS_TORCH_ON)):(l.torchButton.classList.remove(gn.TORCH_BUTTON_CLASS_TORCH_ON),l.torchButton.classList.add(gn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new wd(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Fe.torchOnButton(),this.torchController.reset()},e.create=function(t,r,s,l){var u=new e(r,l);return u.render(t,s),u},e}(),mC=function(){function e(t,r,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var l=document.createElement("label");l.setAttribute("for",this.getFileScanInputId()),l.style.display="inline-block",this.fileBasedScanRegion.appendChild(l),this.fileSelectionButton=dr.createElement("button",gn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(w){l.click()}),l.append(this.fileSelectionButton),this.fileScanInput=dr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",l.appendChild(this.fileScanInput);var u=this;this.fileScanInput.addEventListener("change",function(w){if(!(w==null||w.target==null)){var m=w.target;if(!(m.files&&m.files.length===0)){var p=m.files,y=p[0],C=y.name;u.setImageNameToButton(C),s(y)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(w){u.fileBasedScanRegion.style.border=u.fileBasedScanRegionActiveBorder(),w.stopPropagation(),w.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(w){w.stopPropagation(),w.preventDefault(),u.fileBasedScanRegion.style.border=u.fileBasedScanRegionDefaultBorder();var m=w.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var y=!1,C=0;C<p.length;++C){var I=p.item(C);if(I){var R=/image.*/;if(I.type.match(R)){y=!0;var M=I.name;u.setImageNameToButton(M),s(I),h.innerText=Fe.dragAndDropMessage();break}}}y||(h.innerText=Fe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Fe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var s=t.substring(0,8),l=t.length,u=t.substring(l-8,l);t="".concat(s,"....").concat(u)}var h=Fe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=Fe.fileSelectionChooseImage()+" - "+Fe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,s){var l=new e(t,r,s);return l},e}(),xC=function(){function e(t){this.selectElement=dr.createElement("select",gn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)r.style.display="none";else{var l=Fe.selectCamera();r.innerText="".concat(l," (").concat(this.cameras.length,")  ")}for(var u=1,h=0,w=this.cameras;h<w.length;h++){var m=w[h],p=m.id,y=m.label==null?p:m.label;(!y||y==="")&&(y=[Fe.anonymousCameraPrefix(),u++].join(" "));var C=document.createElement("option");C.value=p,C.innerText=y,this.options.push(C),this.selectElement.appendChild(C)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,s=this.options;r<s.length;r++){var l=s[r];if(l.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var s=new e(r);return s.render(t),s},e}(),wC=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=dr.createElement("input",gn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=Fe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var l=this;this.rangeInput.addEventListener("input",function(){return l.onValueChange()}),this.rangeInput.addEventListener("change",function(){return l.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Fe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,s,l){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=l.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var s=new e;return s.render(t,r),s},e}(),dn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(dn||(dn={}));function yC(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function EC(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var CC=function(){function e(t,r,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Or(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Dp(this.verbose),this.persistedDataManager=new cC,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(u,h){if(t)t(u,h);else{if(s.lastMatchFound===u)return;s.lastMatchFound=u,s.setHeaderMessage(Fe.lastMatch(u),dn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(u,h){r&&r(u,h)};var l=document.getElementById(this.elementId);if(!l)throw"HTML Element with id=".concat(this.elementId," not found");l.innerHTML="",this.createBasicLayout(l),this.html5Qrcode=new gd(this.getScanRegionId(),EC(this.config,this.verbose))},e.prototype.pause=function(t){(tr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,l){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(u){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),r(),s()}).catch(function(u){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",u),l(u)}):(t.html5Qrcode.clear(),r(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Bn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Bn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Bn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Bn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Bn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),s=this.getScanRegionId();r.id=s,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Or.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var l=document.createElement("div"),u=this.getDashboardId();l.id=u,l.style.width="100%",t.appendChild(l),this.setupInitialDashboard(l)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var s=new dC;s.renderInto(r);var l=document.createElement("div");l.id=this.getHeaderMessageContainerId(),l.style.display="none",l.style.textAlign="center",l.style.fontSize="14px",l.style.padding="2px 10px",l.style.margin="4px",l.style.borderTop="1px solid #f6f6f6",r.appendChild(l)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,s){var l=this;l.showHideScanTypeSwapLink(!1),l.setHeaderMessage(Fe.cameraPermissionRequesting());var u=function(){s||l.createPermissionButton(t,r)};gd.getCameras().then(function(h){l.persistedDataManager.setHasPermission(!0),l.showHideScanTypeSwapLink(!0),l.resetHeaderMessage(),h&&h.length>0?(t.removeChild(r),l.renderCameraSelection(h)):(l.setHeaderMessage(Fe.noCameraFound(),dn.STATUS_WARNING),u())}).catch(function(h){l.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:u(),l.setHeaderMessage(h,dn.STATUS_WARNING),l.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var s=this,l=dr.createElement("button",this.getCameraPermissionButtonId());l.innerText=Fe.cameraPermissionTitle(),l.addEventListener("click",function(){l.disabled=!0,s.createCameraListUi(t,r,l)}),r.appendChild(l)},e.prototype.createPermissionsUi=function(t,r){var s=this;if(Or.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){xd.hasPermissions().then(function(l){l?s.createCameraListUi(t,r):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r))}).catch(function(l){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Or.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(s);var l=document.createElement("div");l.style.textAlign="center",s.appendChild(l),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,l),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Or.isFileScanType(this.currentScanType),s=this,l=function(u){if(!s.html5Qrcode)throw"html5Qrcode not defined";Or.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(Fe.loadingImage()),s.html5Qrcode.scanFileV2(u,!0).then(function(h){s.resetHeaderMessage(),s.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){s.setHeaderMessage(h,dn.STATUS_WARNING),s.qrCodeErrorCallback(h,Mp.createFrom(h))}))};this.fileSelectionUi=mC.create(t,r,l)},e.prototype.renderCameraSelection=function(t){var r=this,s=this,l=document.getElementById(this.getDashboardSectionCameraScanRegionId());l.style.textAlign="center";var u=wC.create(l,!1),h=function(D){var k=D.zoomFeature();if(k.isSupported()){u.setOnCameraZoomValueChangeCallback(function(T){k.apply(T)});var O=1;r.config.defaultZoomValueIfSupported&&(O=r.config.defaultZoomValueIfSupported),O=U3(O,k.min(),k.max()),u.setValues(k.min(),k.max(),O,k.step()),u.show()}},w=xC.create(l,t),m=document.createElement("span"),p=dr.createElement("button",gn.CAMERA_START_BUTTON_ID);p.innerText=Fe.scanButtonStartScanningText(),m.appendChild(p);var y=dr.createElement("button",gn.CAMERA_STOP_BUTTON_ID);y.innerText=Fe.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,m.appendChild(y);var C,I=function(D){if(!D.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(D.torchFeature()):C=pC.create(m,D.torchFeature(),{display:"none",marginLeft:"5px"},function(k){s.setHeaderMessage(k,dn.STATUS_WARNING)}),C.show()};l.appendChild(m);var R=function(D){D||(p.style.display="none"),p.innerText=Fe.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,D&&(p.style.display="inline-block")};if(p.addEventListener("click",function(D){p.innerText=Fe.scanButtonScanningStarting(),w.disable(),p.disabled=!0,p.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var k=w.getValue();s.persistedDataManager.setLastUsedCameraId(k),s.html5Qrcode.start(k,yC(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(O){y.disabled=!1,y.style.display="inline-block",R(!1);var T=s.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&I(T),r.config.showZoomSliderIfSupported===!0&&h(T)}).catch(function(O){s.showHideScanTypeSwapLink(!0),w.enable(),R(!0),s.setHeaderMessage(O,dn.STATUS_WARNING)})}),w.hasSingleItem()&&p.click(),y.addEventListener("click",function(D){if(!s.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,s.html5Qrcode.stop().then(function(k){r.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),w.enable(),p.disabled=!1,y.style.display="none",p.style.display="inline-block",C&&(C.reset(),C.hide()),u.removeOnCameraZoomValueChangeCallback(),u.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(k){y.disabled=!1,s.setHeaderMessage(k,dn.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var M=s.persistedDataManager.getLastUsedCameraId();w.hasValue(M)?(w.setValue(M),p.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Fe.textIfCameraScanSelected(),s=Fe.textIfFileScanSelected(),l=document.getElementById(this.getDashboardSectionId()),u=document.createElement("div");u.style.textAlign="center";var h=dr.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=Or.isCameraScanType(this.currentScanType)?r:s,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Or.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=s,t.currentScanType=Kr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=r,t.currentScanType=Kr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),u.appendChild(h),l.appendChild(u)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){xd.hasPermissions().then(function(s){if(s){var l=document.getElementById(r.getCameraPermissionButtonId());if(!l)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";l.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(s){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=dn.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",r){case dn.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case dn.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case dn.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=sC,this.cameraScanImage.alt=Fe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=aC,this.fileScanImage.alt=Fe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return gn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return gn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const AC=()=>{const[e,t]=q.useState(null),[r,s]=q.useState(null),l=Ni(),{profileImg:u}=l.state||{};return q.useEffect(()=>{const h=new CC("reader",{fps:10,qrbox:{width:250,height:250}},!1);return h.render(w=>{s(null);try{const p=JSON.parse(w).time;t(p)}catch{s("Invalid QR code data format."),t(null)}},()=>{s("Unable to scan the QR code. Try again.")}),()=>{h.clear().catch(w=>{console.error("Failed to clear scanner:",w)})}},[]),B.jsxs(B.Fragment,{children:[B.jsx(Oi,{profileImgUrl:u,admin:!1}),B.jsxs("div",{className:"mt-10",style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",height:"100vh",width:"100%",padding:"10px",backgroundColor:"#f8f8f8",boxSizing:"border-box"},children:[B.jsx("h1",{style:{margin:"10px 0",fontSize:"30px",textAlign:"center",color:"#000"},children:"QR Code Scanner"}),B.jsx("div",{id:"reader",style:{width:"100%",maxWidth:"350px",aspectRatio:"1",backgroundColor:"#fff",borderRadius:"8px"}}),B.jsx("div",{style:{marginTop:"20px",padding:"20px",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)",textAlign:"center",wordBreak:"break-word",width:"100%",maxWidth:"350px"},children:e?B.jsxs(B.Fragment,{children:[B.jsx("h2",{style:{fontSize:"24px",color:"#000",marginBottom:"10px"},children:"Scanned Data:"}),B.jsx("p",{style:{fontSize:"20px",color:"#000"},children:e})]}):r?B.jsx("p",{style:{fontSize:"18px",color:"red"},children:r}):B.jsx("p",{style:{fontSize:"18px",color:"#999"},children:"No data scanned yet."})})]})]})};function SC(){return B.jsx(B.Fragment,{children:B.jsx(zw,{clientId:{}.VITE_GOOGLE_CLIENT_ID,children:B.jsxs(Ow,{children:[B.jsx(un,{path:"/",element:B.jsx(F0,{})}),B.jsx(un,{path:"/UserLogin",element:B.jsx(F0,{})}),B.jsx(un,{path:"/RegisterUser",element:B.jsx($w,{})}),B.jsx(un,{path:"/Dashboard",element:B.jsx(Kw,{})}),B.jsx(un,{path:"/UploadImg",element:B.jsx(LE,{})}),B.jsx(un,{path:"/event/:id",element:B.jsx(qw,{})}),B.jsx(un,{path:"/rsvp",element:B.jsx(kE,{})}),B.jsx(un,{path:"/AdminLogin",element:B.jsx(PE,{})}),B.jsx(un,{path:"/AdminDashboard",element:B.jsx(BE,{})}),B.jsx(un,{path:"/admin-event/:id",element:B.jsx(FE,{})}),B.jsx(un,{path:"/qr-generator/:id",element:B.jsx(B3,{})}),B.jsx(un,{path:"/qr-reader/:id",element:B.jsx(AC,{})})]})})})}Dg(document.getElementById("root")).render(B.jsx(q.StrictMode,{children:B.jsx(Pw,{children:B.jsx(SC,{})})}));
